{
  "version": 3,
  "sources": ["../../zrender/lib/zrender.js", "../../zrender/lib/mixin/Draggable.js", "../../zrender/lib/core/event.js", "../../zrender/lib/core/GestureMgr.js", "../../zrender/lib/Handler.js", "../../zrender/lib/core/timsort.js", "../../zrender/lib/Storage.js", "../../zrender/lib/animation/requestAnimationFrame.js", "../../zrender/lib/animation/Animation.js", "../../zrender/lib/dom/HandlerProxy.js", "../../echarts/lib/util/component.js", "../../echarts/lib/model/Component.js", "../../echarts/lib/model/mixin/palette.js", "../../echarts/lib/data/helper/dataProvider.js", "../../echarts/lib/model/mixin/dataFormat.js", "../../echarts/lib/core/task.js", "../../echarts/lib/data/helper/dataValueHelper.js", "../../echarts/lib/data/helper/transform.js", "../../echarts/lib/data/DataStore.js", "../../echarts/lib/data/helper/sourceManager.js", "../../echarts/lib/component/tooltip/tooltipMarkup.js", "../../echarts/lib/component/tooltip/seriesFormatTooltip.js", "../../echarts/lib/model/Series.js", "../../echarts/lib/view/Component.js", "../../echarts/lib/view/Chart.js", "../../echarts/lib/util/throttle.js", "../../zrender/lib/canvas/helper.js", "../../zrender/lib/canvas/dashStyle.js", "../../zrender/lib/canvas/graphic.js", "../../echarts/lib/model/globalDefault.js", "../../echarts/lib/model/internalComponentCreator.js", "../../echarts/lib/model/Global.js", "../../echarts/lib/core/ExtensionAPI.js", "../../echarts/lib/core/CoordinateSystem.js", "../../echarts/lib/model/OptionManager.js", "../../echarts/lib/preprocessor/helper/compatStyle.js", "../../echarts/lib/preprocessor/backwardCompat.js", "../../echarts/lib/processor/dataStack.js", "../../echarts/lib/visual/style.js", "../../echarts/lib/loading/default.js", "../../echarts/lib/core/Scheduler.js", "../../echarts/lib/theme/light.js", "../../echarts/lib/theme/dark.js", "../../echarts/lib/util/ECEventProcessor.js", "../../echarts/lib/visual/symbol.js", "../../echarts/lib/visual/helper.js", "../../echarts/lib/legacy/dataSelectAction.js", "../../echarts/lib/util/event.js", "../../zrender/lib/core/WeakMap.js", "../../echarts/lib/util/symbol.js", "../../echarts/lib/util/decal.js", "../../echarts/lib/visual/decal.js", "../../echarts/lib/core/lifecycle.js", "../../echarts/lib/core/impl.js", "../../echarts/lib/core/echarts.js", "../../echarts/lib/extension.js"],
  "sourcesContent": ["/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\nimport env from './core/env.js';\nimport * as zrUtil from './core/util.js';\nimport Handler from './Handler.js';\nimport Storage from './Storage.js';\nimport Animation, { getTime } from './animation/Animation.js';\nimport HandlerProxy from './dom/HandlerProxy.js';\nimport { lum } from './tool/color.js';\nimport { DARK_MODE_THRESHOLD } from './config.js';\nimport Group from './graphic/Group.js';\nvar painterCtors = {};\nvar instances = {};\nfunction delInstance(id) {\n    delete instances[id];\n}\nfunction isDarkMode(backgroundColor) {\n    if (!backgroundColor) {\n        return false;\n    }\n    if (typeof backgroundColor === 'string') {\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\n    }\n    else if (backgroundColor.colorStops) {\n        var colorStops = backgroundColor.colorStops;\n        var totalLum = 0;\n        var len = colorStops.length;\n        for (var i = 0; i < len; i++) {\n            totalLum += lum(colorStops[i].color, 1);\n        }\n        totalLum /= len;\n        return totalLum < DARK_MODE_THRESHOLD;\n    }\n    return false;\n}\nvar ZRender = (function () {\n    function ZRender(id, dom, opts) {\n        var _this = this;\n        this._sleepAfterStill = 10;\n        this._stillFrameAccum = 0;\n        this._needsRefresh = true;\n        this._needsRefreshHover = true;\n        this._darkMode = false;\n        opts = opts || {};\n        this.dom = dom;\n        this.id = id;\n        var storage = new Storage();\n        var rendererType = opts.renderer || 'canvas';\n        if (!painterCtors[rendererType]) {\n            rendererType = zrUtil.keys(painterCtors)[0];\n        }\n        if (process.env.NODE_ENV !== 'production') {\n            if (!painterCtors[rendererType]) {\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\n            }\n        }\n        opts.useDirtyRect = opts.useDirtyRect == null\n            ? false\n            : opts.useDirtyRect;\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\n        var ssrMode = opts.ssr || painter.ssrOnly;\n        this.storage = storage;\n        this.painter = painter;\n        var handlerProxy = (!env.node && !env.worker && !ssrMode)\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\n            : null;\n        var useCoarsePointer = opts.useCoarsePointer;\n        var usePointerSize = (useCoarsePointer == null || useCoarsePointer === 'auto')\n            ? env.touchEventsSupported\n            : !!useCoarsePointer;\n        var defaultPointerSize = 44;\n        var pointerSize;\n        if (usePointerSize) {\n            pointerSize = zrUtil.retrieve2(opts.pointerSize, defaultPointerSize);\n        }\n        this.handler = new Handler(storage, painter, handlerProxy, painter.root, pointerSize);\n        this.animation = new Animation({\n            stage: {\n                update: ssrMode ? null : function () { return _this._flush(true); }\n            }\n        });\n        if (!ssrMode) {\n            this.animation.start();\n        }\n    }\n    ZRender.prototype.add = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.addRoot(el);\n        el.addSelfToZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.remove = function (el) {\n        if (this._disposed || !el) {\n            return;\n        }\n        this.storage.delRoot(el);\n        el.removeSelfFromZr(this);\n        this.refresh();\n    };\n    ZRender.prototype.configLayer = function (zLevel, config) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.configLayer) {\n            this.painter.configLayer(zLevel, config);\n        }\n        this.refresh();\n    };\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\n        if (this._disposed) {\n            return;\n        }\n        if (this.painter.setBackgroundColor) {\n            this.painter.setBackgroundColor(backgroundColor);\n        }\n        this.refresh();\n        this._backgroundColor = backgroundColor;\n        this._darkMode = isDarkMode(backgroundColor);\n    };\n    ZRender.prototype.getBackgroundColor = function () {\n        return this._backgroundColor;\n    };\n    ZRender.prototype.setDarkMode = function (darkMode) {\n        this._darkMode = darkMode;\n    };\n    ZRender.prototype.isDarkMode = function () {\n        return this._darkMode;\n    };\n    ZRender.prototype.refreshImmediately = function (fromInside) {\n        if (this._disposed) {\n            return;\n        }\n        if (!fromInside) {\n            this.animation.update(true);\n        }\n        this._needsRefresh = false;\n        this.painter.refresh();\n        this._needsRefresh = false;\n    };\n    ZRender.prototype.refresh = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefresh = true;\n        this.animation.start();\n    };\n    ZRender.prototype.flush = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._flush(false);\n    };\n    ZRender.prototype._flush = function (fromInside) {\n        var triggerRendered;\n        var start = getTime();\n        if (this._needsRefresh) {\n            triggerRendered = true;\n            this.refreshImmediately(fromInside);\n        }\n        if (this._needsRefreshHover) {\n            triggerRendered = true;\n            this.refreshHoverImmediately();\n        }\n        var end = getTime();\n        if (triggerRendered) {\n            this._stillFrameAccum = 0;\n            this.trigger('rendered', {\n                elapsedTime: end - start\n            });\n        }\n        else if (this._sleepAfterStill > 0) {\n            this._stillFrameAccum++;\n            if (this._stillFrameAccum > this._sleepAfterStill) {\n                this.animation.stop();\n            }\n        }\n    };\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\n        this._sleepAfterStill = stillFramesCount;\n    };\n    ZRender.prototype.wakeUp = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.start();\n        this._stillFrameAccum = 0;\n    };\n    ZRender.prototype.refreshHover = function () {\n        this._needsRefreshHover = true;\n    };\n    ZRender.prototype.refreshHoverImmediately = function () {\n        if (this._disposed) {\n            return;\n        }\n        this._needsRefreshHover = false;\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\n            this.painter.refreshHover();\n        }\n    };\n    ZRender.prototype.resize = function (opts) {\n        if (this._disposed) {\n            return;\n        }\n        opts = opts || {};\n        this.painter.resize(opts.width, opts.height);\n        this.handler.resize();\n    };\n    ZRender.prototype.clearAnimation = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.clear();\n    };\n    ZRender.prototype.getWidth = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getWidth();\n    };\n    ZRender.prototype.getHeight = function () {\n        if (this._disposed) {\n            return;\n        }\n        return this.painter.getHeight();\n    };\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.setCursorStyle(cursorStyle);\n    };\n    ZRender.prototype.findHover = function (x, y) {\n        if (this._disposed) {\n            return;\n        }\n        return this.handler.findHover(x, y);\n    };\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\n        if (!this._disposed) {\n            this.handler.on(eventName, eventHandler, context);\n        }\n        return this;\n    };\n    ZRender.prototype.off = function (eventName, eventHandler) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.off(eventName, eventHandler);\n    };\n    ZRender.prototype.trigger = function (eventName, event) {\n        if (this._disposed) {\n            return;\n        }\n        this.handler.trigger(eventName, event);\n    };\n    ZRender.prototype.clear = function () {\n        if (this._disposed) {\n            return;\n        }\n        var roots = this.storage.getRoots();\n        for (var i = 0; i < roots.length; i++) {\n            if (roots[i] instanceof Group) {\n                roots[i].removeSelfFromZr(this);\n            }\n        }\n        this.storage.delAllRoots();\n        this.painter.clear();\n    };\n    ZRender.prototype.dispose = function () {\n        if (this._disposed) {\n            return;\n        }\n        this.animation.stop();\n        this.clear();\n        this.storage.dispose();\n        this.painter.dispose();\n        this.handler.dispose();\n        this.animation =\n            this.storage =\n                this.painter =\n                    this.handler = null;\n        this._disposed = true;\n        delInstance(this.id);\n    };\n    return ZRender;\n}());\nexport function init(dom, opts) {\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\n    instances[zr.id] = zr;\n    return zr;\n}\nexport function dispose(zr) {\n    zr.dispose();\n}\nexport function disposeAll() {\n    for (var key in instances) {\n        if (instances.hasOwnProperty(key)) {\n            instances[key].dispose();\n        }\n    }\n    instances = {};\n}\nexport function getInstance(id) {\n    return instances[id];\n}\nexport function registerPainter(name, Ctor) {\n    painterCtors[name] = Ctor;\n}\nvar ssrDataGetter;\nexport function getElementSSRData(el) {\n    if (typeof ssrDataGetter === 'function') {\n        return ssrDataGetter(el);\n    }\n}\nexport function registerSSRDataGetter(getter) {\n    ssrDataGetter = getter;\n}\nexport var version = '5.6.1';\n;\n", "var Param = (function () {\n    function Param(target, e) {\n        this.target = target;\n        this.topTarget = e && e.topTarget;\n    }\n    return Param;\n}());\nvar Draggable = (function () {\n    function Draggable(handler) {\n        this.handler = handler;\n        handler.on('mousedown', this._dragStart, this);\n        handler.on('mousemove', this._drag, this);\n        handler.on('mouseup', this._dragEnd, this);\n    }\n    Draggable.prototype._dragStart = function (e) {\n        var draggingTarget = e.target;\n        while (draggingTarget && !draggingTarget.draggable) {\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\n        }\n        if (draggingTarget) {\n            this._draggingTarget = draggingTarget;\n            draggingTarget.dragging = true;\n            this._x = e.offsetX;\n            this._y = e.offsetY;\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\n        }\n    };\n    Draggable.prototype._drag = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            var x = e.offsetX;\n            var y = e.offsetY;\n            var dx = x - this._x;\n            var dy = y - this._y;\n            this._x = x;\n            this._y = y;\n            draggingTarget.drift(dx, dy, e);\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\n            var lastDropTarget = this._dropTarget;\n            this._dropTarget = dropTarget;\n            if (draggingTarget !== dropTarget) {\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\n                }\n                if (dropTarget && dropTarget !== lastDropTarget) {\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\n                }\n            }\n        }\n    };\n    Draggable.prototype._dragEnd = function (e) {\n        var draggingTarget = this._draggingTarget;\n        if (draggingTarget) {\n            draggingTarget.dragging = false;\n        }\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\n        if (this._dropTarget) {\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\n        }\n        this._draggingTarget = null;\n        this._dropTarget = null;\n    };\n    return Draggable;\n}());\nexport default Draggable;\n", "import Eventful from './Eventful.js';\nimport env from './env.js';\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar _calcOut = [];\nvar firefoxNotSupportOffsetXY = env.browser.firefox\n    && +env.browser.version.split('.')[0] < 39;\nexport function clientToLocal(el, e, out, calculate) {\n    out = out || {};\n    if (calculate) {\n        calculateZrXY(el, e, out);\n    }\n    else if (firefoxNotSupportOffsetXY\n        && e.layerX != null\n        && e.layerX !== e.offsetX) {\n        out.zrX = e.layerX;\n        out.zrY = e.layerY;\n    }\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n    }\n    else {\n        calculateZrXY(el, e, out);\n    }\n    return out;\n}\nfunction calculateZrXY(el, e, out) {\n    if (env.domSupported && el.getBoundingClientRect) {\n        var ex = e.clientX;\n        var ey = e.clientY;\n        if (isCanvasEl(el)) {\n            var box = el.getBoundingClientRect();\n            out.zrX = ex - box.left;\n            out.zrY = ey - box.top;\n            return;\n        }\n        else {\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\n                out.zrX = _calcOut[0];\n                out.zrY = _calcOut[1];\n                return;\n            }\n        }\n    }\n    out.zrX = out.zrY = 0;\n}\nexport function getNativeEvent(e) {\n    return e\n        || window.event;\n}\nexport function normalizeEvent(el, e, calculate) {\n    e = getNativeEvent(e);\n    if (e.zrX != null) {\n        return e;\n    }\n    var eventType = e.type;\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\n    if (!isTouch) {\n        clientToLocal(el, e, e, calculate);\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\n    }\n    else {\n        var touch = eventType !== 'touchend'\n            ? e.targetTouches[0]\n            : e.changedTouches[0];\n        touch && clientToLocal(el, touch, e, calculate);\n    }\n    var button = e.button;\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\n    }\n    return e;\n}\nfunction getWheelDeltaMayPolyfill(e) {\n    var rawWheelDelta = e.wheelDelta;\n    if (rawWheelDelta) {\n        return rawWheelDelta;\n    }\n    var deltaX = e.deltaX;\n    var deltaY = e.deltaY;\n    if (deltaX == null || deltaY == null) {\n        return rawWheelDelta;\n    }\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\n    var sign = deltaY > 0 ? -1\n        : deltaY < 0 ? 1\n            : deltaX > 0 ? -1\n                : 1;\n    return 3 * delta * sign;\n}\nexport function addEventListener(el, name, handler, opt) {\n    el.addEventListener(name, handler, opt);\n}\nexport function removeEventListener(el, name, handler, opt) {\n    el.removeEventListener(name, handler, opt);\n}\nexport var stop = function (e) {\n    e.preventDefault();\n    e.stopPropagation();\n    e.cancelBubble = true;\n};\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\n    return e.which === 2 || e.which === 3;\n}\nexport { Eventful as Dispatcher };\n", "import * as eventUtil from './event.js';\nvar GestureMgr = (function () {\n    function GestureMgr() {\n        this._track = [];\n    }\n    GestureMgr.prototype.recognize = function (event, target, root) {\n        this._doTrack(event, target, root);\n        return this._recognize(event);\n    };\n    GestureMgr.prototype.clear = function () {\n        this._track.length = 0;\n        return this;\n    };\n    GestureMgr.prototype._doTrack = function (event, target, root) {\n        var touches = event.touches;\n        if (!touches) {\n            return;\n        }\n        var trackItem = {\n            points: [],\n            touches: [],\n            target: target,\n            event: event\n        };\n        for (var i = 0, len = touches.length; i < len; i++) {\n            var touch = touches[i];\n            var pos = eventUtil.clientToLocal(root, touch, {});\n            trackItem.points.push([pos.zrX, pos.zrY]);\n            trackItem.touches.push(touch);\n        }\n        this._track.push(trackItem);\n    };\n    GestureMgr.prototype._recognize = function (event) {\n        for (var eventName in recognizers) {\n            if (recognizers.hasOwnProperty(eventName)) {\n                var gestureInfo = recognizers[eventName](this._track, event);\n                if (gestureInfo) {\n                    return gestureInfo;\n                }\n            }\n        }\n    };\n    return GestureMgr;\n}());\nexport { GestureMgr };\nfunction dist(pointPair) {\n    var dx = pointPair[1][0] - pointPair[0][0];\n    var dy = pointPair[1][1] - pointPair[0][1];\n    return Math.sqrt(dx * dx + dy * dy);\n}\nfunction center(pointPair) {\n    return [\n        (pointPair[0][0] + pointPair[1][0]) / 2,\n        (pointPair[0][1] + pointPair[1][1]) / 2\n    ];\n}\nvar recognizers = {\n    pinch: function (tracks, event) {\n        var trackLen = tracks.length;\n        if (!trackLen) {\n            return;\n        }\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\n        if (pinchPre\n            && pinchPre.length > 1\n            && pinchEnd\n            && pinchEnd.length > 1) {\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\n            !isFinite(pinchScale) && (pinchScale = 1);\n            event.pinchScale = pinchScale;\n            var pinchCenter = center(pinchEnd);\n            event.pinchX = pinchCenter[0];\n            event.pinchY = pinchCenter[1];\n            return {\n                type: 'pinch',\n                target: tracks[0].target,\n                event: event\n            };\n        }\n    }\n};\n", "import { __extends } from \"tslib\";\nimport * as util from './core/util.js';\nimport * as vec2 from './core/vector.js';\nimport Draggable from './mixin/Draggable.js';\nimport Eventful from './core/Eventful.js';\nimport * as eventTool from './core/event.js';\nimport { GestureMgr } from './core/GestureMgr.js';\nimport BoundingRect from './core/BoundingRect.js';\nvar SILENT = 'silent';\nfunction makeEventPacket(eveType, targetInfo, event) {\n    return {\n        type: eveType,\n        event: event,\n        target: targetInfo.target,\n        topTarget: targetInfo.topTarget,\n        cancelBubble: false,\n        offsetX: event.zrX,\n        offsetY: event.zrY,\n        gestureEvent: event.gestureEvent,\n        pinchX: event.pinchX,\n        pinchY: event.pinchY,\n        pinchScale: event.pinchScale,\n        wheelDelta: event.zrDelta,\n        zrByTouch: event.zrByTouch,\n        which: event.which,\n        stop: stopEvent\n    };\n}\nfunction stopEvent() {\n    eventTool.stop(this.event);\n}\nvar EmptyProxy = (function (_super) {\n    __extends(EmptyProxy, _super);\n    function EmptyProxy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handler = null;\n        return _this;\n    }\n    EmptyProxy.prototype.dispose = function () { };\n    EmptyProxy.prototype.setCursor = function () { };\n    return EmptyProxy;\n}(Eventful));\nvar HoveredResult = (function () {\n    function HoveredResult(x, y) {\n        this.x = x;\n        this.y = y;\n    }\n    return HoveredResult;\n}());\nvar handlerNames = [\n    'click', 'dblclick', 'mousewheel', 'mouseout',\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n];\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar Handler = (function (_super) {\n    __extends(Handler, _super);\n    function Handler(storage, painter, proxy, painterRoot, pointerSize) {\n        var _this = _super.call(this) || this;\n        _this._hovered = new HoveredResult(0, 0);\n        _this.storage = storage;\n        _this.painter = painter;\n        _this.painterRoot = painterRoot;\n        _this._pointerSize = pointerSize;\n        proxy = proxy || new EmptyProxy();\n        _this.proxy = null;\n        _this.setHandlerProxy(proxy);\n        _this._draggingMgr = new Draggable(_this);\n        return _this;\n    }\n    Handler.prototype.setHandlerProxy = function (proxy) {\n        if (this.proxy) {\n            this.proxy.dispose();\n        }\n        if (proxy) {\n            util.each(handlerNames, function (name) {\n                proxy.on && proxy.on(name, this[name], this);\n            }, this);\n            proxy.handler = this;\n        }\n        this.proxy = proxy;\n    };\n    Handler.prototype.mousemove = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var lastHovered = this._hovered;\n        var lastHoveredTarget = lastHovered.target;\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n            lastHoveredTarget = lastHovered.target;\n        }\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\n        var hoveredTarget = hovered.target;\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(lastHovered, 'mouseout', event);\n        }\n        this.dispatchToElement(hovered, 'mousemove', event);\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n            this.dispatchToElement(hovered, 'mouseover', event);\n        }\n    };\n    Handler.prototype.mouseout = function (event) {\n        var eventControl = event.zrEventControl;\n        if (eventControl !== 'only_globalout') {\n            this.dispatchToElement(this._hovered, 'mouseout', event);\n        }\n        if (eventControl !== 'no_globalout') {\n            this.trigger('globalout', { type: 'globalout', event: event });\n        }\n    };\n    Handler.prototype.resize = function () {\n        this._hovered = new HoveredResult(0, 0);\n    };\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\n        var handler = this[eventName];\n        handler && handler.call(this, eventArgs);\n    };\n    Handler.prototype.dispose = function () {\n        this.proxy.dispose();\n        this.storage = null;\n        this.proxy = null;\n        this.painter = null;\n    };\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\n        var proxy = this.proxy;\n        proxy.setCursor && proxy.setCursor(cursorStyle);\n    };\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\n        targetInfo = targetInfo || {};\n        var el = targetInfo.target;\n        if (el && el.silent) {\n            return;\n        }\n        var eventKey = ('on' + eventName);\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\n        while (el) {\n            el[eventKey]\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\n            el.trigger(eventName, eventPacket);\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\n            if (eventPacket.cancelBubble) {\n                break;\n            }\n        }\n        if (!eventPacket.cancelBubble) {\n            this.trigger(eventName, eventPacket);\n            if (this.painter && this.painter.eachOtherLayer) {\n                this.painter.eachOtherLayer(function (layer) {\n                    if (typeof (layer[eventKey]) === 'function') {\n                        layer[eventKey].call(layer, eventPacket);\n                    }\n                    if (layer.trigger) {\n                        layer.trigger(eventName, eventPacket);\n                    }\n                });\n            }\n        }\n    };\n    Handler.prototype.findHover = function (x, y, exclude) {\n        var list = this.storage.getDisplayList();\n        var out = new HoveredResult(x, y);\n        setHoverTarget(list, out, x, y, exclude);\n        if (this._pointerSize && !out.target) {\n            var candidates = [];\n            var pointerSize = this._pointerSize;\n            var targetSizeHalf = pointerSize / 2;\n            var pointerRect = new BoundingRect(x - targetSizeHalf, y - targetSizeHalf, pointerSize, pointerSize);\n            for (var i = list.length - 1; i >= 0; i--) {\n                var el = list[i];\n                if (el !== exclude\n                    && !el.ignore\n                    && !el.ignoreCoarsePointer\n                    && (!el.parent || !el.parent.ignoreCoarsePointer)) {\n                    tmpRect.copy(el.getBoundingRect());\n                    if (el.transform) {\n                        tmpRect.applyTransform(el.transform);\n                    }\n                    if (tmpRect.intersect(pointerRect)) {\n                        candidates.push(el);\n                    }\n                }\n            }\n            if (candidates.length) {\n                var rStep = 4;\n                var thetaStep = Math.PI / 12;\n                var PI2 = Math.PI * 2;\n                for (var r = 0; r < targetSizeHalf; r += rStep) {\n                    for (var theta = 0; theta < PI2; theta += thetaStep) {\n                        var x1 = x + r * Math.cos(theta);\n                        var y1 = y + r * Math.sin(theta);\n                        setHoverTarget(candidates, out, x1, y1, exclude);\n                        if (out.target) {\n                            return out;\n                        }\n                    }\n                }\n            }\n        }\n        return out;\n    };\n    Handler.prototype.processGesture = function (event, stage) {\n        if (!this._gestureMgr) {\n            this._gestureMgr = new GestureMgr();\n        }\n        var gestureMgr = this._gestureMgr;\n        stage === 'start' && gestureMgr.clear();\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n        stage === 'end' && gestureMgr.clear();\n        if (gestureInfo) {\n            var type = gestureInfo.type;\n            event.gestureEvent = type;\n            var res = new HoveredResult();\n            res.target = gestureInfo.target;\n            this.dispatchToElement(res, type, gestureInfo.event);\n        }\n    };\n    return Handler;\n}(Eventful));\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n    Handler.prototype[name] = function (event) {\n        var x = event.zrX;\n        var y = event.zrY;\n        var isOutside = isOutsideBoundary(this, x, y);\n        var hovered;\n        var hoveredTarget;\n        if (name !== 'mouseup' || !isOutside) {\n            hovered = this.findHover(x, y);\n            hoveredTarget = hovered.target;\n        }\n        if (name === 'mousedown') {\n            this._downEl = hoveredTarget;\n            this._downPoint = [event.zrX, event.zrY];\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'mouseup') {\n            this._upEl = hoveredTarget;\n        }\n        else if (name === 'click') {\n            if (this._downEl !== this._upEl\n                || !this._downPoint\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n                return;\n            }\n            this._downPoint = null;\n        }\n        this.dispatchToElement(hovered, name, event);\n    };\n});\nfunction isHover(displayable, x, y) {\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n        var el = displayable;\n        var isSilent = void 0;\n        var ignoreClip = false;\n        while (el) {\n            if (el.ignoreClip) {\n                ignoreClip = true;\n            }\n            if (!ignoreClip) {\n                var clipPath = el.getClipPath();\n                if (clipPath && !clipPath.contain(x, y)) {\n                    return false;\n                }\n            }\n            if (el.silent) {\n                isSilent = true;\n            }\n            var hostEl = el.__hostTarget;\n            el = hostEl ? hostEl : el.parent;\n        }\n        return isSilent ? SILENT : true;\n    }\n    return false;\n}\nfunction setHoverTarget(list, out, x, y, exclude) {\n    for (var i = list.length - 1; i >= 0; i--) {\n        var el = list[i];\n        var hoverCheckResult = void 0;\n        if (el !== exclude\n            && !el.ignore\n            && (hoverCheckResult = isHover(el, x, y))) {\n            !out.topTarget && (out.topTarget = el);\n            if (hoverCheckResult !== SILENT) {\n                out.target = el;\n                break;\n            }\n        }\n    }\n}\nfunction isOutsideBoundary(handlerInstance, x, y) {\n    var painter = handlerInstance.painter;\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\n}\nexport default Handler;\n", "var DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nfunction minRunLength(n) {\n    var r = 0;\n    while (n >= DEFAULT_MIN_MERGE) {\n        r |= n & 1;\n        n >>= 1;\n    }\n    return n + r;\n}\nfunction makeAscendingRun(array, lo, hi, compare) {\n    var runHi = lo + 1;\n    if (runHi === hi) {\n        return 1;\n    }\n    if (compare(array[runHi++], array[lo]) < 0) {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n            runHi++;\n        }\n        reverseRun(array, lo, runHi);\n    }\n    else {\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n            runHi++;\n        }\n    }\n    return runHi - lo;\n}\nfunction reverseRun(array, lo, hi) {\n    hi--;\n    while (lo < hi) {\n        var t = array[lo];\n        array[lo++] = array[hi];\n        array[hi--] = t;\n    }\n}\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n    if (start === lo) {\n        start++;\n    }\n    for (; start < hi; start++) {\n        var pivot = array[start];\n        var left = lo;\n        var right = start;\n        var mid;\n        while (left < right) {\n            mid = left + right >>> 1;\n            if (compare(pivot, array[mid]) < 0) {\n                right = mid;\n            }\n            else {\n                left = mid + 1;\n            }\n        }\n        var n = start - left;\n        switch (n) {\n            case 3:\n                array[left + 3] = array[left + 2];\n            case 2:\n                array[left + 2] = array[left + 1];\n            case 1:\n                array[left + 1] = array[left];\n                break;\n            default:\n                while (n > 0) {\n                    array[left + n] = array[left + n - 1];\n                    n--;\n                }\n        }\n        array[left] = pivot;\n    }\n}\nfunction gallopLeft(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) > 0) {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    else {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) > 0) {\n            lastOffset = m + 1;\n        }\n        else {\n            offset = m;\n        }\n    }\n    return offset;\n}\nfunction gallopRight(value, array, start, length, hint, compare) {\n    var lastOffset = 0;\n    var maxOffset = 0;\n    var offset = 1;\n    if (compare(value, array[start + hint]) < 0) {\n        maxOffset = hint + 1;\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        var tmp = lastOffset;\n        lastOffset = hint - offset;\n        offset = hint - tmp;\n    }\n    else {\n        maxOffset = length - hint;\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n            lastOffset = offset;\n            offset = (offset << 1) + 1;\n            if (offset <= 0) {\n                offset = maxOffset;\n            }\n        }\n        if (offset > maxOffset) {\n            offset = maxOffset;\n        }\n        lastOffset += hint;\n        offset += hint;\n    }\n    lastOffset++;\n    while (lastOffset < offset) {\n        var m = lastOffset + (offset - lastOffset >>> 1);\n        if (compare(value, array[start + m]) < 0) {\n            offset = m;\n        }\n        else {\n            lastOffset = m + 1;\n        }\n    }\n    return offset;\n}\nfunction TimSort(array, compare) {\n    var minGallop = DEFAULT_MIN_GALLOPING;\n    var runStart;\n    var runLength;\n    var stackSize = 0;\n    var tmp = [];\n    runStart = [];\n    runLength = [];\n    function pushRun(_runStart, _runLength) {\n        runStart[stackSize] = _runStart;\n        runLength[stackSize] = _runLength;\n        stackSize += 1;\n    }\n    function mergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\n                if (runLength[n - 1] < runLength[n + 1]) {\n                    n--;\n                }\n            }\n            else if (runLength[n] > runLength[n + 1]) {\n                break;\n            }\n            mergeAt(n);\n        }\n    }\n    function forceMergeRuns() {\n        while (stackSize > 1) {\n            var n = stackSize - 2;\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n                n--;\n            }\n            mergeAt(n);\n        }\n    }\n    function mergeAt(i) {\n        var start1 = runStart[i];\n        var length1 = runLength[i];\n        var start2 = runStart[i + 1];\n        var length2 = runLength[i + 1];\n        runLength[i] = length1 + length2;\n        if (i === stackSize - 3) {\n            runStart[i + 1] = runStart[i + 2];\n            runLength[i + 1] = runLength[i + 2];\n        }\n        stackSize--;\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n        start1 += k;\n        length1 -= k;\n        if (length1 === 0) {\n            return;\n        }\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n        if (length2 === 0) {\n            return;\n        }\n        if (length1 <= length2) {\n            mergeLow(start1, length1, start2, length2);\n        }\n        else {\n            mergeHigh(start1, length1, start2, length2);\n        }\n    }\n    function mergeLow(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length1; i++) {\n            tmp[i] = array[start1 + i];\n        }\n        var cursor1 = 0;\n        var cursor2 = start2;\n        var dest = start1;\n        array[dest++] = array[cursor2++];\n        if (--length2 === 0) {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n            return;\n        }\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n            return;\n        }\n        var _minGallop = minGallop;\n        var count1;\n        var count2;\n        var exit;\n        while (1) {\n            count1 = 0;\n            count2 = 0;\n            exit = false;\n            do {\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\n                    array[dest++] = array[cursor2++];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest++] = tmp[cursor1++];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n                if (count1 !== 0) {\n                    for (i = 0; i < count1; i++) {\n                        array[dest + i] = tmp[cursor1 + i];\n                    }\n                    dest += count1;\n                    cursor1 += count1;\n                    length1 -= count1;\n                    if (length1 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = array[cursor2++];\n                if (--length2 === 0) {\n                    exit = true;\n                    break;\n                }\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n                if (count2 !== 0) {\n                    for (i = 0; i < count2; i++) {\n                        array[dest + i] = array[cursor2 + i];\n                    }\n                    dest += count2;\n                    cursor2 += count2;\n                    length2 -= count2;\n                    if (length2 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest++] = tmp[cursor1++];\n                if (--length1 === 1) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        minGallop < 1 && (minGallop = 1);\n        if (length1 === 1) {\n            for (i = 0; i < length2; i++) {\n                array[dest + i] = array[cursor2 + i];\n            }\n            array[dest + length2] = tmp[cursor1];\n        }\n        else if (length1 === 0) {\n            throw new Error();\n        }\n        else {\n            for (i = 0; i < length1; i++) {\n                array[dest + i] = tmp[cursor1 + i];\n            }\n        }\n    }\n    function mergeHigh(start1, length1, start2, length2) {\n        var i = 0;\n        for (i = 0; i < length2; i++) {\n            tmp[i] = array[start2 + i];\n        }\n        var cursor1 = start1 + length1 - 1;\n        var cursor2 = length2 - 1;\n        var dest = start2 + length2 - 1;\n        var customCursor = 0;\n        var customDest = 0;\n        array[dest--] = array[cursor1--];\n        if (--length1 === 0) {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n            return;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n            return;\n        }\n        var _minGallop = minGallop;\n        while (true) {\n            var count1 = 0;\n            var count2 = 0;\n            var exit = false;\n            do {\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\n                    array[dest--] = array[cursor1--];\n                    count1++;\n                    count2 = 0;\n                    if (--length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                else {\n                    array[dest--] = tmp[cursor2--];\n                    count2++;\n                    count1 = 0;\n                    if (--length2 === 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n            } while ((count1 | count2) < _minGallop);\n            if (exit) {\n                break;\n            }\n            do {\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n                if (count1 !== 0) {\n                    dest -= count1;\n                    cursor1 -= count1;\n                    length1 -= count1;\n                    customDest = dest + 1;\n                    customCursor = cursor1 + 1;\n                    for (i = count1 - 1; i >= 0; i--) {\n                        array[customDest + i] = array[customCursor + i];\n                    }\n                    if (length1 === 0) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = tmp[cursor2--];\n                if (--length2 === 1) {\n                    exit = true;\n                    break;\n                }\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n                if (count2 !== 0) {\n                    dest -= count2;\n                    cursor2 -= count2;\n                    length2 -= count2;\n                    customDest = dest + 1;\n                    customCursor = cursor2 + 1;\n                    for (i = 0; i < count2; i++) {\n                        array[customDest + i] = tmp[customCursor + i];\n                    }\n                    if (length2 <= 1) {\n                        exit = true;\n                        break;\n                    }\n                }\n                array[dest--] = array[cursor1--];\n                if (--length1 === 0) {\n                    exit = true;\n                    break;\n                }\n                _minGallop--;\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n            if (exit) {\n                break;\n            }\n            if (_minGallop < 0) {\n                _minGallop = 0;\n            }\n            _minGallop += 2;\n        }\n        minGallop = _minGallop;\n        if (minGallop < 1) {\n            minGallop = 1;\n        }\n        if (length2 === 1) {\n            dest -= length1;\n            cursor1 -= length1;\n            customDest = dest + 1;\n            customCursor = cursor1 + 1;\n            for (i = length1 - 1; i >= 0; i--) {\n                array[customDest + i] = array[customCursor + i];\n            }\n            array[dest] = tmp[cursor2];\n        }\n        else if (length2 === 0) {\n            throw new Error();\n        }\n        else {\n            customCursor = dest - (length2 - 1);\n            for (i = 0; i < length2; i++) {\n                array[customCursor + i] = tmp[i];\n            }\n        }\n    }\n    return {\n        mergeRuns: mergeRuns,\n        forceMergeRuns: forceMergeRuns,\n        pushRun: pushRun\n    };\n}\nexport default function sort(array, compare, lo, hi) {\n    if (!lo) {\n        lo = 0;\n    }\n    if (!hi) {\n        hi = array.length;\n    }\n    var remaining = hi - lo;\n    if (remaining < 2) {\n        return;\n    }\n    var runLength = 0;\n    if (remaining < DEFAULT_MIN_MERGE) {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n        return;\n    }\n    var ts = TimSort(array, compare);\n    var minRun = minRunLength(remaining);\n    do {\n        runLength = makeAscendingRun(array, lo, hi, compare);\n        if (runLength < minRun) {\n            var force = remaining;\n            if (force > minRun) {\n                force = minRun;\n            }\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n            runLength = force;\n        }\n        ts.pushRun(lo, runLength);\n        ts.mergeRuns();\n        remaining -= runLength;\n        lo += runLength;\n    } while (remaining !== 0);\n    ts.forceMergeRuns();\n}\n", "import * as util from './core/util.js';\nimport timsort from './core/timsort.js';\nimport { REDRAW_BIT } from './graphic/constants.js';\nvar invalidZErrorLogged = false;\nfunction logInvalidZError() {\n    if (invalidZErrorLogged) {\n        return;\n    }\n    invalidZErrorLogged = true;\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\n}\nfunction shapeCompareFunc(a, b) {\n    if (a.zlevel === b.zlevel) {\n        if (a.z === b.z) {\n            return a.z2 - b.z2;\n        }\n        return a.z - b.z;\n    }\n    return a.zlevel - b.zlevel;\n}\nvar Storage = (function () {\n    function Storage() {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        this.displayableSortFunc = shapeCompareFunc;\n    }\n    Storage.prototype.traverse = function (cb, context) {\n        for (var i = 0; i < this._roots.length; i++) {\n            this._roots[i].traverse(cb, context);\n        }\n    };\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\n        includeIgnore = includeIgnore || false;\n        var displayList = this._displayList;\n        if (update || !displayList.length) {\n            this.updateDisplayList(includeIgnore);\n        }\n        return displayList;\n    };\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\n        this._displayListLen = 0;\n        var roots = this._roots;\n        var displayList = this._displayList;\n        for (var i = 0, len = roots.length; i < len; i++) {\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n        }\n        displayList.length = this._displayListLen;\n        timsort(displayList, shapeCompareFunc);\n    };\n    Storage.prototype._updateAndAddDisplayable = function (el, clipPaths, includeIgnore) {\n        if (el.ignore && !includeIgnore) {\n            return;\n        }\n        el.beforeUpdate();\n        el.update();\n        el.afterUpdate();\n        var userSetClipPath = el.getClipPath();\n        if (el.ignoreClip) {\n            clipPaths = null;\n        }\n        else if (userSetClipPath) {\n            if (clipPaths) {\n                clipPaths = clipPaths.slice();\n            }\n            else {\n                clipPaths = [];\n            }\n            var currentClipPath = userSetClipPath;\n            var parentClipPath = el;\n            while (currentClipPath) {\n                currentClipPath.parent = parentClipPath;\n                currentClipPath.updateTransform();\n                clipPaths.push(currentClipPath);\n                parentClipPath = currentClipPath;\n                currentClipPath = currentClipPath.getClipPath();\n            }\n        }\n        if (el.childrenRef) {\n            var children = el.childrenRef();\n            for (var i = 0; i < children.length; i++) {\n                var child = children[i];\n                if (el.__dirty) {\n                    child.__dirty |= REDRAW_BIT;\n                }\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n            }\n            el.__dirty = 0;\n        }\n        else {\n            var disp = el;\n            if (clipPaths && clipPaths.length) {\n                disp.__clipPaths = clipPaths;\n            }\n            else if (disp.__clipPaths && disp.__clipPaths.length > 0) {\n                disp.__clipPaths = [];\n            }\n            if (isNaN(disp.z)) {\n                logInvalidZError();\n                disp.z = 0;\n            }\n            if (isNaN(disp.z2)) {\n                logInvalidZError();\n                disp.z2 = 0;\n            }\n            if (isNaN(disp.zlevel)) {\n                logInvalidZError();\n                disp.zlevel = 0;\n            }\n            this._displayList[this._displayListLen++] = disp;\n        }\n        var decalEl = el.getDecalElement && el.getDecalElement();\n        if (decalEl) {\n            this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);\n        }\n        var textGuide = el.getTextGuideLine();\n        if (textGuide) {\n            this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);\n        }\n        var textEl = el.getTextContent();\n        if (textEl) {\n            this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);\n        }\n    };\n    Storage.prototype.addRoot = function (el) {\n        if (el.__zr && el.__zr.storage === this) {\n            return;\n        }\n        this._roots.push(el);\n    };\n    Storage.prototype.delRoot = function (el) {\n        if (el instanceof Array) {\n            for (var i = 0, l = el.length; i < l; i++) {\n                this.delRoot(el[i]);\n            }\n            return;\n        }\n        var idx = util.indexOf(this._roots, el);\n        if (idx >= 0) {\n            this._roots.splice(idx, 1);\n        }\n    };\n    Storage.prototype.delAllRoots = function () {\n        this._roots = [];\n        this._displayList = [];\n        this._displayListLen = 0;\n        return;\n    };\n    Storage.prototype.getRoots = function () {\n        return this._roots;\n    };\n    Storage.prototype.dispose = function () {\n        this._displayList = null;\n        this._roots = null;\n    };\n    return Storage;\n}());\nexport default Storage;\n", "import env from '../core/env.js';\nvar requestAnimationFrame;\nrequestAnimationFrame = (env.hasGlobalWindow\n    && ((window.requestAnimationFrame && window.requestAnimationFrame.bind(window))\n        || (window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window))\n        || window.mozRequestAnimationFrame\n        || window.webkitRequestAnimationFrame)) || function (func) {\n    return setTimeout(func, 16);\n};\nexport default requestAnimationFrame;\n", "import { __extends } from \"tslib\";\nimport Eventful from '../core/Eventful.js';\nimport requestAnimationFrame from './requestAnimationFrame.js';\nimport Animator from './Animator.js';\nexport function getTime() {\n    return new Date().getTime();\n}\nvar Animation = (function (_super) {\n    __extends(Animation, _super);\n    function Animation(opts) {\n        var _this = _super.call(this) || this;\n        _this._running = false;\n        _this._time = 0;\n        _this._pausedTime = 0;\n        _this._pauseStart = 0;\n        _this._paused = false;\n        opts = opts || {};\n        _this.stage = opts.stage || {};\n        return _this;\n    }\n    Animation.prototype.addClip = function (clip) {\n        if (clip.animation) {\n            this.removeClip(clip);\n        }\n        if (!this._head) {\n            this._head = this._tail = clip;\n        }\n        else {\n            this._tail.next = clip;\n            clip.prev = this._tail;\n            clip.next = null;\n            this._tail = clip;\n        }\n        clip.animation = this;\n    };\n    Animation.prototype.addAnimator = function (animator) {\n        animator.animation = this;\n        var clip = animator.getClip();\n        if (clip) {\n            this.addClip(clip);\n        }\n    };\n    Animation.prototype.removeClip = function (clip) {\n        if (!clip.animation) {\n            return;\n        }\n        var prev = clip.prev;\n        var next = clip.next;\n        if (prev) {\n            prev.next = next;\n        }\n        else {\n            this._head = next;\n        }\n        if (next) {\n            next.prev = prev;\n        }\n        else {\n            this._tail = prev;\n        }\n        clip.next = clip.prev = clip.animation = null;\n    };\n    Animation.prototype.removeAnimator = function (animator) {\n        var clip = animator.getClip();\n        if (clip) {\n            this.removeClip(clip);\n        }\n        animator.animation = null;\n    };\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\n        var time = getTime() - this._pausedTime;\n        var delta = time - this._time;\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            var finished = clip.step(time, delta);\n            if (finished) {\n                clip.ondestroy();\n                this.removeClip(clip);\n                clip = nextClip;\n            }\n            else {\n                clip = nextClip;\n            }\n        }\n        this._time = time;\n        if (!notTriggerFrameAndStageUpdate) {\n            this.trigger('frame', delta);\n            this.stage.update && this.stage.update();\n        }\n    };\n    Animation.prototype._startLoop = function () {\n        var self = this;\n        this._running = true;\n        function step() {\n            if (self._running) {\n                requestAnimationFrame(step);\n                !self._paused && self.update();\n            }\n        }\n        requestAnimationFrame(step);\n    };\n    Animation.prototype.start = function () {\n        if (this._running) {\n            return;\n        }\n        this._time = getTime();\n        this._pausedTime = 0;\n        this._startLoop();\n    };\n    Animation.prototype.stop = function () {\n        this._running = false;\n    };\n    Animation.prototype.pause = function () {\n        if (!this._paused) {\n            this._pauseStart = getTime();\n            this._paused = true;\n        }\n    };\n    Animation.prototype.resume = function () {\n        if (this._paused) {\n            this._pausedTime += getTime() - this._pauseStart;\n            this._paused = false;\n        }\n    };\n    Animation.prototype.clear = function () {\n        var clip = this._head;\n        while (clip) {\n            var nextClip = clip.next;\n            clip.prev = clip.next = clip.animation = null;\n            clip = nextClip;\n        }\n        this._head = this._tail = null;\n    };\n    Animation.prototype.isFinished = function () {\n        return this._head == null;\n    };\n    Animation.prototype.animate = function (target, options) {\n        options = options || {};\n        this.start();\n        var animator = new Animator(target, options.loop);\n        this.addAnimator(animator);\n        return animator;\n    };\n    return Animation;\n}(Eventful));\nexport default Animation;\n", "import { __extends } from \"tslib\";\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\nimport * as zrUtil from '../core/util.js';\nimport Eventful from '../core/Eventful.js';\nimport env from '../core/env.js';\nvar TOUCH_CLICK_DELAY = 300;\nvar globalEventSupported = env.domSupported;\nvar localNativeListenerNames = (function () {\n    var mouseHandlerNames = [\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\n    ];\n    var touchHandlerNames = [\n        'touchstart', 'touchend', 'touchmove'\n    ];\n    var pointerEventNameMap = {\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\n    };\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n        var nm = name.replace('mouse', 'pointer');\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\n    });\n    return {\n        mouse: mouseHandlerNames,\n        touch: touchHandlerNames,\n        pointer: pointerHandlerNames\n    };\n})();\nvar globalNativeListenerNames = {\n    mouse: ['mousemove', 'mouseup'],\n    pointer: ['pointermove', 'pointerup']\n};\nvar wheelEventSupported = false;\nfunction isPointerFromTouch(event) {\n    var pointerType = event.pointerType;\n    return pointerType === 'pen' || pointerType === 'touch';\n}\nfunction setTouchTimer(scope) {\n    scope.touching = true;\n    if (scope.touchTimer != null) {\n        clearTimeout(scope.touchTimer);\n        scope.touchTimer = null;\n    }\n    scope.touchTimer = setTimeout(function () {\n        scope.touching = false;\n        scope.touchTimer = null;\n    }, 700);\n}\nfunction markTouch(event) {\n    event && (event.zrByTouch = true);\n}\nfunction normalizeGlobalEvent(instance, event) {\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\n}\nfunction isLocalEl(instance, el) {\n    var elTmp = el;\n    var isLocal = false;\n    while (elTmp && elTmp.nodeType !== 9\n        && !(isLocal = elTmp.domBelongToZr\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\n        elTmp = elTmp.parentNode;\n    }\n    return isLocal;\n}\nvar FakeGlobalEvent = (function () {\n    function FakeGlobalEvent(instance, event) {\n        this.stopPropagation = zrUtil.noop;\n        this.stopImmediatePropagation = zrUtil.noop;\n        this.preventDefault = zrUtil.noop;\n        this.type = event.type;\n        this.target = this.currentTarget = instance.dom;\n        this.pointerType = event.pointerType;\n        this.clientX = event.clientX;\n        this.clientY = event.clientY;\n    }\n    return FakeGlobalEvent;\n}());\nvar localDOMHandlers = {\n    mousedown: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__mayPointerCapture = [event.zrX, event.zrY];\n        this.trigger('mousedown', event);\n    },\n    mousemove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var downPoint = this.__mayPointerCapture;\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\n            this.__togglePointerCapture(true);\n        }\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n    },\n    mouseout: function (event) {\n        event = normalizeEvent(this.dom, event);\n        var element = event.toElement || event.relatedTarget;\n        if (!isLocalEl(this, element)) {\n            if (this.__pointerCapturing) {\n                event.zrEventControl = 'no_globalout';\n            }\n            this.trigger('mouseout', event);\n        }\n    },\n    wheel: function (event) {\n        wheelEventSupported = true;\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    mousewheel: function (event) {\n        if (wheelEventSupported) {\n            return;\n        }\n        event = normalizeEvent(this.dom, event);\n        this.trigger('mousewheel', event);\n    },\n    touchstart: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.__lastTouchMoment = new Date();\n        this.handler.processGesture(event, 'start');\n        localDOMHandlers.mousemove.call(this, event);\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    touchmove: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'change');\n        localDOMHandlers.mousemove.call(this, event);\n    },\n    touchend: function (event) {\n        event = normalizeEvent(this.dom, event);\n        markTouch(event);\n        this.handler.processGesture(event, 'end');\n        localDOMHandlers.mouseup.call(this, event);\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\n            localDOMHandlers.click.call(this, event);\n        }\n    },\n    pointerdown: function (event) {\n        localDOMHandlers.mousedown.call(this, event);\n    },\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        localDOMHandlers.mouseup.call(this, event);\n    },\n    pointerout: function (event) {\n        if (!isPointerFromTouch(event)) {\n            localDOMHandlers.mouseout.call(this, event);\n        }\n    }\n};\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\n    localDOMHandlers[name] = function (event) {\n        event = normalizeEvent(this.dom, event);\n        this.trigger(name, event);\n    };\n});\nvar globalDOMHandlers = {\n    pointermove: function (event) {\n        if (!isPointerFromTouch(event)) {\n            globalDOMHandlers.mousemove.call(this, event);\n        }\n    },\n    pointerup: function (event) {\n        globalDOMHandlers.mouseup.call(this, event);\n    },\n    mousemove: function (event) {\n        this.trigger('mousemove', event);\n    },\n    mouseup: function (event) {\n        var pointerCaptureReleasing = this.__pointerCapturing;\n        this.__togglePointerCapture(false);\n        this.trigger('mouseup', event);\n        if (pointerCaptureReleasing) {\n            event.zrEventControl = 'only_globalout';\n            this.trigger('mouseout', event);\n        }\n    }\n};\nfunction mountLocalDOMEventListeners(instance, scope) {\n    var domHandlers = scope.domHandlers;\n    if (env.pointerEventsSupported) {\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                domHandlers[nativeEventName].call(instance, event);\n            });\n        });\n    }\n    else {\n        if (env.touchEventsSupported) {\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                    domHandlers[nativeEventName].call(instance, event);\n                    setTouchTimer(scope);\n                });\n            });\n        }\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\n                event = getNativeEvent(event);\n                if (!scope.touching) {\n                    domHandlers[nativeEventName].call(instance, event);\n                }\n            });\n        });\n    }\n}\nfunction mountGlobalDOMEventListeners(instance, scope) {\n    if (env.pointerEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\n    }\n    else if (!env.touchEventsSupported) {\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\n    }\n    function mount(nativeEventName) {\n        function nativeEventListener(event) {\n            event = getNativeEvent(event);\n            if (!isLocalEl(instance, event.target)) {\n                event = normalizeGlobalEvent(instance, event);\n                scope.domHandlers[nativeEventName].call(instance, event);\n            }\n        }\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\n    }\n}\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\n    scope.mounted[nativeEventName] = listener;\n    scope.listenerOpts[nativeEventName] = opt;\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\n}\nfunction unmountDOMEventListeners(scope) {\n    var mounted = scope.mounted;\n    for (var nativeEventName in mounted) {\n        if (mounted.hasOwnProperty(nativeEventName)) {\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\n        }\n    }\n    scope.mounted = {};\n}\nvar DOMHandlerScope = (function () {\n    function DOMHandlerScope(domTarget, domHandlers) {\n        this.mounted = {};\n        this.listenerOpts = {};\n        this.touching = false;\n        this.domTarget = domTarget;\n        this.domHandlers = domHandlers;\n    }\n    return DOMHandlerScope;\n}());\nvar HandlerDomProxy = (function (_super) {\n    __extends(HandlerDomProxy, _super);\n    function HandlerDomProxy(dom, painterRoot) {\n        var _this = _super.call(this) || this;\n        _this.__pointerCapturing = false;\n        _this.dom = dom;\n        _this.painterRoot = painterRoot;\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\n        if (globalEventSupported) {\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\n        }\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\n        return _this;\n    }\n    HandlerDomProxy.prototype.dispose = function () {\n        unmountDOMEventListeners(this._localHandlerScope);\n        if (globalEventSupported) {\n            unmountDOMEventListeners(this._globalHandlerScope);\n        }\n    };\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n    };\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\n        this.__mayPointerCapture = null;\n        if (globalEventSupported\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\n            this.__pointerCapturing = isPointerCapturing;\n            var globalHandlerScope = this._globalHandlerScope;\n            isPointerCapturing\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\n                : unmountDOMEventListeners(globalHandlerScope);\n        }\n    };\n    return HandlerDomProxy;\n}(Eventful));\nexport default HandlerDomProxy;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\nimport { makePrintable } from './log.js';\n// A random offset\nvar base = Math.round(Math.random() * 10);\n/**\r\n * @public\r\n * @param {string} type\r\n * @return {string}\r\n */\nexport function getUID(type) {\n  // Considering the case of crossing js context,\n  // use Math.random to make id as unique as possible.\n  return [type || '', base++].join('_');\n}\n/**\r\n * Implements `SubTypeDefaulterManager` for `target`.\r\n */\nexport function enableSubTypeDefaulter(target) {\n  var subTypeDefaulters = {};\n  target.registerSubTypeDefaulter = function (componentType, defaulter) {\n    var componentTypeInfo = parseClassType(componentType);\n    subTypeDefaulters[componentTypeInfo.main] = defaulter;\n  };\n  target.determineSubType = function (componentType, option) {\n    var type = option.type;\n    if (!type) {\n      var componentTypeMain = parseClassType(componentType).main;\n      if (target.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n    return type;\n  };\n}\n/**\r\n * Implements `TopologicalTravelable<any>` for `entity`.\r\n *\r\n * Topological travel on Activity Network (Activity On Vertices).\r\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\r\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\r\n * If there is circular dependencey, Error will be thrown.\r\n */\nexport function enableTopologicalTravel(entity, dependencyGetter) {\n  /**\r\n   * @param targetNameList Target Component type list.\r\n   *                       Can be ['aa', 'bb', 'aa.xx']\r\n   * @param fullNameList By which we can build dependency graph.\r\n   * @param callback Params: componentType, dependencies.\r\n   * @param context Scope of callback.\r\n   */\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var noEntryList = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n    while (noEntryList.length) {\n      var currComponentType = noEntryList.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n    zrUtil.each(targetNameSet, function () {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = makePrintable('Circular dependency may exists: ', targetNameSet, targetNameList, fullNameList);\n      }\n      throw new Error(errMsg);\n    });\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n      if (graph[succComponentType].entryCount === 0) {\n        noEntryList.push(succComponentType);\n      }\n    }\n    // Consider this case: legend depends on series, and we call\n    // chart.setOption({series: [...]}), where only series is in option.\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n    // not be called, but only sereis.mergeOption is called. Thus legend\n    // have no chance to update its local record about series (like which\n    // name of series is available in legend).\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n    return graph[name];\n  }\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\nexport function inheritDefaultOption(superOption, subOption) {\n  // See also `model/Component.ts#getDefaultOption`\n  return zrUtil.merge(zrUtil.merge({}, superOption, true), subOption, true);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport Model from './Model.js';\nimport * as componentUtil from '../util/component.js';\nimport { enableClassManagement, parseClassType, isExtendedClass, mountExtend } from '../util/clazz.js';\nimport { makeInner, queryReferringComponents } from '../util/model.js';\nimport * as layout from '../util/layout.js';\nvar inner = makeInner();\nvar ComponentModel = /** @class */function (_super) {\n  __extends(ComponentModel, _super);\n  function ComponentModel(option, parentModel, ecModel) {\n    var _this = _super.call(this, option, parentModel, ecModel) || this;\n    _this.uid = componentUtil.getUID('ec_cpt_model');\n    return _this;\n  }\n  ComponentModel.prototype.init = function (option, parentModel, ecModel) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  };\n  ComponentModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = layout.fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  ComponentModel.prototype.mergeOption = function (option, ecModel) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = layout.fetchLayoutMode(this);\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  };\n  /**\r\n   * Called immediately after `init` or `mergeOption` of this instance called.\r\n   */\n  ComponentModel.prototype.optionUpdated = function (newCptOption, isInit) {};\n  /**\r\n   * [How to declare defaultOption]:\r\n   *\r\n   * (A) If using class declaration in typescript (since echarts 5):\r\n   * ```ts\r\n   * import {ComponentOption} from '../model/option.js';\r\n   * export interface XxxOption extends ComponentOption {\r\n   *     aaa: number\r\n   * }\r\n   * export class XxxModel extends Component {\r\n   *     static type = 'xxx';\r\n   *     static defaultOption: XxxOption = {\r\n   *         aaa: 123\r\n   *     }\r\n   * }\r\n   * Component.registerClass(XxxModel);\r\n   * ```\r\n   * ```ts\r\n   * import {inheritDefaultOption} from '../util/component.js';\r\n   * import {XxxModel, XxxOption} from './XxxModel.js';\r\n   * export interface XxxSubOption extends XxxOption {\r\n   *     bbb: number\r\n   * }\r\n   * class XxxSubModel extends XxxModel {\r\n   *     static defaultOption: XxxSubOption = inheritDefaultOption(XxxModel.defaultOption, {\r\n   *         bbb: 456\r\n   *     })\r\n   *     fn() {\r\n   *         let opt = this.getDefaultOption();\r\n   *         // opt is {aaa: 123, bbb: 456}\r\n   *     }\r\n   * }\r\n   * ```\r\n   *\r\n   * (B) If using class extend (previous approach in echarts 3 & 4):\r\n   * ```js\r\n   * let XxxComponent = Component.extend({\r\n   *     defaultOption: {\r\n   *         xx: 123\r\n   *     }\r\n   * })\r\n   * ```\r\n   * ```js\r\n   * let XxxSubComponent = XxxComponent.extend({\r\n   *     defaultOption: {\r\n   *         yy: 456\r\n   *     },\r\n   *     fn: function () {\r\n   *         let opt = this.getDefaultOption();\r\n   *         // opt is {xx: 123, yy: 456}\r\n   *     }\r\n   * })\r\n   * ```\r\n   */\n  ComponentModel.prototype.getDefaultOption = function () {\n    var ctor = this.constructor;\n    // If using class declaration, it is different to travel super class\n    // in legacy env and auto merge defaultOption. So if using class\n    // declaration, defaultOption should be merged manually.\n    if (!isExtendedClass(ctor)) {\n      // When using ts class, defaultOption must be declared as static.\n      return ctor.defaultOption;\n    }\n    // FIXME: remove this approach?\n    var fields = inner(this);\n    if (!fields.defaultOption) {\n      var optList = [];\n      var clz = ctor;\n      while (clz) {\n        var opt = clz.prototype.defaultOption;\n        opt && optList.push(opt);\n        clz = clz.superClass;\n      }\n      var defaultOption = {};\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n      fields.defaultOption = defaultOption;\n    }\n    return fields.defaultOption;\n  };\n  /**\r\n   * Notice: always force to input param `useDefault` in case that forget to consider it.\r\n   * The same behavior as `modelUtil.parseFinder`.\r\n   *\r\n   * @param useDefault In many cases like series refer axis and axis refer grid,\r\n   *        If axis index / axis id not specified, use the first target as default.\r\n   *        In other cases like dataZoom refer axis, if not specified, measn no refer.\r\n   */\n  ComponentModel.prototype.getReferringComponents = function (mainType, opt) {\n    var indexKey = mainType + 'Index';\n    var idKey = mainType + 'Id';\n    return queryReferringComponents(this.ecModel, mainType, {\n      index: this.get(indexKey, true),\n      id: this.get(idKey, true)\n    }, opt);\n  };\n  ComponentModel.prototype.getBoxLayoutParams = function () {\n    // Consider itself having box layout configs.\n    var boxLayoutModel = this;\n    return {\n      left: boxLayoutModel.get('left'),\n      top: boxLayoutModel.get('top'),\n      right: boxLayoutModel.get('right'),\n      bottom: boxLayoutModel.get('bottom'),\n      width: boxLayoutModel.get('width'),\n      height: boxLayoutModel.get('height')\n    };\n  };\n  /**\r\n   * Get key for zlevel.\r\n   * If developers don't configure zlevel. We will assign zlevel to series based on the key.\r\n   * For example, lines with trail effect and progressive series will in an individual zlevel.\r\n   */\n  ComponentModel.prototype.getZLevelKey = function () {\n    return '';\n  };\n  ComponentModel.prototype.setZLevel = function (zlevel) {\n    this.option.zlevel = zlevel;\n  };\n  ComponentModel.protoInitialize = function () {\n    var proto = ComponentModel.prototype;\n    proto.type = 'component';\n    proto.id = '';\n    proto.name = '';\n    proto.mainType = '';\n    proto.subType = '';\n    proto.componentIndex = 0;\n  }();\n  return ComponentModel;\n}(Model);\nmountExtend(ComponentModel, Model);\nenableClassManagement(ComponentModel);\ncomponentUtil.enableSubTypeDefaulter(ComponentModel);\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (clz) {\n    deps = deps.concat(clz.dependencies || clz.prototype.dependencies || []);\n  });\n  // Ensure main type.\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  });\n  // Hack dataset for convenience.\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n  return deps;\n}\nexport default ComponentModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { makeInner, normalizeToArray } from '../../util/model.js';\nvar innerColor = makeInner();\nvar innerDecal = makeInner();\nvar PaletteMixin = /** @class */function () {\n  function PaletteMixin() {}\n  PaletteMixin.prototype.getColorFromPalette = function (name, scope, requestNum) {\n    var defaultPalette = normalizeToArray(this.get('color', true));\n    var layeredPalette = this.get('colorLayer', true);\n    return getFromPalette(this, innerColor, defaultPalette, layeredPalette, name, scope, requestNum);\n  };\n  PaletteMixin.prototype.clearColorPalette = function () {\n    clearPalette(this, innerColor);\n  };\n  return PaletteMixin;\n}();\nexport function getDecalFromPalette(ecModel, name, scope, requestNum) {\n  var defaultDecals = normalizeToArray(ecModel.get(['aria', 'decal', 'decals']));\n  return getFromPalette(ecModel, innerDecal, defaultDecals, null, name, scope, requestNum);\n}\nfunction getNearestPalette(palettes, requestColorNum) {\n  var paletteNum = palettes.length;\n  // TODO palettes must be in order\n  for (var i = 0; i < paletteNum; i++) {\n    if (palettes[i].length > requestColorNum) {\n      return palettes[i];\n    }\n  }\n  return palettes[paletteNum - 1];\n}\n/**\r\n * @param name MUST NOT be null/undefined. Otherwise call this function\r\n *             twise with the same parameters will get different result.\r\n * @param scope default this.\r\n * @return Can be null/undefined\r\n */\nfunction getFromPalette(that, inner, defaultPalette, layeredPalette, name, scope, requestNum) {\n  scope = scope || that;\n  var scopeFields = inner(scope);\n  var paletteIdx = scopeFields.paletteIdx || 0;\n  var paletteNameMap = scopeFields.paletteNameMap = scopeFields.paletteNameMap || {};\n  // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n  if (paletteNameMap.hasOwnProperty(name)) {\n    return paletteNameMap[name];\n  }\n  var palette = requestNum == null || !layeredPalette ? defaultPalette : getNearestPalette(layeredPalette, requestNum);\n  // In case can't find in layered color palette.\n  palette = palette || defaultPalette;\n  if (!palette || !palette.length) {\n    return;\n  }\n  var pickedPaletteItem = palette[paletteIdx];\n  if (name) {\n    paletteNameMap[name] = pickedPaletteItem;\n  }\n  scopeFields.paletteIdx = (paletteIdx + 1) % palette.length;\n  return pickedPaletteItem;\n}\nfunction clearPalette(that, inner) {\n  inner(that).paletteIdx = 0;\n  inner(that).paletteNameMap = {};\n}\nexport { PaletteMixin };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nvar _a, _b, _c;\n// TODO\n// ??? refactor? check the outer usage of data provider.\n// merge with defaultDimValueGetter?\nimport { isTypedArray, extend, assert, each, isObject, bind } from 'zrender/lib/core/util.js';\nimport { getDataItemValue } from '../../util/model.js';\nimport { createSourceFromSeriesDataOption, isSourceInstance } from '../Source.js';\nimport { SOURCE_FORMAT_ORIGINAL, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_KEYED_COLUMNS, SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ARRAY_ROWS, SERIES_LAYOUT_BY_COLUMN, SERIES_LAYOUT_BY_ROW } from '../../util/types.js';\nvar providerMethods;\nvar mountMethods;\n/**\r\n * If normal array used, mutable chunk size is supported.\r\n * If typed array used, chunk size must be fixed.\r\n */\nvar DefaultDataProvider = /** @class */function () {\n  function DefaultDataProvider(sourceParam, dimSize) {\n    // let source: Source;\n    var source = !isSourceInstance(sourceParam) ? createSourceFromSeriesDataOption(sourceParam) : sourceParam;\n    // declare source is Source;\n    this._source = source;\n    var data = this._data = source.data;\n    // Typed array. TODO IE10+?\n    if (source.sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (dimSize == null) {\n          throw new Error('Typed array data must specify dimension size');\n        }\n      }\n      this._offset = 0;\n      this._dimSize = dimSize;\n      this._data = data;\n    }\n    mountMethods(this, data, source);\n  }\n  DefaultDataProvider.prototype.getSource = function () {\n    return this._source;\n  };\n  DefaultDataProvider.prototype.count = function () {\n    return 0;\n  };\n  DefaultDataProvider.prototype.getItem = function (idx, out) {\n    return;\n  };\n  DefaultDataProvider.prototype.appendData = function (newData) {};\n  DefaultDataProvider.prototype.clean = function () {};\n  DefaultDataProvider.protoInitialize = function () {\n    // PENDING: To avoid potential incompat (e.g., prototype\n    // is visited somewhere), still init them on prototype.\n    var proto = DefaultDataProvider.prototype;\n    proto.pure = false;\n    proto.persistent = true;\n  }();\n  DefaultDataProvider.internalField = function () {\n    var _a;\n    mountMethods = function (provider, data, source) {\n      var sourceFormat = source.sourceFormat;\n      var seriesLayoutBy = source.seriesLayoutBy;\n      var startIndex = source.startIndex;\n      var dimsDef = source.dimensionsDefine;\n      var methods = providerMethods[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n      if (process.env.NODE_ENV !== 'production') {\n        assert(methods, 'Invalide sourceFormat: ' + sourceFormat);\n      }\n      extend(provider, methods);\n      if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n        provider.getItem = getItemForTypedArray;\n        provider.count = countForTypedArray;\n        provider.fillStorage = fillStorageForTypedArray;\n      } else {\n        var rawItemGetter = getRawSourceItemGetter(sourceFormat, seriesLayoutBy);\n        provider.getItem = bind(rawItemGetter, null, data, startIndex, dimsDef);\n        var rawCounter = getRawSourceDataCounter(sourceFormat, seriesLayoutBy);\n        provider.count = bind(rawCounter, null, data, startIndex, dimsDef);\n      }\n    };\n    var getItemForTypedArray = function (idx, out) {\n      idx = idx - this._offset;\n      out = out || [];\n      var data = this._data;\n      var dimSize = this._dimSize;\n      var offset = dimSize * idx;\n      for (var i = 0; i < dimSize; i++) {\n        out[i] = data[offset + i];\n      }\n      return out;\n    };\n    var fillStorageForTypedArray = function (start, end, storage, extent) {\n      var data = this._data;\n      var dimSize = this._dimSize;\n      for (var dim = 0; dim < dimSize; dim++) {\n        var dimExtent = extent[dim];\n        var min = dimExtent[0] == null ? Infinity : dimExtent[0];\n        var max = dimExtent[1] == null ? -Infinity : dimExtent[1];\n        var count = end - start;\n        var arr = storage[dim];\n        for (var i = 0; i < count; i++) {\n          // appendData with TypedArray will always do replace in provider.\n          var val = data[i * dimSize + dim];\n          arr[start + i] = val;\n          val < min && (min = val);\n          val > max && (max = val);\n        }\n        dimExtent[0] = min;\n        dimExtent[1] = max;\n      }\n    };\n    var countForTypedArray = function () {\n      return this._data ? this._data.length / this._dimSize : 0;\n    };\n    providerMethods = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = {\n      pure: true,\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = {\n      pure: true,\n      appendData: function () {\n        throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n      }\n    }, _a[SOURCE_FORMAT_OBJECT_ROWS] = {\n      pure: true,\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_KEYED_COLUMNS] = {\n      pure: true,\n      appendData: function (newData) {\n        var data = this._data;\n        each(newData, function (newCol, key) {\n          var oldCol = data[key] || (data[key] = []);\n          for (var i = 0; i < (newCol || []).length; i++) {\n            oldCol.push(newCol[i]);\n          }\n        });\n      }\n    }, _a[SOURCE_FORMAT_ORIGINAL] = {\n      appendData: appendDataSimply\n    }, _a[SOURCE_FORMAT_TYPED_ARRAY] = {\n      persistent: false,\n      pure: true,\n      appendData: function (newData) {\n        if (process.env.NODE_ENV !== 'production') {\n          assert(isTypedArray(newData), 'Added data must be TypedArray if data in initialization is TypedArray');\n        }\n        this._data = newData;\n      },\n      // Clean self if data is already used.\n      clean: function () {\n        // PENDING\n        this._offset += this.count();\n        this._data = null;\n      }\n    }, _a);\n    function appendDataSimply(newData) {\n      for (var i = 0; i < newData.length; i++) {\n        this._data.push(newData[i]);\n      }\n    }\n  }();\n  return DefaultDataProvider;\n}();\nexport { DefaultDataProvider };\nvar getItemSimply = function (rawData, startIndex, dimsDef, idx) {\n  return rawData[idx];\n};\nvar rawSourceItemGetterMap = (_a = {}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef, idx) {\n  return rawData[idx + startIndex];\n}, _a[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef, idx, out) {\n  idx += startIndex;\n  var item = out || [];\n  var data = rawData;\n  for (var i = 0; i < data.length; i++) {\n    var row = data[i];\n    item[i] = row ? row[idx] : null;\n  }\n  return item;\n}, _a[SOURCE_FORMAT_OBJECT_ROWS] = getItemSimply, _a[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef, idx, out) {\n  var item = out || [];\n  for (var i = 0; i < dimsDef.length; i++) {\n    var dimName = dimsDef[i].name;\n    if (process.env.NODE_ENV !== 'production') {\n      if (dimName == null) {\n        throw new Error();\n      }\n    }\n    var col = rawData[dimName];\n    item[i] = col ? col[idx] : null;\n  }\n  return item;\n}, _a[SOURCE_FORMAT_ORIGINAL] = getItemSimply, _a);\nexport function getRawSourceItemGetter(sourceFormat, seriesLayoutBy) {\n  var method = rawSourceItemGetterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not support get item on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\n  }\n  return method;\n}\nvar countSimply = function (rawData, startIndex, dimsDef) {\n  return rawData.length;\n};\nvar rawSourceDataCounterMap = (_b = {}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_COLUMN] = function (rawData, startIndex, dimsDef) {\n  return Math.max(0, rawData.length - startIndex);\n}, _b[SOURCE_FORMAT_ARRAY_ROWS + '_' + SERIES_LAYOUT_BY_ROW] = function (rawData, startIndex, dimsDef) {\n  var row = rawData[0];\n  return row ? Math.max(0, row.length - startIndex) : 0;\n}, _b[SOURCE_FORMAT_OBJECT_ROWS] = countSimply, _b[SOURCE_FORMAT_KEYED_COLUMNS] = function (rawData, startIndex, dimsDef) {\n  var dimName = dimsDef[0].name;\n  if (process.env.NODE_ENV !== 'production') {\n    if (dimName == null) {\n      throw new Error();\n    }\n  }\n  var col = rawData[dimName];\n  return col ? col.length : 0;\n}, _b[SOURCE_FORMAT_ORIGINAL] = countSimply, _b);\nexport function getRawSourceDataCounter(sourceFormat, seriesLayoutBy) {\n  var method = rawSourceDataCounterMap[getMethodMapKey(sourceFormat, seriesLayoutBy)];\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not support count on \"' + sourceFormat + '\", \"' + seriesLayoutBy + '\".');\n  }\n  return method;\n}\nvar getRawValueSimply = function (dataItem, dimIndex, property) {\n  return dataItem[dimIndex];\n};\nvar rawSourceValueGetterMap = (_c = {}, _c[SOURCE_FORMAT_ARRAY_ROWS] = getRawValueSimply, _c[SOURCE_FORMAT_OBJECT_ROWS] = function (dataItem, dimIndex, property) {\n  return dataItem[property];\n}, _c[SOURCE_FORMAT_KEYED_COLUMNS] = getRawValueSimply, _c[SOURCE_FORMAT_ORIGINAL] = function (dataItem, dimIndex, property) {\n  // FIXME: In some case (markpoint in geo (geo-map.html)),\n  // dataItem is {coord: [...]}\n  var value = getDataItemValue(dataItem);\n  return !(value instanceof Array) ? value : value[dimIndex];\n}, _c[SOURCE_FORMAT_TYPED_ARRAY] = getRawValueSimply, _c);\nexport function getRawSourceValueGetter(sourceFormat) {\n  var method = rawSourceValueGetterMap[sourceFormat];\n  if (process.env.NODE_ENV !== 'production') {\n    assert(method, 'Do not support get value on \"' + sourceFormat + '\".');\n  }\n  return method;\n}\nfunction getMethodMapKey(sourceFormat, seriesLayoutBy) {\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS ? sourceFormat + '_' + seriesLayoutBy : sourceFormat;\n}\n// ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n// Consider persistent.\n// Caution: why use raw value to display on label or tooltip?\n// A reason is to avoid format. For example time value we do not know\n// how to format is expected. More over, if stack is used, calculated\n// value may be 0.91000000001, which have brings trouble to display.\n// TODO: consider how to treat null/undefined/NaN when display?\nexport function retrieveRawValue(data, dataIndex,\n// If dimIndex is null/undefined, return OptionDataItem.\n// Otherwise, return OptionDataValue.\ndim) {\n  if (!data) {\n    return;\n  }\n  // Consider data may be not persistent.\n  var dataItem = data.getRawDataItem(dataIndex);\n  if (dataItem == null) {\n    return;\n  }\n  var store = data.getStore();\n  var sourceFormat = store.getSource().sourceFormat;\n  if (dim != null) {\n    var dimIndex = data.getDimensionIndex(dim);\n    var property = store.getDimensionProperty(dimIndex);\n    return getRawSourceValueGetter(sourceFormat)(dataItem, dimIndex, property);\n  } else {\n    var result = dataItem;\n    if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n      result = getDataItemValue(dataItem);\n    }\n    return result;\n  }\n}\n/**\r\n * Compatible with some cases (in pie, map) like:\r\n * data: [{name: 'xx', value: 5, selected: true}, ...]\r\n * where only sourceFormat is 'original' and 'objectRows' supported.\r\n *\r\n * // TODO\r\n * Supported detail options in data item when using 'arrayRows'.\r\n *\r\n * @param data\r\n * @param dataIndex\r\n * @param attr like 'selected'\r\n */\nexport function retrieveRawAttr(data, dataIndex, attr) {\n  if (!data) {\n    return;\n  }\n  var sourceFormat = data.getStore().getSource().sourceFormat;\n  if (sourceFormat !== SOURCE_FORMAT_ORIGINAL && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\n    return;\n  }\n  var dataItem = data.getRawDataItem(dataIndex);\n  if (sourceFormat === SOURCE_FORMAT_ORIGINAL && !isObject(dataItem)) {\n    dataItem = null;\n  }\n  if (dataItem) {\n    return dataItem[attr];\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { formatTpl } from '../../util/format.js';\nimport { error, makePrintable } from '../../util/log.js';\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g;\nvar DataFormatMixin = /** @class */function () {\n  function DataFormatMixin() {}\n  /**\r\n   * Get params for formatter\r\n   */\n  DataFormatMixin.prototype.getDataParams = function (dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var style = data.getItemVisual(dataIndex, 'style');\n    var color = style && style[data.getItemVisual(dataIndex, 'drawType') || 'fill'];\n    var borderColor = style && style.stroke;\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput && data.userOutput.get();\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.fullDimensions : null,\n      encode: userOutput ? userOutput.encode : null,\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  };\n  /**\r\n   * Format label\r\n   * @param dataIndex\r\n   * @param status 'normal' by default\r\n   * @param dataType\r\n   * @param labelDimIndex Only used in some chart that\r\n   *        use formatter in different dimensions, like radar.\r\n   * @param formatter Formatter given outside.\r\n   * @return return null/undefined if no formatter\r\n   */\n  DataFormatMixin.prototype.getFormattedLabel = function (dataIndex, status, dataType, labelDimIndex, formatter, extendParams) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var params = this.getDataParams(dataIndex, dataType);\n    if (extendParams) {\n      params.value = extendParams.interpolatedValue;\n    }\n    if (labelDimIndex != null && zrUtil.isArray(params.value)) {\n      params.value = params.value[labelDimIndex];\n    }\n    if (!formatter) {\n      var itemModel = data.getItemModel(dataIndex);\n      // @ts-ignore\n      formatter = itemModel.get(status === 'normal' ? ['label', 'formatter'] : [status, 'label', 'formatter']);\n    }\n    if (zrUtil.isFunction(formatter)) {\n      params.status = status;\n      params.dimensionIndex = labelDimIndex;\n      return formatter(params);\n    } else if (zrUtil.isString(formatter)) {\n      var str = formatTpl(formatter, params);\n      // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dimStr) {\n        var len = dimStr.length;\n        var dimLoose = dimStr;\n        if (dimLoose.charAt(0) === '[' && dimLoose.charAt(len - 1) === ']') {\n          dimLoose = +dimLoose.slice(1, len - 1); // Also support: '[]' => 0\n          if (process.env.NODE_ENV !== 'production') {\n            if (isNaN(dimLoose)) {\n              error(\"Invalide label formatter: @\" + dimStr + \", only support @[0], @[1], @[2], ...\");\n            }\n          }\n        }\n        var val = retrieveRawValue(data, dataIndex, dimLoose);\n        if (extendParams && zrUtil.isArray(extendParams.interpolatedValue)) {\n          var dimIndex = data.getDimensionIndex(dimLoose);\n          if (dimIndex >= 0) {\n            val = extendParams.interpolatedValue[dimIndex];\n          }\n        }\n        return val != null ? val + '' : '';\n      });\n    }\n  };\n  /**\r\n   * Get raw value in option\r\n   */\n  DataFormatMixin.prototype.getRawValue = function (idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  };\n  /**\r\n   * Should be implemented.\r\n   * @param {number} dataIndex\r\n   * @param {boolean} [multipleSeries=false]\r\n   * @param {string} [dataType]\r\n   */\n  DataFormatMixin.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    // Empty function\n    return;\n  };\n  return DataFormatMixin;\n}();\nexport { DataFormatMixin };\n;\n// PENDING: previously we accept this type when calling `formatTooltip`,\n// but guess little chance has been used outside. Do we need to backward\n// compat it?\n// type TooltipFormatResultLegacyObject = {\n//     // `html` means the markup language text, either in 'html' or 'richText'.\n//     // The name `html` is not appropriate because in 'richText' it is not a HTML\n//     // string. But still support it for backward compatibility.\n//     html: string;\n//     markers: Dictionary<ColorString>;\n// };\n/**\r\n * For backward compat, normalize the return from `formatTooltip`.\r\n */\nexport function normalizeTooltipFormatResult(result) {\n  var markupText;\n  // let markers: Dictionary<ColorString>;\n  var markupFragment;\n  if (zrUtil.isObject(result)) {\n    if (result.type) {\n      markupFragment = result;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn('The return type of `formatTooltip` is not supported: ' + makePrintable(result));\n      }\n    }\n    // else {\n    //     markupText = (result as TooltipFormatResultLegacyObject).html;\n    //     markers = (result as TooltipFormatResultLegacyObject).markers;\n    //     if (markersExisting) {\n    //         markers = zrUtil.merge(markersExisting, markers);\n    //     }\n    // }\n  } else {\n    markupText = result;\n  }\n  return {\n    text: markupText,\n    // markers: markers || markersExisting,\n    frag: markupFragment\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { assert, isArray } from 'zrender/lib/core/util.js';\n;\n/**\r\n * @param {Object} define\r\n * @return See the return of `createTask`.\r\n */\nexport function createTask(define) {\n  return new Task(define);\n}\nvar Task = /** @class */function () {\n  function Task(define) {\n    define = define || {};\n    this._reset = define.reset;\n    this._plan = define.plan;\n    this._count = define.count;\n    this._onDirty = define.onDirty;\n    this._dirty = true;\n  }\n  /**\r\n   * @param step Specified step.\r\n   * @param skip Skip customer perform call.\r\n   * @param modBy Sampling window size.\r\n   * @param modDataCount Sampling count.\r\n   * @return whether unfinished.\r\n   */\n  Task.prototype.perform = function (performArgs) {\n    var upTask = this._upstream;\n    var skip = performArgs && performArgs.skip;\n    // TODO some refactor.\n    // Pull data. Must pull data each time, because context.data\n    // may be updated by Series.setData.\n    if (this._dirty && upTask) {\n      var context = this.context;\n      context.data = context.outputData = upTask.context.outputData;\n    }\n    if (this.__pipeline) {\n      this.__pipeline.currentTask = this;\n    }\n    var planResult;\n    if (this._plan && !skip) {\n      planResult = this._plan(this.context);\n    }\n    // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n    // elements uniformed distributed when progress, especially when moving or zooming.\n    var lastModBy = normalizeModBy(this._modBy);\n    var lastModDataCount = this._modDataCount || 0;\n    var modBy = normalizeModBy(performArgs && performArgs.modBy);\n    var modDataCount = performArgs && performArgs.modDataCount || 0;\n    if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n      planResult = 'reset';\n    }\n    function normalizeModBy(val) {\n      !(val >= 1) && (val = 1); // jshint ignore:line\n      return val;\n    }\n    var forceFirstProgress;\n    if (this._dirty || planResult === 'reset') {\n      this._dirty = false;\n      forceFirstProgress = this._doReset(skip);\n    }\n    this._modBy = modBy;\n    this._modDataCount = modDataCount;\n    var step = performArgs && performArgs.step;\n    if (upTask) {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(upTask._outputDueEnd != null);\n      }\n      this._dueEnd = upTask._outputDueEnd;\n    }\n    // DataTask or overallTask\n    else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(!this._progress || this._count);\n      }\n      this._dueEnd = this._count ? this._count(this.context) : Infinity;\n    }\n    // Note: Stubs, that its host overall task let it has progress, has progress.\n    // If no progress, pass index from upstream to downstream each time plan called.\n    if (this._progress) {\n      var start = this._dueIndex;\n      var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n      if (!skip && (forceFirstProgress || start < end)) {\n        var progress = this._progress;\n        if (isArray(progress)) {\n          for (var i = 0; i < progress.length; i++) {\n            this._doProgress(progress[i], start, end, modBy, modDataCount);\n          }\n        } else {\n          this._doProgress(progress, start, end, modBy, modDataCount);\n        }\n      }\n      this._dueIndex = end;\n      // If no `outputDueEnd`, assume that output data and\n      // input data is the same, so use `dueIndex` as `outputDueEnd`.\n      var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n      if (process.env.NODE_ENV !== 'production') {\n        // ??? Can not rollback.\n        assert(outputDueEnd >= this._outputDueEnd);\n      }\n      this._outputDueEnd = outputDueEnd;\n    } else {\n      // (1) Some overall task has no progress.\n      // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n      // This should always be performed so it can be passed to downstream.\n      this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n    }\n    return this.unfinished();\n  };\n  Task.prototype.dirty = function () {\n    this._dirty = true;\n    this._onDirty && this._onDirty(this.context);\n  };\n  Task.prototype._doProgress = function (progress, start, end, modBy, modDataCount) {\n    iterator.reset(start, end, modBy, modDataCount);\n    this._callingProgress = progress;\n    this._callingProgress({\n      start: start,\n      end: end,\n      count: end - start,\n      next: iterator.next\n    }, this.context);\n  };\n  Task.prototype._doReset = function (skip) {\n    this._dueIndex = this._outputDueEnd = this._dueEnd = 0;\n    this._settedOutputEnd = null;\n    var progress;\n    var forceFirstProgress;\n    if (!skip && this._reset) {\n      progress = this._reset(this.context);\n      if (progress && progress.progress) {\n        forceFirstProgress = progress.forceFirstProgress;\n        progress = progress.progress;\n      }\n      // To simplify no progress checking, array must has item.\n      if (isArray(progress) && !progress.length) {\n        progress = null;\n      }\n    }\n    this._progress = progress;\n    this._modBy = this._modDataCount = null;\n    var downstream = this._downstream;\n    downstream && downstream.dirty();\n    return forceFirstProgress;\n  };\n  Task.prototype.unfinished = function () {\n    return this._progress && this._dueIndex < this._dueEnd;\n  };\n  /**\r\n   * @param downTask The downstream task.\r\n   * @return The downstream task.\r\n   */\n  Task.prototype.pipe = function (downTask) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(downTask && !downTask._disposed && downTask !== this);\n    }\n    // If already downstream, do not dirty downTask.\n    if (this._downstream !== downTask || this._dirty) {\n      this._downstream = downTask;\n      downTask._upstream = this;\n      downTask.dirty();\n    }\n  };\n  Task.prototype.dispose = function () {\n    if (this._disposed) {\n      return;\n    }\n    this._upstream && (this._upstream._downstream = null);\n    this._downstream && (this._downstream._upstream = null);\n    this._dirty = false;\n    this._disposed = true;\n  };\n  Task.prototype.getUpstream = function () {\n    return this._upstream;\n  };\n  Task.prototype.getDownstream = function () {\n    return this._downstream;\n  };\n  Task.prototype.setOutputEnd = function (end) {\n    // This only happens in dataTask, dataZoom, map, currently.\n    // where dataZoom do not set end each time, but only set\n    // when reset. So we should record the set end, in case\n    // that the stub of dataZoom perform again and earse the\n    // set end by upstream.\n    this._outputDueEnd = this._settedOutputEnd = end;\n  };\n  return Task;\n}();\nexport { Task };\nvar iterator = function () {\n  var end;\n  var current;\n  var modBy;\n  var modDataCount;\n  var winCount;\n  var it = {\n    reset: function (s, e, sStep, sCount) {\n      current = s;\n      end = e;\n      modBy = sStep;\n      modDataCount = sCount;\n      winCount = Math.ceil(modDataCount / modBy);\n      it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n    }\n  };\n  return it;\n  function sequentialNext() {\n    return current < end ? current++ : null;\n  }\n  function modNext() {\n    var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n    var result = current >= end ? null : dataIndex < modDataCount ? dataIndex\n    // If modDataCount is smaller than data.count() (consider `appendData` case),\n    // Use normal linear rendering mode.\n    : current;\n    current++;\n    return result;\n  }\n}();\n// -----------------------------------------------------------------------------\n// For stream debug (Should be commented out after used!)\n// @usage: printTask(this, 'begin');\n// @usage: printTask(this, null, {someExtraProp});\n// @usage: Use `__idxInPipeline` as conditional breakpiont.\n//\n// window.printTask = function (task: any, prefix: string, extra: { [key: string]: unknown }): void {\n//     window.ecTaskUID == null && (window.ecTaskUID = 0);\n//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n//     let props = [];\n//     if (task.__pipeline) {\n//         let val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n//         props.push({text: '__idxInPipeline/total', value: val});\n//     } else {\n//         let stubCount = 0;\n//         task.agentStubMap.each(() => stubCount++);\n//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n//     }\n//     props.push({text: 'uid', value: task.uidDebug});\n//     if (task.__pipeline) {\n//         props.push({text: 'pipelineId', value: task.__pipeline.id});\n//         task.agent && props.push(\n//             {text: 'stubFor', value: task.agent.uidDebug}\n//         );\n//     }\n//     props.push(\n//         {text: 'dirty', value: task._dirty},\n//         {text: 'dueIndex', value: task._dueIndex},\n//         {text: 'dueEnd', value: task._dueEnd},\n//         {text: 'outputDueEnd', value: task._outputDueEnd}\n//     );\n//     if (extra) {\n//         Object.keys(extra).forEach(key => {\n//             props.push({text: key, value: extra[key]});\n//         });\n//     }\n//     let args = ['color: blue'];\n//     let msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n//         args.push('color: green', 'color: red'),\n//         `${item.text}: %c${item.value}`\n//     )).join('%c, ');\n//     console.log.apply(console, [msg].concat(args));\n//     // console.log(this);\n// };\n// window.printPipeline = function (task: any, prefix: string) {\n//     const pipeline = task.__pipeline;\n//     let currTask = pipeline.head;\n//     while (currTask) {\n//         window.printTask(currTask, prefix);\n//         currTask = currTask._downstream;\n//     }\n// };\n// window.showChain = function (chainHeadTask) {\n//     var chain = [];\n//     var task = chainHeadTask;\n//     while (task) {\n//         chain.push({\n//             task: task,\n//             up: task._upstream,\n//             down: task._downstream,\n//             idxInPipeline: task.__idxInPipeline\n//         });\n//         task = task._downstream;\n//     }\n//     return chain;\n// };\n// window.findTaskInChain = function (task, chainHeadTask) {\n//     let chain = window.showChain(chainHeadTask);\n//     let result = [];\n//     for (let i = 0; i < chain.length; i++) {\n//         let chainItem = chain[i];\n//         if (chainItem.task === task) {\n//             result.push(i);\n//         }\n//     }\n//     return result;\n// };\n// window.printChainAEachInChainB = function (chainHeadTaskA, chainHeadTaskB) {\n//     let chainA = window.showChain(chainHeadTaskA);\n//     for (let i = 0; i < chainA.length; i++) {\n//         console.log('chainAIdx:', i, 'inChainB:', window.findTaskInChain(chainA[i].task, chainHeadTaskB));\n//     }\n// };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { parseDate, numericToNumber } from '../../util/number.js';\nimport { createHashMap, trim, hasOwn, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { throwError } from '../../util/log.js';\n/**\r\n * Convert raw the value in to inner value in List.\r\n *\r\n * [Performance sensitive]\r\n *\r\n * [Caution]: this is the key logic of user value parser.\r\n * For backward compatibility, do not modify it until you have to!\r\n */\nexport function parseDataValue(value,\n// For high performance, do not omit the second param.\nopt) {\n  // Performance sensitive.\n  var dimType = opt && opt.type;\n  if (dimType === 'ordinal') {\n    // If given value is a category string\n    return value;\n  }\n  if (dimType === 'time'\n  // spead up when using timestamp\n  && !isNumber(value) && value != null && value !== '-') {\n    value = +parseDate(value);\n  }\n  // dimType defaults 'number'.\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\n  // parse to NaN.\n  // number-like string (like ' 123 ') can be converted to a number.\n  // where null/undefined or other string will be converted to NaN.\n  return value == null || value === '' ? NaN\n  // If string (like '-'), using '+' parse to NaN\n  // If object, also parse to NaN\n  : Number(value);\n}\n;\nvar valueParserMap = createHashMap({\n  'number': function (val) {\n    // Do not use `numericToNumber` here. We have `numericToNumber` by default.\n    // Here the number parser can have loose rule:\n    // enable to cut suffix: \"120px\" => 120, \"14%\" => 14.\n    return parseFloat(val);\n  },\n  'time': function (val) {\n    // return timestamp.\n    return +parseDate(val);\n  },\n  'trim': function (val) {\n    return isString(val) ? trim(val) : val;\n  }\n});\nexport function getRawValueParser(type) {\n  return valueParserMap.get(type);\n}\nvar ORDER_COMPARISON_OP_MAP = {\n  lt: function (lval, rval) {\n    return lval < rval;\n  },\n  lte: function (lval, rval) {\n    return lval <= rval;\n  },\n  gt: function (lval, rval) {\n    return lval > rval;\n  },\n  gte: function (lval, rval) {\n    return lval >= rval;\n  }\n};\nvar FilterOrderComparator = /** @class */function () {\n  function FilterOrderComparator(op, rval) {\n    if (!isNumber(rval)) {\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'rvalue of \"<\", \">\", \"<=\", \">=\" can only be number in filter.';\n      }\n      throwError(errMsg);\n    }\n    this._opFn = ORDER_COMPARISON_OP_MAP[op];\n    this._rvalFloat = numericToNumber(rval);\n  }\n  // Performance sensitive.\n  FilterOrderComparator.prototype.evaluate = function (lval) {\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\n    return isNumber(lval) ? this._opFn(lval, this._rvalFloat) : this._opFn(numericToNumber(lval), this._rvalFloat);\n  };\n  return FilterOrderComparator;\n}();\nvar SortOrderComparator = /** @class */function () {\n  /**\r\n   * @param order by default: 'asc'\r\n   * @param incomparable by default: Always on the tail.\r\n   *        That is, if 'asc' => 'max', if 'desc' => 'min'\r\n   *        See the definition of \"incomparable\" in [SORT_COMPARISON_RULE].\r\n   */\n  function SortOrderComparator(order, incomparable) {\n    var isDesc = order === 'desc';\n    this._resultLT = isDesc ? 1 : -1;\n    if (incomparable == null) {\n      incomparable = isDesc ? 'min' : 'max';\n    }\n    this._incomparable = incomparable === 'min' ? -Infinity : Infinity;\n  }\n  // See [SORT_COMPARISON_RULE].\n  // Performance sensitive.\n  SortOrderComparator.prototype.evaluate = function (lval, rval) {\n    // Most cases is 'number', and typeof maybe 10 times faseter than parseFloat.\n    var lvalFloat = isNumber(lval) ? lval : numericToNumber(lval);\n    var rvalFloat = isNumber(rval) ? rval : numericToNumber(rval);\n    var lvalNotNumeric = isNaN(lvalFloat);\n    var rvalNotNumeric = isNaN(rvalFloat);\n    if (lvalNotNumeric) {\n      lvalFloat = this._incomparable;\n    }\n    if (rvalNotNumeric) {\n      rvalFloat = this._incomparable;\n    }\n    if (lvalNotNumeric && rvalNotNumeric) {\n      var lvalIsStr = isString(lval);\n      var rvalIsStr = isString(rval);\n      if (lvalIsStr) {\n        lvalFloat = rvalIsStr ? lval : 0;\n      }\n      if (rvalIsStr) {\n        rvalFloat = lvalIsStr ? rval : 0;\n      }\n    }\n    return lvalFloat < rvalFloat ? this._resultLT : lvalFloat > rvalFloat ? -this._resultLT : 0;\n  };\n  return SortOrderComparator;\n}();\nexport { SortOrderComparator };\nvar FilterEqualityComparator = /** @class */function () {\n  function FilterEqualityComparator(isEq, rval) {\n    this._rval = rval;\n    this._isEQ = isEq;\n    this._rvalTypeof = typeof rval;\n    this._rvalFloat = numericToNumber(rval);\n  }\n  // Performance sensitive.\n  FilterEqualityComparator.prototype.evaluate = function (lval) {\n    var eqResult = lval === this._rval;\n    if (!eqResult) {\n      var lvalTypeof = typeof lval;\n      if (lvalTypeof !== this._rvalTypeof && (lvalTypeof === 'number' || this._rvalTypeof === 'number')) {\n        eqResult = numericToNumber(lval) === this._rvalFloat;\n      }\n    }\n    return this._isEQ ? eqResult : !eqResult;\n  };\n  return FilterEqualityComparator;\n}();\n/**\r\n * [FILTER_COMPARISON_RULE]\r\n * `lt`|`lte`|`gt`|`gte`:\r\n * + rval must be a number. And lval will be converted to number (`numericToNumber`) to compare.\r\n * `eq`:\r\n * + If same type, compare with `===`.\r\n * + If there is one number, convert to number (`numericToNumber`) to compare.\r\n * + Else return `false`.\r\n * `ne`:\r\n * + Not `eq`.\r\n *\r\n *\r\n * [SORT_COMPARISON_RULE]\r\n * All the values are grouped into three categories:\r\n * + \"numeric\" (number and numeric string)\r\n * + \"non-numeric-string\" (string that excluding numeric string)\r\n * + \"others\"\r\n * \"numeric\" vs \"numeric\": values are ordered by number order.\r\n * \"non-numeric-string\" vs \"non-numeric-string\": values are ordered by ES spec (#sec-abstract-relational-comparison).\r\n * \"others\" vs \"others\": do not change order (always return 0).\r\n * \"numeric\" vs \"non-numeric-string\": \"non-numeric-string\" is treated as \"incomparable\".\r\n * \"number\" vs \"others\": \"others\" is treated as \"incomparable\".\r\n * \"non-numeric-string\" vs \"others\": \"others\" is treated as \"incomparable\".\r\n * \"incomparable\" will be seen as -Infinity or Infinity (depends on the settings).\r\n * MEMO:\r\n *   Non-numeric string sort makes sense when we need to put the items with the same tag together.\r\n *   But if we support string sort, we still need to avoid the misleading like `'2' > '12'`,\r\n *   So we treat \"numeric-string\" sorted by number order rather than string comparison.\r\n *\r\n *\r\n * [CHECK_LIST_OF_THE_RULE_DESIGN]\r\n * + Do not support string comparison until required. And also need to\r\n *   avoid the misleading of \"2\" > \"12\".\r\n * + Should avoid the misleading case:\r\n *   `\" 22 \" gte \"22\"` is `true` but `\" 22 \" eq \"22\"` is `false`.\r\n * + JS bad case should be avoided: null <= 0, [] <= 0, ' ' <= 0, ...\r\n * + Only \"numeric\" can be converted to comparable number, otherwise converted to NaN.\r\n *   See `util/number.ts#numericToNumber`.\r\n *\r\n * @return If `op` is not `RelationalOperator`, return null;\r\n */\nexport function createFilterComparator(op, rval) {\n  return op === 'eq' || op === 'ne' ? new FilterEqualityComparator(op === 'eq', rval) : hasOwn(ORDER_COMPARISON_OP_MAP, op) ? new FilterOrderComparator(op, rval) : null;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { SERIES_LAYOUT_BY_COLUMN, SOURCE_FORMAT_OBJECT_ROWS, SOURCE_FORMAT_ARRAY_ROWS } from '../../util/types.js';\nimport { normalizeToArray } from '../../util/model.js';\nimport { createHashMap, bind, each, hasOwn, map, clone, isObject, extend, isNumber } from 'zrender/lib/core/util.js';\nimport { getRawSourceItemGetter, getRawSourceDataCounter, getRawSourceValueGetter } from './dataProvider.js';\nimport { parseDataValue } from './dataValueHelper.js';\nimport { log, makePrintable, throwError } from '../../util/log.js';\nimport { createSource, detectSourceFormat } from '../Source.js';\n/**\r\n * TODO: disable writable.\r\n * This structure will be exposed to users.\r\n */\nvar ExternalSource = /** @class */function () {\n  function ExternalSource() {}\n  ExternalSource.prototype.getRawData = function () {\n    // Only built-in transform available.\n    throw new Error('not supported');\n  };\n  ExternalSource.prototype.getRawDataItem = function (dataIndex) {\n    // Only built-in transform available.\n    throw new Error('not supported');\n  };\n  ExternalSource.prototype.cloneRawData = function () {\n    return;\n  };\n  /**\r\n   * @return If dimension not found, return null/undefined.\r\n   */\n  ExternalSource.prototype.getDimensionInfo = function (dim) {\n    return;\n  };\n  /**\r\n   * dimensions defined if and only if either:\r\n   * (a) dataset.dimensions are declared.\r\n   * (b) dataset data include dimensions definitions in data (detected or via specified `sourceHeader`).\r\n   * If dimensions are defined, `dimensionInfoAll` is corresponding to\r\n   * the defined dimensions.\r\n   * Otherwise, `dimensionInfoAll` is determined by data columns.\r\n   * @return Always return an array (even empty array).\r\n   */\n  ExternalSource.prototype.cloneAllDimensionInfo = function () {\n    return;\n  };\n  ExternalSource.prototype.count = function () {\n    return;\n  };\n  /**\r\n   * Only support by dimension index.\r\n   * No need to support by dimension name in transform function,\r\n   * because transform function is not case-specific, no need to use name literally.\r\n   */\n  ExternalSource.prototype.retrieveValue = function (dataIndex, dimIndex) {\n    return;\n  };\n  ExternalSource.prototype.retrieveValueFromItem = function (dataItem, dimIndex) {\n    return;\n  };\n  ExternalSource.prototype.convertValue = function (rawVal, dimInfo) {\n    return parseDataValue(rawVal, dimInfo);\n  };\n  return ExternalSource;\n}();\nexport { ExternalSource };\nfunction createExternalSource(internalSource, externalTransform) {\n  var extSource = new ExternalSource();\n  var data = internalSource.data;\n  var sourceFormat = extSource.sourceFormat = internalSource.sourceFormat;\n  var sourceHeaderCount = internalSource.startIndex;\n  var errMsg = '';\n  if (internalSource.seriesLayoutBy !== SERIES_LAYOUT_BY_COLUMN) {\n    // For the logic simplicity in transformer, only 'culumn' is\n    // supported in data transform. Otherwise, the `dimensionsDefine`\n    // might be detected by 'row', which probably confuses users.\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`seriesLayoutBy` of upstream dataset can only be \"column\" in data transform.';\n    }\n    throwError(errMsg);\n  }\n  // [MEMO]\n  // Create a new dimensions structure for exposing.\n  // Do not expose all dimension info to users directly.\n  // Because the dimension is probably auto detected from data and not might reliable.\n  // Should not lead the transformers to think that is reliable and return it.\n  // See [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\n  var dimensions = [];\n  var dimsByName = {};\n  var dimsDef = internalSource.dimensionsDefine;\n  if (dimsDef) {\n    each(dimsDef, function (dimDef, idx) {\n      var name = dimDef.name;\n      var dimDefExt = {\n        index: idx,\n        name: name,\n        displayName: dimDef.displayName\n      };\n      dimensions.push(dimDefExt);\n      // Users probably do not specify dimension name. For simplicity, data transform\n      // does not generate dimension name.\n      if (name != null) {\n        // Dimension name should not be duplicated.\n        // For simplicity, data transform forbids name duplication, do not generate\n        // new name like module `completeDimensions.ts` did, but just tell users.\n        var errMsg_1 = '';\n        if (hasOwn(dimsByName, name)) {\n          if (process.env.NODE_ENV !== 'production') {\n            errMsg_1 = 'dimension name \"' + name + '\" duplicated.';\n          }\n          throwError(errMsg_1);\n        }\n        dimsByName[name] = dimDefExt;\n      }\n    });\n  }\n  // If dimension definitions are not defined and can not be detected.\n  // e.g., pure data `[[11, 22], ...]`.\n  else {\n    for (var i = 0; i < internalSource.dimensionsDetectedCount || 0; i++) {\n      // Do not generete name or anything others. The consequence process in\n      // `transform` or `series` probably have there own name generation strategry.\n      dimensions.push({\n        index: i\n      });\n    }\n  }\n  // Implement public methods:\n  var rawItemGetter = getRawSourceItemGetter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\n  if (externalTransform.__isBuiltIn) {\n    extSource.getRawDataItem = function (dataIndex) {\n      return rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\n    };\n    extSource.getRawData = bind(getRawData, null, internalSource);\n  }\n  extSource.cloneRawData = bind(cloneRawData, null, internalSource);\n  var rawCounter = getRawSourceDataCounter(sourceFormat, SERIES_LAYOUT_BY_COLUMN);\n  extSource.count = bind(rawCounter, null, data, sourceHeaderCount, dimensions);\n  var rawValueGetter = getRawSourceValueGetter(sourceFormat);\n  extSource.retrieveValue = function (dataIndex, dimIndex) {\n    var rawItem = rawItemGetter(data, sourceHeaderCount, dimensions, dataIndex);\n    return retrieveValueFromItem(rawItem, dimIndex);\n  };\n  var retrieveValueFromItem = extSource.retrieveValueFromItem = function (dataItem, dimIndex) {\n    if (dataItem == null) {\n      return;\n    }\n    var dimDef = dimensions[dimIndex];\n    // When `dimIndex` is `null`, `rawValueGetter` return the whole item.\n    if (dimDef) {\n      return rawValueGetter(dataItem, dimIndex, dimDef.name);\n    }\n  };\n  extSource.getDimensionInfo = bind(getDimensionInfo, null, dimensions, dimsByName);\n  extSource.cloneAllDimensionInfo = bind(cloneAllDimensionInfo, null, dimensions);\n  return extSource;\n}\nfunction getRawData(upstream) {\n  var sourceFormat = upstream.sourceFormat;\n  if (!isSupportedSourceFormat(sourceFormat)) {\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`getRawData` is not supported in source format ' + sourceFormat;\n    }\n    throwError(errMsg);\n  }\n  return upstream.data;\n}\nfunction cloneRawData(upstream) {\n  var sourceFormat = upstream.sourceFormat;\n  var data = upstream.data;\n  if (!isSupportedSourceFormat(sourceFormat)) {\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '`cloneRawData` is not supported in source format ' + sourceFormat;\n    }\n    throwError(errMsg);\n  }\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    var result = [];\n    for (var i = 0, len = data.length; i < len; i++) {\n      // Not strictly clone for performance\n      result.push(data[i].slice());\n    }\n    return result;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    var result = [];\n    for (var i = 0, len = data.length; i < len; i++) {\n      // Not strictly clone for performance\n      result.push(extend({}, data[i]));\n    }\n    return result;\n  }\n}\nfunction getDimensionInfo(dimensions, dimsByName, dim) {\n  if (dim == null) {\n    return;\n  }\n  // Keep the same logic as `List::getDimension` did.\n  if (isNumber(dim)\n  // If being a number-like string but not being defined a dimension name.\n  || !isNaN(dim) && !hasOwn(dimsByName, dim)) {\n    return dimensions[dim];\n  } else if (hasOwn(dimsByName, dim)) {\n    return dimsByName[dim];\n  }\n}\nfunction cloneAllDimensionInfo(dimensions) {\n  return clone(dimensions);\n}\nvar externalTransformMap = createHashMap();\nexport function registerExternalTransform(externalTransform) {\n  externalTransform = clone(externalTransform);\n  var type = externalTransform.type;\n  var errMsg = '';\n  if (!type) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Must have a `type` when `registerTransform`.';\n    }\n    throwError(errMsg);\n  }\n  var typeParsed = type.split(':');\n  if (typeParsed.length !== 2) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Name must include namespace like \"ns:regression\".';\n    }\n    throwError(errMsg);\n  }\n  // Namespace 'echarts:xxx' is official namespace, where the transforms should\n  // be called directly via 'xxx' rather than 'echarts:xxx'.\n  var isBuiltIn = false;\n  if (typeParsed[0] === 'echarts') {\n    type = typeParsed[1];\n    isBuiltIn = true;\n  }\n  externalTransform.__isBuiltIn = isBuiltIn;\n  externalTransformMap.set(type, externalTransform);\n}\nexport function applyDataTransform(rawTransOption, sourceList, infoForPrint) {\n  var pipedTransOption = normalizeToArray(rawTransOption);\n  var pipeLen = pipedTransOption.length;\n  var errMsg = '';\n  if (!pipeLen) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'If `transform` declared, it should at least contain one transform.';\n    }\n    throwError(errMsg);\n  }\n  for (var i = 0, len = pipeLen; i < len; i++) {\n    var transOption = pipedTransOption[i];\n    sourceList = applySingleDataTransform(transOption, sourceList, infoForPrint, pipeLen === 1 ? null : i);\n    // piped transform only support single input, except the fist one.\n    // piped transform only support single output, except the last one.\n    if (i !== len - 1) {\n      sourceList.length = Math.max(sourceList.length, 1);\n    }\n  }\n  return sourceList;\n}\nfunction applySingleDataTransform(transOption, upSourceList, infoForPrint,\n// If `pipeIndex` is null/undefined, no piped transform.\npipeIndex) {\n  var errMsg = '';\n  if (!upSourceList.length) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Must have at least one upstream dataset.';\n    }\n    throwError(errMsg);\n  }\n  if (!isObject(transOption)) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'transform declaration must be an object rather than ' + typeof transOption + '.';\n    }\n    throwError(errMsg);\n  }\n  var transType = transOption.type;\n  var externalTransform = externalTransformMap.get(transType);\n  if (!externalTransform) {\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = 'Can not find transform on type \"' + transType + '\".';\n    }\n    throwError(errMsg);\n  }\n  // Prepare source\n  var extUpSourceList = map(upSourceList, function (upSource) {\n    return createExternalSource(upSource, externalTransform);\n  });\n  var resultList = normalizeToArray(externalTransform.transform({\n    upstream: extUpSourceList[0],\n    upstreamList: extUpSourceList,\n    config: clone(transOption.config)\n  }));\n  if (process.env.NODE_ENV !== 'production') {\n    if (transOption.print) {\n      var printStrArr = map(resultList, function (extSource) {\n        var pipeIndexStr = pipeIndex != null ? ' === pipe index: ' + pipeIndex : '';\n        return ['=== dataset index: ' + infoForPrint.datasetIndex + pipeIndexStr + ' ===', '- transform result data:', makePrintable(extSource.data), '- transform result dimensions:', makePrintable(extSource.dimensions)].join('\\n');\n      }).join('\\n');\n      log(printStrArr);\n    }\n  }\n  return map(resultList, function (result, resultIndex) {\n    var errMsg = '';\n    if (!isObject(result)) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'A transform should not return some empty results.';\n      }\n      throwError(errMsg);\n    }\n    if (!result.data) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Transform result data should be not be null or undefined';\n      }\n      throwError(errMsg);\n    }\n    var sourceFormat = detectSourceFormat(result.data);\n    if (!isSupportedSourceFormat(sourceFormat)) {\n      if (process.env.NODE_ENV !== 'production') {\n        errMsg = 'Transform result data should be array rows or object rows.';\n      }\n      throwError(errMsg);\n    }\n    var resultMetaRawOption;\n    var firstUpSource = upSourceList[0];\n    /**\r\n     * Intuitively, the end users known the content of the original `dataset.source`,\r\n     * calucating the transform result in mind.\r\n     * Suppose the original `dataset.source` is:\r\n     * ```js\r\n     * [\r\n     *     ['product', '2012', '2013', '2014', '2015'],\r\n     *     ['AAA', 41.1, 30.4, 65.1, 53.3],\r\n     *     ['BBB', 86.5, 92.1, 85.7, 83.1],\r\n     *     ['CCC', 24.1, 67.2, 79.5, 86.4]\r\n     * ]\r\n     * ```\r\n     * The dimension info have to be detected from the source data.\r\n     * Some of the transformers (like filter, sort) will follow the dimension info\r\n     * of upstream, while others use new dimensions (like aggregate).\r\n     * Transformer can output a field `dimensions` to define the its own output dimensions.\r\n     * We also allow transformers to ignore the output `dimensions` field, and\r\n     * inherit the upstream dimensions definition. It can reduce the burden of handling\r\n     * dimensions in transformers.\r\n     *\r\n     * See also [DIMENSION_INHERIT_RULE] in `sourceManager.ts`.\r\n     */\n    if (firstUpSource && resultIndex === 0\n    // If transformer returns `dimensions`, it means that the transformer has different\n    // dimensions definitions. We do not inherit anything from upstream.\n    && !result.dimensions) {\n      var startIndex = firstUpSource.startIndex;\n      // We copy the header of upstream to the result, because:\n      // (1) The returned data always does not contain header line and can not be used\n      // as dimension-detection. In this case we can not use \"detected dimensions\" of\n      // upstream directly, because it might be detected based on different `seriesLayoutBy`.\n      // (2) We should support that the series read the upstream source in `seriesLayoutBy: 'row'`.\n      // So the original detected header should be add to the result, otherwise they can not be read.\n      if (startIndex) {\n        result.data = firstUpSource.data.slice(0, startIndex).concat(result.data);\n      }\n      resultMetaRawOption = {\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n        sourceHeader: startIndex,\n        dimensions: firstUpSource.metaRawOption.dimensions\n      };\n    } else {\n      resultMetaRawOption = {\n        seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n        sourceHeader: 0,\n        dimensions: result.dimensions\n      };\n    }\n    return createSource(result.data, resultMetaRawOption, null);\n  });\n}\nfunction isSupportedSourceFormat(sourceFormat) {\n  return sourceFormat === SOURCE_FORMAT_ARRAY_ROWS || sourceFormat === SOURCE_FORMAT_OBJECT_ROWS;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { assert, clone, createHashMap, isFunction, keys, map, reduce } from 'zrender/lib/core/util.js';\nimport { parseDataValue } from './helper/dataValueHelper.js';\nimport { shouldRetrieveDataByName } from './Source.js';\nvar UNDEFINED = 'undefined';\n/* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n// Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n// different from the Ctor of typed array.\nexport var CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\nexport var CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\nexport var CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\nexport var CtorFloat64Array = typeof Float64Array === UNDEFINED ? Array : Float64Array;\n/**\r\n * Multi dimensional data store\r\n */\nvar dataCtors = {\n  'float': CtorFloat64Array,\n  'int': CtorInt32Array,\n  // Ordinal data type can be string or int\n  'ordinal': Array,\n  'number': Array,\n  'time': CtorFloat64Array\n};\nvar defaultDimValueGetters;\nfunction getIndicesCtor(rawCount) {\n  // The possible max value in this._indicies is always this._rawCount despite of filtering.\n  return rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n}\n;\nfunction getInitialExtent() {\n  return [Infinity, -Infinity];\n}\n;\nfunction cloneChunk(originalChunk) {\n  var Ctor = originalChunk.constructor;\n  // Only shallow clone is enough when Array.\n  return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n}\nfunction prepareStore(store, dimIdx, dimType, end, append) {\n  var DataCtor = dataCtors[dimType || 'float'];\n  if (append) {\n    var oldStore = store[dimIdx];\n    var oldLen = oldStore && oldStore.length;\n    if (!(oldLen === end)) {\n      var newStore = new DataCtor(end);\n      // The cost of the copy is probably inconsiderable\n      // within the initial chunkSize.\n      for (var j = 0; j < oldLen; j++) {\n        newStore[j] = oldStore[j];\n      }\n      store[dimIdx] = newStore;\n    }\n  } else {\n    store[dimIdx] = new DataCtor(end);\n  }\n}\n;\n/**\r\n * Basically, DataStore API keep immutable.\r\n */\nvar DataStore = /** @class */function () {\n  function DataStore() {\n    this._chunks = [];\n    // It will not be calculated until needed.\n    this._rawExtent = [];\n    this._extent = [];\n    this._count = 0;\n    this._rawCount = 0;\n    this._calcDimNameToIdx = createHashMap();\n  }\n  /**\r\n   * Initialize from data\r\n   */\n  DataStore.prototype.initData = function (provider, inputDimensions, dimValueGetter) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(isFunction(provider.getItem) && isFunction(provider.count), 'Invalid data provider.');\n    }\n    this._provider = provider;\n    // Clear\n    this._chunks = [];\n    this._indices = null;\n    this.getRawIndex = this._getRawIdxIdentity;\n    var source = provider.getSource();\n    var defaultGetter = this.defaultDimValueGetter = defaultDimValueGetters[source.sourceFormat];\n    // Default dim value getter\n    this._dimValueGetter = dimValueGetter || defaultGetter;\n    // Reset raw extent.\n    this._rawExtent = [];\n    var willRetrieveDataByName = shouldRetrieveDataByName(source);\n    this._dimensions = map(inputDimensions, function (dim) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (willRetrieveDataByName) {\n          assert(dim.property != null);\n        }\n      }\n      return {\n        // Only pick these two props. Not leak other properties like orderMeta.\n        type: dim.type,\n        property: dim.property\n      };\n    });\n    this._initDataFromProvider(0, provider.count());\n  };\n  DataStore.prototype.getProvider = function () {\n    return this._provider;\n  };\n  /**\r\n   * Caution: even when a `source` instance owned by a series, the created data store\r\n   * may still be shared by different sereis (the source hash does not use all `source`\r\n   * props, see `sourceManager`). In this case, the `source` props that are not used in\r\n   * hash (like `source.dimensionDefine`) probably only belongs to a certain series and\r\n   * thus should not be fetch here.\r\n   */\n  DataStore.prototype.getSource = function () {\n    return this._provider.getSource();\n  };\n  /**\r\n   * @caution Only used in dataStack.\r\n   */\n  DataStore.prototype.ensureCalculationDimension = function (dimName, type) {\n    var calcDimNameToIdx = this._calcDimNameToIdx;\n    var dimensions = this._dimensions;\n    var calcDimIdx = calcDimNameToIdx.get(dimName);\n    if (calcDimIdx != null) {\n      if (dimensions[calcDimIdx].type === type) {\n        return calcDimIdx;\n      }\n    } else {\n      calcDimIdx = dimensions.length;\n    }\n    dimensions[calcDimIdx] = {\n      type: type\n    };\n    calcDimNameToIdx.set(dimName, calcDimIdx);\n    this._chunks[calcDimIdx] = new dataCtors[type || 'float'](this._rawCount);\n    this._rawExtent[calcDimIdx] = getInitialExtent();\n    return calcDimIdx;\n  };\n  DataStore.prototype.collectOrdinalMeta = function (dimIdx, ordinalMeta) {\n    var chunk = this._chunks[dimIdx];\n    var dim = this._dimensions[dimIdx];\n    var rawExtents = this._rawExtent;\n    var offset = dim.ordinalOffset || 0;\n    var len = chunk.length;\n    if (offset === 0) {\n      // We need to reset the rawExtent if collect is from start.\n      // Because this dimension may be guessed as number and calcuating a wrong extent.\n      rawExtents[dimIdx] = getInitialExtent();\n    }\n    var dimRawExtent = rawExtents[dimIdx];\n    // Parse from previous data offset. len may be changed after appendData\n    for (var i = offset; i < len; i++) {\n      var val = chunk[i] = ordinalMeta.parseAndCollect(chunk[i]);\n      if (!isNaN(val)) {\n        dimRawExtent[0] = Math.min(val, dimRawExtent[0]);\n        dimRawExtent[1] = Math.max(val, dimRawExtent[1]);\n      }\n    }\n    dim.ordinalMeta = ordinalMeta;\n    dim.ordinalOffset = len;\n    dim.type = 'ordinal'; // Force to be ordinal\n  };\n  DataStore.prototype.getOrdinalMeta = function (dimIdx) {\n    var dimInfo = this._dimensions[dimIdx];\n    var ordinalMeta = dimInfo.ordinalMeta;\n    return ordinalMeta;\n  };\n  DataStore.prototype.getDimensionProperty = function (dimIndex) {\n    var item = this._dimensions[dimIndex];\n    return item && item.property;\n  };\n  /**\r\n   * Caution: Can be only called on raw data (before `this._indices` created).\r\n   */\n  DataStore.prototype.appendData = function (data) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(!this._indices, 'appendData can only be called on raw data.');\n    }\n    var provider = this._provider;\n    var start = this.count();\n    provider.appendData(data);\n    var end = provider.count();\n    if (!provider.persistent) {\n      end += start;\n    }\n    if (start < end) {\n      this._initDataFromProvider(start, end, true);\n    }\n    return [start, end];\n  };\n  DataStore.prototype.appendValues = function (values, minFillLen) {\n    var chunks = this._chunks;\n    var dimensions = this._dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var start = this.count();\n    var end = start + Math.max(values.length, minFillLen || 0);\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n      prepareStore(chunks, i, dim.type, end, true);\n    }\n    var emptyDataItem = [];\n    for (var idx = start; idx < end; idx++) {\n      var sourceIdx = idx - start;\n      // Store the data by dimensions\n      for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\n        var dim = dimensions[dimIdx];\n        var val = defaultDimValueGetters.arrayRows.call(this, values[sourceIdx] || emptyDataItem, dim.property, sourceIdx, dimIdx);\n        chunks[dimIdx][idx] = val;\n        var dimRawExtent = rawExtent[dimIdx];\n        val < dimRawExtent[0] && (dimRawExtent[0] = val);\n        val > dimRawExtent[1] && (dimRawExtent[1] = val);\n      }\n    }\n    this._rawCount = this._count = end;\n    return {\n      start: start,\n      end: end\n    };\n  };\n  DataStore.prototype._initDataFromProvider = function (start, end, append) {\n    var provider = this._provider;\n    var chunks = this._chunks;\n    var dimensions = this._dimensions;\n    var dimLen = dimensions.length;\n    var rawExtent = this._rawExtent;\n    var dimNames = map(dimensions, function (dim) {\n      return dim.property;\n    });\n    for (var i = 0; i < dimLen; i++) {\n      var dim = dimensions[i];\n      if (!rawExtent[i]) {\n        rawExtent[i] = getInitialExtent();\n      }\n      prepareStore(chunks, i, dim.type, end, append);\n    }\n    if (provider.fillStorage) {\n      provider.fillStorage(start, end, chunks, rawExtent);\n    } else {\n      var dataItem = [];\n      for (var idx = start; idx < end; idx++) {\n        // NOTICE: Try not to write things into dataItem\n        dataItem = provider.getItem(idx, dataItem);\n        // Each data item is value\n        // [1, 2]\n        // 2\n        // Bar chart, line chart which uses category axis\n        // only gives the 'y' value. 'x' value is the indices of category\n        // Use a tempValue to normalize the value to be a (x, y) value\n        // Store the data by dimensions\n        for (var dimIdx = 0; dimIdx < dimLen; dimIdx++) {\n          var dimStorage = chunks[dimIdx];\n          // PENDING NULL is empty or zero\n          var val = this._dimValueGetter(dataItem, dimNames[dimIdx], idx, dimIdx);\n          dimStorage[idx] = val;\n          var dimRawExtent = rawExtent[dimIdx];\n          val < dimRawExtent[0] && (dimRawExtent[0] = val);\n          val > dimRawExtent[1] && (dimRawExtent[1] = val);\n        }\n      }\n    }\n    if (!provider.persistent && provider.clean) {\n      // Clean unused data if data source is typed array.\n      provider.clean();\n    }\n    this._rawCount = this._count = end;\n    // Reset data extent\n    this._extent = [];\n  };\n  DataStore.prototype.count = function () {\n    return this._count;\n  };\n  /**\r\n   * Get value. Return NaN if idx is out of range.\r\n   */\n  DataStore.prototype.get = function (dim, idx) {\n    if (!(idx >= 0 && idx < this._count)) {\n      return NaN;\n    }\n    var dimStore = this._chunks[dim];\n    return dimStore ? dimStore[this.getRawIndex(idx)] : NaN;\n  };\n  DataStore.prototype.getValues = function (dimensions, idx) {\n    var values = [];\n    var dimArr = [];\n    if (idx == null) {\n      idx = dimensions;\n      // TODO get all from store?\n      dimensions = [];\n      // All dimensions\n      for (var i = 0; i < this._dimensions.length; i++) {\n        dimArr.push(i);\n      }\n    } else {\n      dimArr = dimensions;\n    }\n    for (var i = 0, len = dimArr.length; i < len; i++) {\n      values.push(this.get(dimArr[i], idx));\n    }\n    return values;\n  };\n  /**\r\n   * @param dim concrete dim\r\n   */\n  DataStore.prototype.getByRawIndex = function (dim, rawIdx) {\n    if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n      return NaN;\n    }\n    var dimStore = this._chunks[dim];\n    return dimStore ? dimStore[rawIdx] : NaN;\n  };\n  /**\r\n   * Get sum of data in one dimension\r\n   */\n  DataStore.prototype.getSum = function (dim) {\n    var dimData = this._chunks[dim];\n    var sum = 0;\n    if (dimData) {\n      for (var i = 0, len = this.count(); i < len; i++) {\n        var value = this.get(dim, i);\n        if (!isNaN(value)) {\n          sum += value;\n        }\n      }\n    }\n    return sum;\n  };\n  /**\r\n   * Get median of data in one dimension\r\n   */\n  DataStore.prototype.getMedian = function (dim) {\n    var dimDataArray = [];\n    // map all data of one dimension\n    this.each([dim], function (val) {\n      if (!isNaN(val)) {\n        dimDataArray.push(val);\n      }\n    });\n    // TODO\n    // Use quick select?\n    var sortedDimDataArray = dimDataArray.sort(function (a, b) {\n      return a - b;\n    });\n    var len = this.count();\n    // calculate median\n    return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n  };\n  /**\r\n   * Retrieve the index with given raw data index.\r\n   */\n  DataStore.prototype.indexOfRawIndex = function (rawIndex) {\n    if (rawIndex >= this._rawCount || rawIndex < 0) {\n      return -1;\n    }\n    if (!this._indices) {\n      return rawIndex;\n    }\n    // Indices are ascending\n    var indices = this._indices;\n    // If rawIndex === dataIndex\n    var rawDataIndex = indices[rawIndex];\n    if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n      return rawIndex;\n    }\n    var left = 0;\n    var right = this._count - 1;\n    while (left <= right) {\n      var mid = (left + right) / 2 | 0;\n      if (indices[mid] < rawIndex) {\n        left = mid + 1;\n      } else if (indices[mid] > rawIndex) {\n        right = mid - 1;\n      } else {\n        return mid;\n      }\n    }\n    return -1;\n  };\n  /**\r\n   * Retrieve the index of nearest value.\r\n   * @param dim\r\n   * @param value\r\n   * @param [maxDistance=Infinity]\r\n   * @return If and only if multiple indices have\r\n   *         the same value, they are put to the result.\r\n   */\n  DataStore.prototype.indicesOfNearest = function (dim, value, maxDistance) {\n    var chunks = this._chunks;\n    var dimData = chunks[dim];\n    var nearestIndices = [];\n    if (!dimData) {\n      return nearestIndices;\n    }\n    if (maxDistance == null) {\n      maxDistance = Infinity;\n    }\n    var minDist = Infinity;\n    var minDiff = -1;\n    var nearestIndicesLen = 0;\n    // Check the test case of `test/ut/spec/data/SeriesData.js`.\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var dataIndex = this.getRawIndex(i);\n      var diff = value - dimData[dataIndex];\n      var dist = Math.abs(diff);\n      if (dist <= maxDistance) {\n        // When the `value` is at the middle of `this.get(dim, i)` and `this.get(dim, i+1)`,\n        // we'd better not push both of them to `nearestIndices`, otherwise it is easy to\n        // get more than one item in `nearestIndices` (more specifically, in `tooltip`).\n        // So we choose the one that `diff >= 0` in this case.\n        // But if `this.get(dim, i)` and `this.get(dim, j)` get the same value, both of them\n        // should be push to `nearestIndices`.\n        if (dist < minDist || dist === minDist && diff >= 0 && minDiff < 0) {\n          minDist = dist;\n          minDiff = diff;\n          nearestIndicesLen = 0;\n        }\n        if (diff === minDiff) {\n          nearestIndices[nearestIndicesLen++] = i;\n        }\n      }\n    }\n    nearestIndices.length = nearestIndicesLen;\n    return nearestIndices;\n  };\n  DataStore.prototype.getIndices = function () {\n    var newIndices;\n    var indices = this._indices;\n    if (indices) {\n      var Ctor = indices.constructor;\n      var thisCount = this._count;\n      // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n      if (Ctor === Array) {\n        newIndices = new Ctor(thisCount);\n        for (var i = 0; i < thisCount; i++) {\n          newIndices[i] = indices[i];\n        }\n      } else {\n        newIndices = new Ctor(indices.buffer, 0, thisCount);\n      }\n    } else {\n      var Ctor = getIndicesCtor(this._rawCount);\n      newIndices = new Ctor(this.count());\n      for (var i = 0; i < newIndices.length; i++) {\n        newIndices[i] = i;\n      }\n    }\n    return newIndices;\n  };\n  /**\r\n   * Data filter.\r\n   */\n  DataStore.prototype.filter = function (dims, cb) {\n    if (!this._count) {\n      return this;\n    }\n    var newStore = this.clone();\n    var count = newStore.count();\n    var Ctor = getIndicesCtor(newStore._rawCount);\n    var newIndices = new Ctor(count);\n    var value = [];\n    var dimSize = dims.length;\n    var offset = 0;\n    var dim0 = dims[0];\n    var chunks = newStore._chunks;\n    for (var i = 0; i < count; i++) {\n      var keep = void 0;\n      var rawIdx = newStore.getRawIndex(i);\n      // Simple optimization\n      if (dimSize === 0) {\n        keep = cb(i);\n      } else if (dimSize === 1) {\n        var val = chunks[dim0][rawIdx];\n        keep = cb(val, i);\n      } else {\n        var k = 0;\n        for (; k < dimSize; k++) {\n          value[k] = chunks[dims[k]][rawIdx];\n        }\n        value[k] = i;\n        keep = cb.apply(null, value);\n      }\n      if (keep) {\n        newIndices[offset++] = rawIdx;\n      }\n    }\n    // Set indices after filtered.\n    if (offset < count) {\n      newStore._indices = newIndices;\n    }\n    newStore._count = offset;\n    // Reset data extent\n    newStore._extent = [];\n    newStore._updateGetRawIdx();\n    return newStore;\n  };\n  /**\r\n   * Select data in range. (For optimization of filter)\r\n   * (Manually inline code, support 5 million data filtering in data zoom.)\r\n   */\n  DataStore.prototype.selectRange = function (range) {\n    var newStore = this.clone();\n    var len = newStore._count;\n    if (!len) {\n      return this;\n    }\n    var dims = keys(range);\n    var dimSize = dims.length;\n    if (!dimSize) {\n      return this;\n    }\n    var originalCount = newStore.count();\n    var Ctor = getIndicesCtor(newStore._rawCount);\n    var newIndices = new Ctor(originalCount);\n    var offset = 0;\n    var dim0 = dims[0];\n    var min = range[dim0][0];\n    var max = range[dim0][1];\n    var storeArr = newStore._chunks;\n    var quickFinished = false;\n    if (!newStore._indices) {\n      // Extreme optimization for common case. About 2x faster in chrome.\n      var idx = 0;\n      if (dimSize === 1) {\n        var dimStorage = storeArr[dims[0]];\n        for (var i = 0; i < len; i++) {\n          var val = dimStorage[i];\n          // NaN will not be filtered. Consider the case, in line chart, empty\n          // value indicates the line should be broken. But for the case like\n          // scatter plot, a data item with empty value will not be rendered,\n          // but the axis extent may be effected if some other dim of the data\n          // item has value. Fortunately it is not a significant negative effect.\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = idx;\n          }\n          idx++;\n        }\n        quickFinished = true;\n      } else if (dimSize === 2) {\n        var dimStorage = storeArr[dims[0]];\n        var dimStorage2 = storeArr[dims[1]];\n        var min2 = range[dims[1]][0];\n        var max2 = range[dims[1]][1];\n        for (var i = 0; i < len; i++) {\n          var val = dimStorage[i];\n          var val2 = dimStorage2[i];\n          // Do not filter NaN, see comment above.\n          if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n            newIndices[offset++] = idx;\n          }\n          idx++;\n        }\n        quickFinished = true;\n      }\n    }\n    if (!quickFinished) {\n      if (dimSize === 1) {\n        for (var i = 0; i < originalCount; i++) {\n          var rawIndex = newStore.getRawIndex(i);\n          var val = storeArr[dims[0]][rawIndex];\n          // Do not filter NaN, see comment above.\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = rawIndex;\n          }\n        }\n      } else {\n        for (var i = 0; i < originalCount; i++) {\n          var keep = true;\n          var rawIndex = newStore.getRawIndex(i);\n          for (var k = 0; k < dimSize; k++) {\n            var dimk = dims[k];\n            var val = storeArr[dimk][rawIndex];\n            // Do not filter NaN, see comment above.\n            if (val < range[dimk][0] || val > range[dimk][1]) {\n              keep = false;\n            }\n          }\n          if (keep) {\n            newIndices[offset++] = newStore.getRawIndex(i);\n          }\n        }\n      }\n    }\n    // Set indices after filtered.\n    if (offset < originalCount) {\n      newStore._indices = newIndices;\n    }\n    newStore._count = offset;\n    // Reset data extent\n    newStore._extent = [];\n    newStore._updateGetRawIdx();\n    return newStore;\n  };\n  // /**\n  //  * Data mapping to a plain array\n  //  */\n  // mapArray(dims: DimensionIndex[], cb: MapArrayCb): any[] {\n  //     const result: any[] = [];\n  //     this.each(dims, function () {\n  //         result.push(cb && (cb as MapArrayCb).apply(null, arguments));\n  //     });\n  //     return result;\n  // }\n  /**\r\n   * Data mapping to a new List with given dimensions\r\n   */\n  DataStore.prototype.map = function (dims, cb) {\n    // TODO only clone picked chunks.\n    var target = this.clone(dims);\n    this._updateDims(target, dims, cb);\n    return target;\n  };\n  /**\r\n   * @caution Danger!! Only used in dataStack.\r\n   */\n  DataStore.prototype.modify = function (dims, cb) {\n    this._updateDims(this, dims, cb);\n  };\n  DataStore.prototype._updateDims = function (target, dims, cb) {\n    var targetChunks = target._chunks;\n    var tmpRetValue = [];\n    var dimSize = dims.length;\n    var dataCount = target.count();\n    var values = [];\n    var rawExtent = target._rawExtent;\n    for (var i = 0; i < dims.length; i++) {\n      rawExtent[dims[i]] = getInitialExtent();\n    }\n    for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n      var rawIndex = target.getRawIndex(dataIndex);\n      for (var k = 0; k < dimSize; k++) {\n        values[k] = targetChunks[dims[k]][rawIndex];\n      }\n      values[dimSize] = dataIndex;\n      var retValue = cb && cb.apply(null, values);\n      if (retValue != null) {\n        // a number or string (in oridinal dimension)?\n        if (typeof retValue !== 'object') {\n          tmpRetValue[0] = retValue;\n          retValue = tmpRetValue;\n        }\n        for (var i = 0; i < retValue.length; i++) {\n          var dim = dims[i];\n          var val = retValue[i];\n          var rawExtentOnDim = rawExtent[dim];\n          var dimStore = targetChunks[dim];\n          if (dimStore) {\n            dimStore[rawIndex] = val;\n          }\n          if (val < rawExtentOnDim[0]) {\n            rawExtentOnDim[0] = val;\n          }\n          if (val > rawExtentOnDim[1]) {\n            rawExtentOnDim[1] = val;\n          }\n        }\n      }\n    }\n  };\n  /**\r\n   * Large data down sampling using largest-triangle-three-buckets\r\n   * @param {string} valueDimension\r\n   * @param {number} targetCount\r\n   */\n  DataStore.prototype.lttbDownSample = function (valueDimension, rate) {\n    var target = this.clone([valueDimension], true);\n    var targetStorage = target._chunks;\n    var dimStore = targetStorage[valueDimension];\n    var len = this.count();\n    var sampledIndex = 0;\n    var frameSize = Math.floor(1 / rate);\n    var currentRawIndex = this.getRawIndex(0);\n    var maxArea;\n    var area;\n    var nextRawIndex;\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.min((Math.ceil(len / frameSize) + 2) * 2, len));\n    // First frame use the first data.\n    newIndices[sampledIndex++] = currentRawIndex;\n    for (var i = 1; i < len - 1; i += frameSize) {\n      var nextFrameStart = Math.min(i + frameSize, len - 1);\n      var nextFrameEnd = Math.min(i + frameSize * 2, len);\n      var avgX = (nextFrameEnd + nextFrameStart) / 2;\n      var avgY = 0;\n      for (var idx = nextFrameStart; idx < nextFrameEnd; idx++) {\n        var rawIndex = this.getRawIndex(idx);\n        var y = dimStore[rawIndex];\n        if (isNaN(y)) {\n          continue;\n        }\n        avgY += y;\n      }\n      avgY /= nextFrameEnd - nextFrameStart;\n      var frameStart = i;\n      var frameEnd = Math.min(i + frameSize, len);\n      var pointAX = i - 1;\n      var pointAY = dimStore[currentRawIndex];\n      maxArea = -1;\n      nextRawIndex = frameStart;\n      var firstNaNIndex = -1;\n      var countNaN = 0;\n      // Find a point from current frame that construct a triangle with largest area with previous selected point\n      // And the average of next frame.\n      for (var idx = frameStart; idx < frameEnd; idx++) {\n        var rawIndex = this.getRawIndex(idx);\n        var y = dimStore[rawIndex];\n        if (isNaN(y)) {\n          countNaN++;\n          if (firstNaNIndex < 0) {\n            firstNaNIndex = rawIndex;\n          }\n          continue;\n        }\n        // Calculate triangle area over three buckets\n        area = Math.abs((pointAX - avgX) * (y - pointAY) - (pointAX - idx) * (avgY - pointAY));\n        if (area > maxArea) {\n          maxArea = area;\n          nextRawIndex = rawIndex; // Next a is this b\n        }\n      }\n      if (countNaN > 0 && countNaN < frameEnd - frameStart) {\n        // Append first NaN point in every bucket.\n        // It is necessary to ensure the correct order of indices.\n        newIndices[sampledIndex++] = Math.min(firstNaNIndex, nextRawIndex);\n        nextRawIndex = Math.max(firstNaNIndex, nextRawIndex);\n      }\n      newIndices[sampledIndex++] = nextRawIndex;\n      currentRawIndex = nextRawIndex; // This a is the next a (chosen b)\n    }\n    // First frame use the last data.\n    newIndices[sampledIndex++] = this.getRawIndex(len - 1);\n    target._count = sampledIndex;\n    target._indices = newIndices;\n    target.getRawIndex = this._getRawIdx;\n    return target;\n  };\n  /**\r\n   * Large data down sampling using min-max\r\n   * @param {string} valueDimension\r\n   * @param {number} rate\r\n   */\n  DataStore.prototype.minmaxDownSample = function (valueDimension, rate) {\n    var target = this.clone([valueDimension], true);\n    var targetStorage = target._chunks;\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[valueDimension];\n    var len = this.count();\n    // Each frame results in 2 data points, one for min and one for max\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.ceil(len / frameSize) * 2);\n    var offset = 0;\n    for (var i = 0; i < len; i += frameSize) {\n      var minIndex = i;\n      var minValue = dimStore[this.getRawIndex(minIndex)];\n      var maxIndex = i;\n      var maxValue = dimStore[this.getRawIndex(maxIndex)];\n      var thisFrameSize = frameSize;\n      // Handle final smaller frame\n      if (i + frameSize > len) {\n        thisFrameSize = len - i;\n      }\n      // Determine min and max within the current frame\n      for (var k = 0; k < thisFrameSize; k++) {\n        var rawIndex = this.getRawIndex(i + k);\n        var value = dimStore[rawIndex];\n        if (value < minValue) {\n          minValue = value;\n          minIndex = i + k;\n        }\n        if (value > maxValue) {\n          maxValue = value;\n          maxIndex = i + k;\n        }\n      }\n      var rawMinIndex = this.getRawIndex(minIndex);\n      var rawMaxIndex = this.getRawIndex(maxIndex);\n      // Set the order of the min and max values, based on their ordering in the frame\n      if (minIndex < maxIndex) {\n        newIndices[offset++] = rawMinIndex;\n        newIndices[offset++] = rawMaxIndex;\n      } else {\n        newIndices[offset++] = rawMaxIndex;\n        newIndices[offset++] = rawMinIndex;\n      }\n    }\n    target._count = offset;\n    target._indices = newIndices;\n    target._updateGetRawIdx();\n    return target;\n  };\n  /**\r\n   * Large data down sampling on given dimension\r\n   * @param sampleIndex Sample index for name and id\r\n   */\n  DataStore.prototype.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n    var target = this.clone([dimension], true);\n    var targetStorage = target._chunks;\n    var frameValues = [];\n    var frameSize = Math.floor(1 / rate);\n    var dimStore = targetStorage[dimension];\n    var len = this.count();\n    var rawExtentOnDim = target._rawExtent[dimension] = getInitialExtent();\n    var newIndices = new (getIndicesCtor(this._rawCount))(Math.ceil(len / frameSize));\n    var offset = 0;\n    for (var i = 0; i < len; i += frameSize) {\n      // Last frame\n      if (frameSize > len - i) {\n        frameSize = len - i;\n        frameValues.length = frameSize;\n      }\n      for (var k = 0; k < frameSize; k++) {\n        var dataIdx = this.getRawIndex(i + k);\n        frameValues[k] = dimStore[dataIdx];\n      }\n      var value = sampleValue(frameValues);\n      var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1));\n      // Only write value on the filtered data\n      dimStore[sampleFrameIdx] = value;\n      if (value < rawExtentOnDim[0]) {\n        rawExtentOnDim[0] = value;\n      }\n      if (value > rawExtentOnDim[1]) {\n        rawExtentOnDim[1] = value;\n      }\n      newIndices[offset++] = sampleFrameIdx;\n    }\n    target._count = offset;\n    target._indices = newIndices;\n    target._updateGetRawIdx();\n    return target;\n  };\n  /**\r\n   * Data iteration\r\n   * @param ctx default this\r\n   * @example\r\n   *  list.each('x', function (x, idx) {});\r\n   *  list.each(['x', 'y'], function (x, y, idx) {});\r\n   *  list.each(function (idx) {})\r\n   */\n  DataStore.prototype.each = function (dims, cb) {\n    if (!this._count) {\n      return;\n    }\n    var dimSize = dims.length;\n    var chunks = this._chunks;\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var rawIdx = this.getRawIndex(i);\n      // Simple optimization\n      switch (dimSize) {\n        case 0:\n          cb(i);\n          break;\n        case 1:\n          cb(chunks[dims[0]][rawIdx], i);\n          break;\n        case 2:\n          cb(chunks[dims[0]][rawIdx], chunks[dims[1]][rawIdx], i);\n          break;\n        default:\n          var k = 0;\n          var value = [];\n          for (; k < dimSize; k++) {\n            value[k] = chunks[dims[k]][rawIdx];\n          }\n          // Index\n          value[k] = i;\n          cb.apply(null, value);\n      }\n    }\n  };\n  /**\r\n   * Get extent of data in one dimension\r\n   */\n  DataStore.prototype.getDataExtent = function (dim) {\n    // Make sure use concrete dim as cache name.\n    var dimData = this._chunks[dim];\n    var initialExtent = getInitialExtent();\n    if (!dimData) {\n      return initialExtent;\n    }\n    // Make more strict checkings to ensure hitting cache.\n    var currEnd = this.count();\n    // Consider the most cases when using data zoom, `getDataExtent`\n    // happened before filtering. We cache raw extent, which is not\n    // necessary to be cleared and recalculated when restore data.\n    var useRaw = !this._indices;\n    var dimExtent;\n    if (useRaw) {\n      return this._rawExtent[dim].slice();\n    }\n    dimExtent = this._extent[dim];\n    if (dimExtent) {\n      return dimExtent.slice();\n    }\n    dimExtent = initialExtent;\n    var min = dimExtent[0];\n    var max = dimExtent[1];\n    for (var i = 0; i < currEnd; i++) {\n      var rawIdx = this.getRawIndex(i);\n      var value = dimData[rawIdx];\n      value < min && (min = value);\n      value > max && (max = value);\n    }\n    dimExtent = [min, max];\n    this._extent[dim] = dimExtent;\n    return dimExtent;\n  };\n  /**\r\n   * Get raw data item\r\n   */\n  DataStore.prototype.getRawDataItem = function (idx) {\n    var rawIdx = this.getRawIndex(idx);\n    if (!this._provider.persistent) {\n      var val = [];\n      var chunks = this._chunks;\n      for (var i = 0; i < chunks.length; i++) {\n        val.push(chunks[i][rawIdx]);\n      }\n      return val;\n    } else {\n      return this._provider.getItem(rawIdx);\n    }\n  };\n  /**\r\n   * Clone shallow.\r\n   *\r\n   * @param clonedDims Determine which dims to clone. Will share the data if not specified.\r\n   */\n  DataStore.prototype.clone = function (clonedDims, ignoreIndices) {\n    var target = new DataStore();\n    var chunks = this._chunks;\n    var clonedDimsMap = clonedDims && reduce(clonedDims, function (obj, dimIdx) {\n      obj[dimIdx] = true;\n      return obj;\n    }, {});\n    if (clonedDimsMap) {\n      for (var i = 0; i < chunks.length; i++) {\n        // Not clone if dim is not picked.\n        target._chunks[i] = !clonedDimsMap[i] ? chunks[i] : cloneChunk(chunks[i]);\n      }\n    } else {\n      target._chunks = chunks;\n    }\n    this._copyCommonProps(target);\n    if (!ignoreIndices) {\n      target._indices = this._cloneIndices();\n    }\n    target._updateGetRawIdx();\n    return target;\n  };\n  DataStore.prototype._copyCommonProps = function (target) {\n    target._count = this._count;\n    target._rawCount = this._rawCount;\n    target._provider = this._provider;\n    target._dimensions = this._dimensions;\n    target._extent = clone(this._extent);\n    target._rawExtent = clone(this._rawExtent);\n  };\n  DataStore.prototype._cloneIndices = function () {\n    if (this._indices) {\n      var Ctor = this._indices.constructor;\n      var indices = void 0;\n      if (Ctor === Array) {\n        var thisCount = this._indices.length;\n        indices = new Ctor(thisCount);\n        for (var i = 0; i < thisCount; i++) {\n          indices[i] = this._indices[i];\n        }\n      } else {\n        indices = new Ctor(this._indices);\n      }\n      return indices;\n    }\n    return null;\n  };\n  DataStore.prototype._getRawIdxIdentity = function (idx) {\n    return idx;\n  };\n  DataStore.prototype._getRawIdx = function (idx) {\n    if (idx < this._count && idx >= 0) {\n      return this._indices[idx];\n    }\n    return -1;\n  };\n  DataStore.prototype._updateGetRawIdx = function () {\n    this.getRawIndex = this._indices ? this._getRawIdx : this._getRawIdxIdentity;\n  };\n  DataStore.internalField = function () {\n    function getDimValueSimply(dataItem, property, dataIndex, dimIndex) {\n      return parseDataValue(dataItem[dimIndex], this._dimensions[dimIndex]);\n    }\n    defaultDimValueGetters = {\n      arrayRows: getDimValueSimply,\n      objectRows: function (dataItem, property, dataIndex, dimIndex) {\n        return parseDataValue(dataItem[property], this._dimensions[dimIndex]);\n      },\n      keyedColumns: getDimValueSimply,\n      original: function (dataItem, property, dataIndex, dimIndex) {\n        // Performance sensitive, do not use modelUtil.getDataItemValue.\n        // If dataItem is an plain object with no value field, the let `value`\n        // will be assigned with the object, but it will be tread correctly\n        // in the `convertValue`.\n        var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value);\n        return parseDataValue(value instanceof Array ? value[dimIndex]\n        // If value is a single number or something else not array.\n        : value, this._dimensions[dimIndex]);\n      },\n      typedArray: function (dataItem, property, dataIndex, dimIndex) {\n        return dataItem[dimIndex];\n      }\n    };\n  }();\n  return DataStore;\n}();\nexport default DataStore;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { setAsPrimitive, map, isTypedArray, assert, each, retrieve2 } from 'zrender/lib/core/util.js';\nimport { createSource, cloneSourceShallow } from '../Source.js';\nimport { SOURCE_FORMAT_TYPED_ARRAY, SOURCE_FORMAT_ORIGINAL } from '../../util/types.js';\nimport { querySeriesUpstreamDatasetModel, queryDatasetUpstreamDatasetModels } from './sourceHelper.js';\nimport { applyDataTransform } from './transform.js';\nimport DataStore from '../DataStore.js';\nimport { DefaultDataProvider } from './dataProvider.js';\n/**\r\n * [REQUIREMENT_MEMO]:\r\n * (0) `metaRawOption` means `dimensions`/`sourceHeader`/`seriesLayoutBy` in raw option.\r\n * (1) Keep support the feature: `metaRawOption` can be specified both on `series` and\r\n * `root-dataset`. Them on `series` has higher priority.\r\n * (2) Do not support to set `metaRawOption` on a `non-root-dataset`, because it might\r\n * confuse users: whether those props indicate how to visit the upstream source or visit\r\n * the transform result source, and some transforms has nothing to do with these props,\r\n * and some transforms might have multiple upstream.\r\n * (3) Transforms should specify `metaRawOption` in each output, just like they can be\r\n * declared in `root-dataset`.\r\n * (4) At present only support visit source in `SERIES_LAYOUT_BY_COLUMN` in transforms.\r\n * That is for reducing complexity in transforms.\r\n * PENDING: Whether to provide transposition transform?\r\n *\r\n * [IMPLEMENTAION_MEMO]:\r\n * \"sourceVisitConfig\" are calculated from `metaRawOption` and `data`.\r\n * They will not be calculated until `source` is about to be visited (to prevent from\r\n * duplicate calcuation). `source` is visited only in series and input to transforms.\r\n *\r\n * [DIMENSION_INHERIT_RULE]:\r\n * By default the dimensions are inherited from ancestors, unless a transform return\r\n * a new dimensions definition.\r\n * Consider the case:\r\n * ```js\r\n * dataset: [{\r\n *     source: [ ['Product', 'Sales', 'Prise'], ['Cookies', 321, 44.21], ...]\r\n * }, {\r\n *     transform: { type: 'filter', ... }\r\n * }]\r\n * dataset: [{\r\n *     dimension: ['Product', 'Sales', 'Prise'],\r\n *     source: [ ['Cookies', 321, 44.21], ...]\r\n * }, {\r\n *     transform: { type: 'filter', ... }\r\n * }]\r\n * ```\r\n * The two types of option should have the same behavior after transform.\r\n *\r\n *\r\n * [SCENARIO]:\r\n * (1) Provide source data directly:\r\n * ```js\r\n * series: {\r\n *     encode: {...},\r\n *     dimensions: [...]\r\n *     seriesLayoutBy: 'row',\r\n *     data: [[...]]\r\n * }\r\n * ```\r\n * (2) Series refer to dataset.\r\n * ```js\r\n * series: [{\r\n *     encode: {...}\r\n *     // Ignore datasetIndex means `datasetIndex: 0`\r\n *     // and the dimensions defination in dataset is used\r\n * }, {\r\n *     encode: {...},\r\n *     seriesLayoutBy: 'column',\r\n *     datasetIndex: 1\r\n * }]\r\n * ```\r\n * (3) dataset transform\r\n * ```js\r\n * dataset: [{\r\n *     source: [...]\r\n * }, {\r\n *     source: [...]\r\n * }, {\r\n *     // By default from 0.\r\n *     transform: { type: 'filter', config: {...} }\r\n * }, {\r\n *     // Piped.\r\n *     transform: [\r\n *         { type: 'filter', config: {...} },\r\n *         { type: 'sort', config: {...} }\r\n *     ]\r\n * }, {\r\n *     id: 'regressionData',\r\n *     fromDatasetIndex: 1,\r\n *     // Third-party transform\r\n *     transform: { type: 'ecStat:regression', config: {...} }\r\n * }, {\r\n *     // retrieve the extra result.\r\n *     id: 'regressionFormula',\r\n *     fromDatasetId: 'regressionData',\r\n *     fromTransformResult: 1\r\n * }]\r\n * ```\r\n */\nvar SourceManager = /** @class */function () {\n  function SourceManager(sourceHost) {\n    // Cached source. Do not repeat calculating if not dirty.\n    this._sourceList = [];\n    this._storeList = [];\n    // version sign of each upstream source manager.\n    this._upstreamSignList = [];\n    this._versionSignBase = 0;\n    this._dirty = true;\n    this._sourceHost = sourceHost;\n  }\n  /**\r\n   * Mark dirty.\r\n   */\n  SourceManager.prototype.dirty = function () {\n    this._setLocalSource([], []);\n    this._storeList = [];\n    this._dirty = true;\n  };\n  SourceManager.prototype._setLocalSource = function (sourceList, upstreamSignList) {\n    this._sourceList = sourceList;\n    this._upstreamSignList = upstreamSignList;\n    this._versionSignBase++;\n    if (this._versionSignBase > 9e10) {\n      this._versionSignBase = 0;\n    }\n  };\n  /**\r\n   * For detecting whether the upstream source is dirty, so that\r\n   * the local cached source (in `_sourceList`) should be discarded.\r\n   */\n  SourceManager.prototype._getVersionSign = function () {\n    return this._sourceHost.uid + '_' + this._versionSignBase;\n  };\n  /**\r\n   * Always return a source instance. Otherwise throw error.\r\n   */\n  SourceManager.prototype.prepareSource = function () {\n    // For the case that call `setOption` multiple time but no data changed,\n    // cache the result source to prevent from repeating transform.\n    if (this._isDirty()) {\n      this._createSource();\n      this._dirty = false;\n    }\n  };\n  SourceManager.prototype._createSource = function () {\n    this._setLocalSource([], []);\n    var sourceHost = this._sourceHost;\n    var upSourceMgrList = this._getUpstreamSourceManagers();\n    var hasUpstream = !!upSourceMgrList.length;\n    var resultSourceList;\n    var upstreamSignList;\n    if (isSeries(sourceHost)) {\n      var seriesModel = sourceHost;\n      var data = void 0;\n      var sourceFormat = void 0;\n      var upSource = void 0;\n      // Has upstream dataset\n      if (hasUpstream) {\n        var upSourceMgr = upSourceMgrList[0];\n        upSourceMgr.prepareSource();\n        upSource = upSourceMgr.getSource();\n        data = upSource.data;\n        sourceFormat = upSource.sourceFormat;\n        upstreamSignList = [upSourceMgr._getVersionSign()];\n      }\n      // Series data is from own.\n      else {\n        data = seriesModel.get('data', true);\n        sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;\n        upstreamSignList = [];\n      }\n      // See [REQUIREMENT_MEMO], merge settings on series and parent dataset if it is root.\n      var newMetaRawOption = this._getSourceMetaRawOption() || {};\n      var upMetaRawOption = upSource && upSource.metaRawOption || {};\n      var seriesLayoutBy = retrieve2(newMetaRawOption.seriesLayoutBy, upMetaRawOption.seriesLayoutBy) || null;\n      var sourceHeader = retrieve2(newMetaRawOption.sourceHeader, upMetaRawOption.sourceHeader);\n      // Note here we should not use `upSource.dimensionsDefine`. Consider the case:\n      // `upSource.dimensionsDefine` is detected by `seriesLayoutBy: 'column'`,\n      // but series need `seriesLayoutBy: 'row'`.\n      var dimensions = retrieve2(newMetaRawOption.dimensions, upMetaRawOption.dimensions);\n      // We share source with dataset as much as possible\n      // to avoid extra memory cost of high dimensional data.\n      var needsCreateSource = seriesLayoutBy !== upMetaRawOption.seriesLayoutBy || !!sourceHeader !== !!upMetaRawOption.sourceHeader || dimensions;\n      resultSourceList = needsCreateSource ? [createSource(data, {\n        seriesLayoutBy: seriesLayoutBy,\n        sourceHeader: sourceHeader,\n        dimensions: dimensions\n      }, sourceFormat)] : [];\n    } else {\n      var datasetModel = sourceHost;\n      // Has upstream dataset.\n      if (hasUpstream) {\n        var result = this._applyTransform(upSourceMgrList);\n        resultSourceList = result.sourceList;\n        upstreamSignList = result.upstreamSignList;\n      }\n      // Is root dataset.\n      else {\n        var sourceData = datasetModel.get('source', true);\n        resultSourceList = [createSource(sourceData, this._getSourceMetaRawOption(), null)];\n        upstreamSignList = [];\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      assert(resultSourceList && upstreamSignList);\n    }\n    this._setLocalSource(resultSourceList, upstreamSignList);\n  };\n  SourceManager.prototype._applyTransform = function (upMgrList) {\n    var datasetModel = this._sourceHost;\n    var transformOption = datasetModel.get('transform', true);\n    var fromTransformResult = datasetModel.get('fromTransformResult', true);\n    if (process.env.NODE_ENV !== 'production') {\n      assert(fromTransformResult != null || transformOption != null);\n    }\n    if (fromTransformResult != null) {\n      var errMsg = '';\n      if (upMgrList.length !== 1) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'When using `fromTransformResult`, there should be only one upstream dataset';\n        }\n        doThrow(errMsg);\n      }\n    }\n    var sourceList;\n    var upSourceList = [];\n    var upstreamSignList = [];\n    each(upMgrList, function (upMgr) {\n      upMgr.prepareSource();\n      var upSource = upMgr.getSource(fromTransformResult || 0);\n      var errMsg = '';\n      if (fromTransformResult != null && !upSource) {\n        if (process.env.NODE_ENV !== 'production') {\n          errMsg = 'Can not retrieve result by `fromTransformResult`: ' + fromTransformResult;\n        }\n        doThrow(errMsg);\n      }\n      upSourceList.push(upSource);\n      upstreamSignList.push(upMgr._getVersionSign());\n    });\n    if (transformOption) {\n      sourceList = applyDataTransform(transformOption, upSourceList, {\n        datasetIndex: datasetModel.componentIndex\n      });\n    } else if (fromTransformResult != null) {\n      sourceList = [cloneSourceShallow(upSourceList[0])];\n    }\n    return {\n      sourceList: sourceList,\n      upstreamSignList: upstreamSignList\n    };\n  };\n  SourceManager.prototype._isDirty = function () {\n    if (this._dirty) {\n      return true;\n    }\n    // All sourceList is from the some upstream.\n    var upSourceMgrList = this._getUpstreamSourceManagers();\n    for (var i = 0; i < upSourceMgrList.length; i++) {\n      var upSrcMgr = upSourceMgrList[i];\n      if (\n      // Consider the case that there is ancestor diry, call it recursively.\n      // The performance is probably not an issue because usually the chain is not long.\n      upSrcMgr._isDirty() || this._upstreamSignList[i] !== upSrcMgr._getVersionSign()) {\n        return true;\n      }\n    }\n  };\n  /**\r\n   * @param sourceIndex By default 0, means \"main source\".\r\n   *                    In most cases there is only one source.\r\n   */\n  SourceManager.prototype.getSource = function (sourceIndex) {\n    sourceIndex = sourceIndex || 0;\n    var source = this._sourceList[sourceIndex];\n    if (!source) {\n      // Series may share source instance with dataset.\n      var upSourceMgrList = this._getUpstreamSourceManagers();\n      return upSourceMgrList[0] && upSourceMgrList[0].getSource(sourceIndex);\n    }\n    return source;\n  };\n  /**\r\n   *\r\n   * Get a data store which can be shared across series.\r\n   * Only available for series.\r\n   *\r\n   * @param seriesDimRequest Dimensions that are generated in series.\r\n   *        Should have been sorted by `storeDimIndex` asc.\r\n   */\n  SourceManager.prototype.getSharedDataStore = function (seriesDimRequest) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(isSeries(this._sourceHost), 'Can only call getDataStore on series source manager.');\n    }\n    var schema = seriesDimRequest.makeStoreSchema();\n    return this._innerGetDataStore(schema.dimensions, seriesDimRequest.source, schema.hash);\n  };\n  SourceManager.prototype._innerGetDataStore = function (storeDims, seriesSource, sourceReadKey) {\n    // TODO Can use other sourceIndex?\n    var sourceIndex = 0;\n    var storeList = this._storeList;\n    var cachedStoreMap = storeList[sourceIndex];\n    if (!cachedStoreMap) {\n      cachedStoreMap = storeList[sourceIndex] = {};\n    }\n    var cachedStore = cachedStoreMap[sourceReadKey];\n    if (!cachedStore) {\n      var upSourceMgr = this._getUpstreamSourceManagers()[0];\n      if (isSeries(this._sourceHost) && upSourceMgr) {\n        cachedStore = upSourceMgr._innerGetDataStore(storeDims, seriesSource, sourceReadKey);\n      } else {\n        cachedStore = new DataStore();\n        // Always create store from source of series.\n        cachedStore.initData(new DefaultDataProvider(seriesSource, storeDims.length), storeDims);\n      }\n      cachedStoreMap[sourceReadKey] = cachedStore;\n    }\n    return cachedStore;\n  };\n  /**\r\n   * PENDING: Is it fast enough?\r\n   * If no upstream, return empty array.\r\n   */\n  SourceManager.prototype._getUpstreamSourceManagers = function () {\n    // Always get the relationship from the raw option.\n    // Do not cache the link of the dependency graph, so that\n    // there is no need to update them when change happens.\n    var sourceHost = this._sourceHost;\n    if (isSeries(sourceHost)) {\n      var datasetModel = querySeriesUpstreamDatasetModel(sourceHost);\n      return !datasetModel ? [] : [datasetModel.getSourceManager()];\n    } else {\n      return map(queryDatasetUpstreamDatasetModels(sourceHost), function (datasetModel) {\n        return datasetModel.getSourceManager();\n      });\n    }\n  };\n  SourceManager.prototype._getSourceMetaRawOption = function () {\n    var sourceHost = this._sourceHost;\n    var seriesLayoutBy;\n    var sourceHeader;\n    var dimensions;\n    if (isSeries(sourceHost)) {\n      seriesLayoutBy = sourceHost.get('seriesLayoutBy', true);\n      sourceHeader = sourceHost.get('sourceHeader', true);\n      dimensions = sourceHost.get('dimensions', true);\n    }\n    // See [REQUIREMENT_MEMO], `non-root-dataset` do not support them.\n    else if (!this._getUpstreamSourceManagers().length) {\n      var model = sourceHost;\n      seriesLayoutBy = model.get('seriesLayoutBy', true);\n      sourceHeader = model.get('sourceHeader', true);\n      dimensions = model.get('dimensions', true);\n    }\n    return {\n      seriesLayoutBy: seriesLayoutBy,\n      sourceHeader: sourceHeader,\n      dimensions: dimensions\n    };\n  };\n  return SourceManager;\n}();\nexport { SourceManager };\n// Call this method after `super.init` and `super.mergeOption` to\n// disable the transform merge, but do not disable transform clone from rawOption.\nexport function disableTransformOptionMerge(datasetModel) {\n  var transformOption = datasetModel.option.transform;\n  transformOption && setAsPrimitive(datasetModel.option.transform);\n}\nfunction isSeries(sourceHost) {\n  // Avoid circular dependency with Series.ts\n  return sourceHost.mainType === 'series';\n}\nfunction doThrow(errMsg) {\n  throw new Error(errMsg);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { getTooltipMarker, encodeHTML, makeValueReadable, convertToColorString } from '../../util/format.js';\nimport { isString, each, hasOwn, isArray, map, assert, extend } from 'zrender/lib/core/util.js';\nimport { SortOrderComparator } from '../../data/helper/dataValueHelper.js';\nimport { getRandomIdBase } from '../../util/number.js';\nvar TOOLTIP_LINE_HEIGHT_CSS = 'line-height:1';\nfunction getTooltipLineHeight(textStyle) {\n  var lineHeight = textStyle.lineHeight;\n  if (lineHeight == null) {\n    return TOOLTIP_LINE_HEIGHT_CSS;\n  } else {\n    return \"line-height:\" + encodeHTML(lineHeight + '') + \"px\";\n  }\n}\n// TODO: more textStyle option\nfunction getTooltipTextStyle(textStyle, renderMode) {\n  var nameFontColor = textStyle.color || '#6e7079';\n  var nameFontSize = textStyle.fontSize || 12;\n  var nameFontWeight = textStyle.fontWeight || '400';\n  var valueFontColor = textStyle.color || '#464646';\n  var valueFontSize = textStyle.fontSize || 14;\n  var valueFontWeight = textStyle.fontWeight || '900';\n  if (renderMode === 'html') {\n    // `textStyle` is probably from user input, should be encoded to reduce security risk.\n    return {\n      // eslint-disable-next-line max-len\n      nameStyle: \"font-size:\" + encodeHTML(nameFontSize + '') + \"px;color:\" + encodeHTML(nameFontColor) + \";font-weight:\" + encodeHTML(nameFontWeight + ''),\n      // eslint-disable-next-line max-len\n      valueStyle: \"font-size:\" + encodeHTML(valueFontSize + '') + \"px;color:\" + encodeHTML(valueFontColor) + \";font-weight:\" + encodeHTML(valueFontWeight + '')\n    };\n  } else {\n    return {\n      nameStyle: {\n        fontSize: nameFontSize,\n        fill: nameFontColor,\n        fontWeight: nameFontWeight\n      },\n      valueStyle: {\n        fontSize: valueFontSize,\n        fill: valueFontColor,\n        fontWeight: valueFontWeight\n      }\n    };\n  }\n}\n// See `TooltipMarkupLayoutIntent['innerGapLevel']`.\n// (value from UI design)\nvar HTML_GAPS = [0, 10, 20, 30];\nvar RICH_TEXT_GAPS = ['', '\\n', '\\n\\n', '\\n\\n\\n'];\n// eslint-disable-next-line max-len\nexport function createTooltipMarkup(type, option) {\n  option.type = type;\n  return option;\n}\nfunction isSectionFragment(frag) {\n  return frag.type === 'section';\n}\nfunction getBuilder(frag) {\n  return isSectionFragment(frag) ? buildSection : buildNameValue;\n}\nfunction getBlockGapLevel(frag) {\n  if (isSectionFragment(frag)) {\n    var gapLevel_1 = 0;\n    var subBlockLen = frag.blocks.length;\n    var hasInnerGap_1 = subBlockLen > 1 || subBlockLen > 0 && !frag.noHeader;\n    each(frag.blocks, function (subBlock) {\n      var subGapLevel = getBlockGapLevel(subBlock);\n      // If the some of the sub-blocks have some gaps (like 10px) inside, this block\n      // should use a larger gap (like 20px) to distinguish those sub-blocks.\n      if (subGapLevel >= gapLevel_1) {\n        gapLevel_1 = subGapLevel + +(hasInnerGap_1 && (\n        // 0 always can not be readable gap level.\n        !subGapLevel\n        // If no header, always keep the sub gap level. Otherwise\n        // look weird in case `multipleSeries`.\n        || isSectionFragment(subBlock) && !subBlock.noHeader));\n      }\n    });\n    return gapLevel_1;\n  }\n  return 0;\n}\nfunction buildSection(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\n  var noHeader = fragment.noHeader;\n  var gaps = getGap(getBlockGapLevel(fragment));\n  var subMarkupTextList = [];\n  var subBlocks = fragment.blocks || [];\n  assert(!subBlocks || isArray(subBlocks));\n  subBlocks = subBlocks || [];\n  var orderMode = ctx.orderMode;\n  if (fragment.sortBlocks && orderMode) {\n    subBlocks = subBlocks.slice();\n    var orderMap = {\n      valueAsc: 'asc',\n      valueDesc: 'desc'\n    };\n    if (hasOwn(orderMap, orderMode)) {\n      var comparator_1 = new SortOrderComparator(orderMap[orderMode], null);\n      subBlocks.sort(function (a, b) {\n        return comparator_1.evaluate(a.sortParam, b.sortParam);\n      });\n    }\n    // FIXME 'seriesDesc' necessary?\n    else if (orderMode === 'seriesDesc') {\n      subBlocks.reverse();\n    }\n  }\n  each(subBlocks, function (subBlock, idx) {\n    var valueFormatter = fragment.valueFormatter;\n    var subMarkupText = getBuilder(subBlock)(\n    // Inherit valueFormatter\n    valueFormatter ? extend(extend({}, ctx), {\n      valueFormatter: valueFormatter\n    }) : ctx, subBlock, idx > 0 ? gaps.html : 0, toolTipTextStyle);\n    subMarkupText != null && subMarkupTextList.push(subMarkupText);\n  });\n  var subMarkupText = ctx.renderMode === 'richText' ? subMarkupTextList.join(gaps.richText) : wrapBlockHTML(toolTipTextStyle, subMarkupTextList.join(''), noHeader ? topMarginForOuterGap : gaps.html);\n  if (noHeader) {\n    return subMarkupText;\n  }\n  var displayableHeader = makeValueReadable(fragment.header, 'ordinal', ctx.useUTC);\n  var nameStyle = getTooltipTextStyle(toolTipTextStyle, ctx.renderMode).nameStyle;\n  var tooltipLineHeight = getTooltipLineHeight(toolTipTextStyle);\n  if (ctx.renderMode === 'richText') {\n    return wrapInlineNameRichText(ctx, displayableHeader, nameStyle) + gaps.richText + subMarkupText;\n  } else {\n    return wrapBlockHTML(toolTipTextStyle, \"<div style=\\\"\" + nameStyle + \";\" + tooltipLineHeight + \";\\\">\" + encodeHTML(displayableHeader) + '</div>' + subMarkupText, topMarginForOuterGap);\n  }\n}\nfunction buildNameValue(ctx, fragment, topMarginForOuterGap, toolTipTextStyle) {\n  var renderMode = ctx.renderMode;\n  var noName = fragment.noName;\n  var noValue = fragment.noValue;\n  var noMarker = !fragment.markerType;\n  var name = fragment.name;\n  var useUTC = ctx.useUTC;\n  var valueFormatter = fragment.valueFormatter || ctx.valueFormatter || function (value) {\n    value = isArray(value) ? value : [value];\n    return map(value, function (val, idx) {\n      return makeValueReadable(val, isArray(valueTypeOption) ? valueTypeOption[idx] : valueTypeOption, useUTC);\n    });\n  };\n  if (noName && noValue) {\n    return;\n  }\n  var markerStr = noMarker ? '' : ctx.markupStyleCreator.makeTooltipMarker(fragment.markerType, fragment.markerColor || '#333', renderMode);\n  var readableName = noName ? '' : makeValueReadable(name, 'ordinal', useUTC);\n  var valueTypeOption = fragment.valueType;\n  var readableValueList = noValue ? [] : valueFormatter(fragment.value, fragment.dataIndex);\n  var valueAlignRight = !noMarker || !noName;\n  // It little weird if only value next to marker but far from marker.\n  var valueCloseToMarker = !noMarker && noName;\n  var _a = getTooltipTextStyle(toolTipTextStyle, renderMode),\n    nameStyle = _a.nameStyle,\n    valueStyle = _a.valueStyle;\n  return renderMode === 'richText' ? (noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameRichText(ctx, readableName, nameStyle))\n  // Value has commas inside, so use ' ' as delimiter for multiple values.\n  + (noValue ? '' : wrapInlineValueRichText(ctx, readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)) : wrapBlockHTML(toolTipTextStyle, (noMarker ? '' : markerStr) + (noName ? '' : wrapInlineNameHTML(readableName, !noMarker, nameStyle)) + (noValue ? '' : wrapInlineValueHTML(readableValueList, valueAlignRight, valueCloseToMarker, valueStyle)), topMarginForOuterGap);\n}\n/**\r\n * @return markupText. null/undefined means no content.\r\n */\nexport function buildTooltipMarkup(fragment, markupStyleCreator, renderMode, orderMode, useUTC, toolTipTextStyle) {\n  if (!fragment) {\n    return;\n  }\n  var builder = getBuilder(fragment);\n  var ctx = {\n    useUTC: useUTC,\n    renderMode: renderMode,\n    orderMode: orderMode,\n    markupStyleCreator: markupStyleCreator,\n    valueFormatter: fragment.valueFormatter\n  };\n  return builder(ctx, fragment, 0, toolTipTextStyle);\n}\nfunction getGap(gapLevel) {\n  return {\n    html: HTML_GAPS[gapLevel],\n    richText: RICH_TEXT_GAPS[gapLevel]\n  };\n}\nfunction wrapBlockHTML(textStyle, encodedContent, topGap) {\n  var clearfix = '<div style=\"clear:both\"></div>';\n  var marginCSS = \"margin: \" + topGap + \"px 0 0\";\n  var tooltipLineHeight = getTooltipLineHeight(textStyle);\n  return \"<div style=\\\"\" + marginCSS + \";\" + tooltipLineHeight + \";\\\">\" + encodedContent + clearfix + '</div>';\n}\nfunction wrapInlineNameHTML(name, leftHasMarker, style) {\n  var marginCss = leftHasMarker ? 'margin-left:2px' : '';\n  return \"<span style=\\\"\" + style + \";\" + marginCss + \"\\\">\" + encodeHTML(name) + '</span>';\n}\nfunction wrapInlineValueHTML(valueList, alignRight, valueCloseToMarker, style) {\n  // Do not too close to marker, considering there are multiple values separated by spaces.\n  var paddingStr = valueCloseToMarker ? '10px' : '20px';\n  var alignCSS = alignRight ? \"float:right;margin-left:\" + paddingStr : '';\n  valueList = isArray(valueList) ? valueList : [valueList];\n  return \"<span style=\\\"\" + alignCSS + \";\" + style + \"\\\">\"\n  // Value has commas inside, so use '  ' as delimiter for multiple values.\n  + map(valueList, function (value) {\n    return encodeHTML(value);\n  }).join('&nbsp;&nbsp;') + '</span>';\n}\nfunction wrapInlineNameRichText(ctx, name, style) {\n  return ctx.markupStyleCreator.wrapRichTextStyle(name, style);\n}\nfunction wrapInlineValueRichText(ctx, values, alignRight, valueCloseToMarker, style) {\n  var styles = [style];\n  var paddingLeft = valueCloseToMarker ? 10 : 20;\n  alignRight && styles.push({\n    padding: [0, 0, 0, paddingLeft],\n    align: 'right'\n  });\n  // Value has commas inside, so use '  ' as delimiter for multiple values.\n  return ctx.markupStyleCreator.wrapRichTextStyle(isArray(values) ? values.join('  ') : values, styles);\n}\nexport function retrieveVisualColorForTooltipMarker(series, dataIndex) {\n  var style = series.getData().getItemVisual(dataIndex, 'style');\n  var color = style[series.visualDrawType];\n  return convertToColorString(color);\n}\nexport function getPaddingFromTooltipModel(model, renderMode) {\n  var padding = model.get('padding');\n  return padding != null ? padding\n  // We give slightly different to look pretty.\n  : renderMode === 'richText' ? [8, 10] : 10;\n}\n/**\r\n * The major feature is generate styles for `renderMode: 'richText'`.\r\n * But it also serves `renderMode: 'html'` to provide\r\n * \"renderMode-independent\" API.\r\n */\nvar TooltipMarkupStyleCreator = /** @class */function () {\n  function TooltipMarkupStyleCreator() {\n    this.richTextStyles = {};\n    // Notice that \"generate a style name\" usually happens repeatedly when mouse is moving and\n    // a tooltip is displayed. So we put the `_nextStyleNameId` as a member of each creator\n    // rather than static shared by all creators (which will cause it increase to fast).\n    this._nextStyleNameId = getRandomIdBase();\n  }\n  TooltipMarkupStyleCreator.prototype._generateStyleName = function () {\n    return '__EC_aUTo_' + this._nextStyleNameId++;\n  };\n  TooltipMarkupStyleCreator.prototype.makeTooltipMarker = function (markerType, colorStr, renderMode) {\n    var markerId = renderMode === 'richText' ? this._generateStyleName() : null;\n    var marker = getTooltipMarker({\n      color: colorStr,\n      type: markerType,\n      renderMode: renderMode,\n      markerId: markerId\n    });\n    if (isString(marker)) {\n      return marker;\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        assert(markerId);\n      }\n      this.richTextStyles[markerId] = marker.style;\n      return marker.content;\n    }\n  };\n  /**\r\n   * @usage\r\n   * ```ts\r\n   * const styledText = markupStyleCreator.wrapRichTextStyle([\r\n   *     // The styles will be auto merged.\r\n   *     {\r\n   *         fontSize: 12,\r\n   *         color: 'blue'\r\n   *     },\r\n   *     {\r\n   *         padding: 20\r\n   *     }\r\n   * ]);\r\n   * ```\r\n   */\n  TooltipMarkupStyleCreator.prototype.wrapRichTextStyle = function (text, styles) {\n    var finalStl = {};\n    if (isArray(styles)) {\n      each(styles, function (stl) {\n        return extend(finalStl, stl);\n      });\n    } else {\n      extend(finalStl, styles);\n    }\n    var styleName = this._generateStyleName();\n    this.richTextStyles[styleName] = finalStl;\n    return \"{\" + styleName + \"|\" + text + \"}\";\n  };\n  return TooltipMarkupStyleCreator;\n}();\nexport { TooltipMarkupStyleCreator };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { trim, isArray, each, reduce } from 'zrender/lib/core/util.js';\nimport { retrieveVisualColorForTooltipMarker, createTooltipMarkup } from './tooltipMarkup.js';\nimport { retrieveRawValue } from '../../data/helper/dataProvider.js';\nimport { isNameSpecified } from '../../util/model.js';\nexport function defaultSeriesFormatTooltip(opt) {\n  var series = opt.series;\n  var dataIndex = opt.dataIndex;\n  var multipleSeries = opt.multipleSeries;\n  var data = series.getData();\n  var tooltipDims = data.mapDimensionsAll('defaultedTooltip');\n  var tooltipDimLen = tooltipDims.length;\n  var value = series.getRawValue(dataIndex);\n  var isValueArr = isArray(value);\n  var markerColor = retrieveVisualColorForTooltipMarker(series, dataIndex);\n  // Complicated rule for pretty tooltip.\n  var inlineValue;\n  var inlineValueType;\n  var subBlocks;\n  var sortParam;\n  if (tooltipDimLen > 1 || isValueArr && !tooltipDimLen) {\n    var formatArrResult = formatTooltipArrayValue(value, series, dataIndex, tooltipDims, markerColor);\n    inlineValue = formatArrResult.inlineValues;\n    inlineValueType = formatArrResult.inlineValueTypes;\n    subBlocks = formatArrResult.blocks;\n    // Only support tooltip sort by the first inline value. It's enough in most cases.\n    sortParam = formatArrResult.inlineValues[0];\n  } else if (tooltipDimLen) {\n    var dimInfo = data.getDimensionInfo(tooltipDims[0]);\n    sortParam = inlineValue = retrieveRawValue(data, dataIndex, tooltipDims[0]);\n    inlineValueType = dimInfo.type;\n  } else {\n    sortParam = inlineValue = isValueArr ? value[0] : value;\n  }\n  // Do not show generated series name. It might not be readable.\n  var seriesNameSpecified = isNameSpecified(series);\n  var seriesName = seriesNameSpecified && series.name || '';\n  var itemName = data.getName(dataIndex);\n  var inlineName = multipleSeries ? seriesName : itemName;\n  return createTooltipMarkup('section', {\n    header: seriesName,\n    // When series name is not specified, do not show a header line with only '-'.\n    // This case always happens in tooltip.trigger: 'item'.\n    noHeader: multipleSeries || !seriesNameSpecified,\n    sortParam: sortParam,\n    blocks: [createTooltipMarkup('nameValue', {\n      markerType: 'item',\n      markerColor: markerColor,\n      // Do not mix display seriesName and itemName in one tooltip,\n      // which might confuses users.\n      name: inlineName,\n      // name dimension might be auto assigned, where the name might\n      // be not readable. So we check trim here.\n      noName: !trim(inlineName),\n      value: inlineValue,\n      valueType: inlineValueType,\n      dataIndex: dataIndex\n    })].concat(subBlocks || [])\n  });\n}\nfunction formatTooltipArrayValue(value, series, dataIndex, tooltipDims, colorStr) {\n  // check: category-no-encode-has-axis-data in dataset.html\n  var data = series.getData();\n  var isValueMultipleLine = reduce(value, function (isValueMultipleLine, val, idx) {\n    var dimItem = data.getDimensionInfo(idx);\n    return isValueMultipleLine = isValueMultipleLine || dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n  }, false);\n  var inlineValues = [];\n  var inlineValueTypes = [];\n  var blocks = [];\n  tooltipDims.length ? each(tooltipDims, function (dim) {\n    setEachItem(retrieveRawValue(data, dataIndex, dim), dim);\n  })\n  // By default, all dims is used on tooltip.\n  : each(value, setEachItem);\n  function setEachItem(val, dim) {\n    var dimInfo = data.getDimensionInfo(dim);\n    // If `dimInfo.tooltip` is not set, show tooltip.\n    if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n      return;\n    }\n    if (isValueMultipleLine) {\n      blocks.push(createTooltipMarkup('nameValue', {\n        markerType: 'subItem',\n        markerColor: colorStr,\n        name: dimInfo.displayName,\n        value: val,\n        valueType: dimInfo.type\n      }));\n    } else {\n      inlineValues.push(val);\n      inlineValueTypes.push(dimInfo.type);\n    }\n  }\n  return {\n    inlineValues: inlineValues,\n    inlineValueTypes: inlineValueTypes,\n    blocks: blocks\n  };\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport * as modelUtil from '../util/model.js';\nimport ComponentModel from './Component.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { DataFormatMixin } from '../model/mixin/dataFormat.js';\nimport { getLayoutParams, mergeLayoutParam, fetchLayoutMode } from '../util/layout.js';\nimport { createTask } from '../core/task.js';\nimport { mountExtend } from '../util/clazz.js';\nimport { SourceManager } from '../data/helper/sourceManager.js';\nimport { defaultSeriesFormatTooltip } from '../component/tooltip/seriesFormatTooltip.js';\nvar inner = modelUtil.makeInner();\nfunction getSelectionKey(data, dataIndex) {\n  return data.getName(dataIndex) || data.getId(dataIndex);\n}\nexport var SERIES_UNIVERSAL_TRANSITION_PROP = '__universalTransitionEnabled';\nvar SeriesModel = /** @class */function (_super) {\n  __extends(SeriesModel, _super);\n  function SeriesModel() {\n    // [Caution]: Because this class or desecendants can be used as `XXX.extend(subProto)`,\n    // the class members must not be initialized in constructor or declaration place.\n    // Otherwise there is bad case:\n    //   class A {xxx = 1;}\n    //   enableClassExtend(A);\n    //   class B extends A {}\n    //   var C = B.extend({xxx: 5});\n    //   var c = new C();\n    //   console.log(c.xxx); // expect 5 but always 1.\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    // ---------------------------------------\n    // Props about data selection\n    // ---------------------------------------\n    _this._selectedDataIndicesMap = {};\n    return _this;\n  }\n  SeriesModel.prototype.init = function (option, parentModel, ecModel) {\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    var sourceManager = inner(this).sourceManager = new SourceManager(this);\n    sourceManager.prepareSource();\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n    if (process.env.NODE_ENV !== 'production') {\n      zrUtil.assert(data, 'getInitialData returned invalid data.');\n    }\n    inner(this).dataBeforeProcessed = data;\n    // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkSeriesData\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  /**\r\n   * Util for merge default and theme to option\r\n   */\n  SeriesModel.prototype.mergeDefaultAndTheme = function (option, ecModel) {\n    var layoutMode = fetchLayoutMode(this);\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {};\n    // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n    var themeSubType = this.subType;\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption());\n    // Default label emphasis `show`\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  };\n  SeriesModel.prototype.mergeOption = function (newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = fetchLayoutMode(this);\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n    var sourceManager = inner(this).sourceManager;\n    sourceManager.dirty();\n    sourceManager.prepareSource();\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n    this._initSelectedMapFromData(data);\n  };\n  SeriesModel.prototype.fillDataTextStyle = function (data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  };\n  /**\r\n   * Init a data structure from data related option in series\r\n   * Must be overridden.\r\n   */\n  SeriesModel.prototype.getInitialData = function (option, ecModel) {\n    return;\n  };\n  /**\r\n   * Append data to list\r\n   */\n  SeriesModel.prototype.appendData = function (params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  };\n  /**\r\n   * Consider some method like `filter`, `map` need make new data,\r\n   * We should make sure that `seriesModel.getData()` get correct\r\n   * data in the stream procedure. So we fetch data from upstream\r\n   * each time `task.perform` called.\r\n   */\n  SeriesModel.prototype.getData = function (dataType) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var data = task.context.data;\n      return dataType == null || !data.getLinkedData ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  };\n  SeriesModel.prototype.getAllData = function () {\n    var mainData = this.getData();\n    return mainData && mainData.getLinkedDataAll ? mainData.getLinkedDataAll() : [{\n      data: mainData\n    }];\n  };\n  SeriesModel.prototype.setData = function (data) {\n    var task = getCurrentTask(this);\n    if (task) {\n      var context = task.context;\n      // Consider case: filter, data sample.\n      // FIXME:TS never used, so comment it\n      // if (context.data !== data && task.modifyOutputEnd) {\n      //     task.setOutputEnd(data.count());\n      // }\n      context.outputData = data;\n      // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n    inner(this).data = data;\n  };\n  SeriesModel.prototype.getEncode = function () {\n    var encode = this.get('encode', true);\n    if (encode) {\n      return zrUtil.createHashMap(encode);\n    }\n  };\n  SeriesModel.prototype.getSourceManager = function () {\n    return inner(this).sourceManager;\n  };\n  SeriesModel.prototype.getSource = function () {\n    return this.getSourceManager().getSource();\n  };\n  /**\r\n   * Get data before processed\r\n   */\n  SeriesModel.prototype.getRawData = function () {\n    return inner(this).dataBeforeProcessed;\n  };\n  SeriesModel.prototype.getColorBy = function () {\n    var colorBy = this.get('colorBy');\n    return colorBy || 'series';\n  };\n  SeriesModel.prototype.isColorBySeries = function () {\n    return this.getColorBy() === 'series';\n  };\n  /**\r\n   * Get base axis if has coordinate system and has axis.\r\n   * By default use coordSys.getBaseAxis();\r\n   * Can be overridden for some chart.\r\n   * @return {type} description\r\n   */\n  SeriesModel.prototype.getBaseAxis = function () {\n    var coordSys = this.coordinateSystem;\n    // @ts-ignore\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  };\n  /**\r\n   * Default tooltip formatter\r\n   *\r\n   * @param dataIndex\r\n   * @param multipleSeries\r\n   * @param dataType\r\n   * @param renderMode valid values: 'html'(by default) and 'richText'.\r\n   *        'html' is used for rendering tooltip in extra DOM form, and the result\r\n   *        string is used as DOM HTML content.\r\n   *        'richText' is used for rendering tooltip in rich text form, for those where\r\n   *        DOM operation is not supported.\r\n   * @return formatted tooltip with `html` and `markers`\r\n   *        Notice: The override method can also return string\r\n   */\n  SeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    return defaultSeriesFormatTooltip({\n      series: this,\n      dataIndex: dataIndex,\n      multipleSeries: multipleSeries\n    });\n  };\n  SeriesModel.prototype.isAnimationEnabled = function () {\n    var ecModel = this.ecModel;\n    // Disable animation if using echarts in node but not give ssr flag.\n    // In ssr mode, renderToString will generate svg with css animation.\n    if (env.node && !(ecModel && ecModel.ssr)) {\n      return false;\n    }\n    var animationEnabled = this.getShallow('animation');\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n    return !!animationEnabled;\n  };\n  SeriesModel.prototype.restoreData = function () {\n    this.dataTask.dirty();\n  };\n  SeriesModel.prototype.getColorFromPalette = function (name, scope, requestColorNum) {\n    var ecModel = this.ecModel;\n    // PENDING\n    var color = PaletteMixin.prototype.getColorFromPalette.call(this, name, scope, requestColorNum);\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n    return color;\n  };\n  /**\r\n   * Use `data.mapDimensionsAll(coordDim)` instead.\r\n   * @deprecated\r\n   */\n  SeriesModel.prototype.coordDimToDataDim = function (coordDim) {\n    return this.getRawData().mapDimensionsAll(coordDim);\n  };\n  /**\r\n   * Get progressive rendering count each step\r\n   */\n  SeriesModel.prototype.getProgressive = function () {\n    return this.get('progressive');\n  };\n  /**\r\n   * Get progressive rendering count each step\r\n   */\n  SeriesModel.prototype.getProgressiveThreshold = function () {\n    return this.get('progressiveThreshold');\n  };\n  // PENGING If selectedMode is null ?\n  SeriesModel.prototype.select = function (innerDataIndices, dataType) {\n    this._innerSelect(this.getData(dataType), innerDataIndices);\n  };\n  SeriesModel.prototype.unselect = function (innerDataIndices, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return;\n    }\n    var selectedMode = this.option.selectedMode;\n    var data = this.getData(dataType);\n    if (selectedMode === 'series' || selectedMap === 'all') {\n      this.option.selectedMap = {};\n      this._selectedDataIndicesMap = {};\n      return;\n    }\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      var dataIndex = innerDataIndices[i];\n      var nameOrId = getSelectionKey(data, dataIndex);\n      selectedMap[nameOrId] = false;\n      this._selectedDataIndicesMap[nameOrId] = -1;\n    }\n  };\n  SeriesModel.prototype.toggleSelect = function (innerDataIndices, dataType) {\n    var tmpArr = [];\n    for (var i = 0; i < innerDataIndices.length; i++) {\n      tmpArr[0] = innerDataIndices[i];\n      this.isSelected(innerDataIndices[i], dataType) ? this.unselect(tmpArr, dataType) : this.select(tmpArr, dataType);\n    }\n  };\n  SeriesModel.prototype.getSelectedDataIndices = function () {\n    if (this.option.selectedMap === 'all') {\n      return [].slice.call(this.getData().getIndices());\n    }\n    var selectedDataIndicesMap = this._selectedDataIndicesMap;\n    var nameOrIds = zrUtil.keys(selectedDataIndicesMap);\n    var dataIndices = [];\n    for (var i = 0; i < nameOrIds.length; i++) {\n      var dataIndex = selectedDataIndicesMap[nameOrIds[i]];\n      if (dataIndex >= 0) {\n        dataIndices.push(dataIndex);\n      }\n    }\n    return dataIndices;\n  };\n  SeriesModel.prototype.isSelected = function (dataIndex, dataType) {\n    var selectedMap = this.option.selectedMap;\n    if (!selectedMap) {\n      return false;\n    }\n    var data = this.getData(dataType);\n    return (selectedMap === 'all' || selectedMap[getSelectionKey(data, dataIndex)]) && !data.getItemModel(dataIndex).get(['select', 'disabled']);\n  };\n  SeriesModel.prototype.isUniversalTransitionEnabled = function () {\n    if (this[SERIES_UNIVERSAL_TRANSITION_PROP]) {\n      return true;\n    }\n    var universalTransitionOpt = this.option.universalTransition;\n    // Quick reject\n    if (!universalTransitionOpt) {\n      return false;\n    }\n    if (universalTransitionOpt === true) {\n      return true;\n    }\n    // Can be simply 'universalTransition: true'\n    return universalTransitionOpt && universalTransitionOpt.enabled;\n  };\n  SeriesModel.prototype._innerSelect = function (data, innerDataIndices) {\n    var _a, _b;\n    var option = this.option;\n    var selectedMode = option.selectedMode;\n    var len = innerDataIndices.length;\n    if (!selectedMode || !len) {\n      return;\n    }\n    if (selectedMode === 'series') {\n      option.selectedMap = 'all';\n    } else if (selectedMode === 'multiple') {\n      if (!zrUtil.isObject(option.selectedMap)) {\n        option.selectedMap = {};\n      }\n      var selectedMap = option.selectedMap;\n      for (var i = 0; i < len; i++) {\n        var dataIndex = innerDataIndices[i];\n        // TODO different types of data share same object.\n        var nameOrId = getSelectionKey(data, dataIndex);\n        selectedMap[nameOrId] = true;\n        this._selectedDataIndicesMap[nameOrId] = data.getRawIndex(dataIndex);\n      }\n    } else if (selectedMode === 'single' || selectedMode === true) {\n      var lastDataIndex = innerDataIndices[len - 1];\n      var nameOrId = getSelectionKey(data, lastDataIndex);\n      option.selectedMap = (_a = {}, _a[nameOrId] = true, _a);\n      this._selectedDataIndicesMap = (_b = {}, _b[nameOrId] = data.getRawIndex(lastDataIndex), _b);\n    }\n  };\n  SeriesModel.prototype._initSelectedMapFromData = function (data) {\n    // Ignore select info in data if selectedMap exists.\n    // NOTE It's only for legacy usage. edge data is not supported.\n    if (this.option.selectedMap) {\n      return;\n    }\n    var dataIndices = [];\n    if (data.hasItemOption) {\n      data.each(function (idx) {\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem.selected) {\n          dataIndices.push(idx);\n        }\n      });\n    }\n    if (dataIndices.length > 0) {\n      this._innerSelect(data, dataIndices);\n    }\n  };\n  // /**\n  //  * @see {module:echarts/stream/Scheduler}\n  //  */\n  // abstract pipeTask: null\n  SeriesModel.registerClass = function (clz) {\n    return ComponentModel.registerClass(clz);\n  };\n  SeriesModel.protoInitialize = function () {\n    var proto = SeriesModel.prototype;\n    proto.type = 'series.__base__';\n    proto.seriesIndex = 0;\n    proto.ignoreStyleOnData = false;\n    proto.hasSymbolVisual = false;\n    proto.defaultSymbol = 'circle';\n    // Make sure the values can be accessed!\n    proto.visualStyleAccessPath = 'itemStyle';\n    proto.visualDrawType = 'fill';\n  }();\n  return SeriesModel;\n}(ComponentModel);\nzrUtil.mixin(SeriesModel, DataFormatMixin);\nzrUtil.mixin(SeriesModel, PaletteMixin);\nmountExtend(SeriesModel, ComponentModel);\n/**\r\n * MUST be called after `prepareSource` called\r\n * Here we need to make auto series, especially for auto legend. But we\r\n * do not modify series.name in option to avoid side effects.\r\n */\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimensionsAll('seriesName');\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\nfunction dataTaskProgress(param, context) {\n  // Avoid repeat cloneShallow when data just created in reset.\n  if (context.outputData && param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n}\n// TODO refactor\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(zrUtil.concatArray(data.CHANGABLE_METHODS, data.DOWNSAMPLE_METHODS), function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataChange, seriesModel));\n  });\n}\nfunction onDataChange(seriesModel, newList) {\n  var task = getCurrentTask(seriesModel);\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd((newList || this).count());\n  }\n  return newList;\n}\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n    return task;\n  }\n}\nexport default SeriesModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nvar ComponentView = /** @class */function () {\n  function ComponentView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewComponent');\n  }\n  ComponentView.prototype.init = function (ecModel, api) {};\n  ComponentView.prototype.render = function (model, ecModel, api, payload) {};\n  ComponentView.prototype.dispose = function (ecModel, api) {};\n  ComponentView.prototype.updateView = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  ComponentView.prototype.updateLayout = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  ComponentView.prototype.updateVisual = function (model, ecModel, api, payload) {\n    // Do nothing;\n  };\n  /**\r\n   * Hook for toggle blur target series.\r\n   * Can be used in marker for blur or leave blur the markers\r\n   */\n  ComponentView.prototype.toggleBlurSeries = function (seriesModels, isBlur, ecModel) {\n    // Do nothing;\n  };\n  /**\r\n   * Traverse the new rendered elements.\r\n   *\r\n   * It will traverse the new added element in progressive rendering.\r\n   * And traverse all in normal rendering.\r\n   */\n  ComponentView.prototype.eachRendered = function (cb) {\n    var group = this.group;\n    if (group) {\n      group.traverse(cb);\n    }\n  };\n  return ComponentView;\n}();\n;\nclazzUtil.enableClassExtend(ComponentView);\nclazzUtil.enableClassManagement(ComponentView);\nexport default ComponentView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { each } from 'zrender/lib/core/util.js';\nimport Group from 'zrender/lib/graphic/Group.js';\nimport * as componentUtil from '../util/component.js';\nimport * as clazzUtil from '../util/clazz.js';\nimport * as modelUtil from '../util/model.js';\nimport { enterEmphasis, leaveEmphasis, getHighlightDigit, isHighDownDispatcher } from '../util/states.js';\nimport { createTask } from '../core/task.js';\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\nimport { traverseElements } from '../util/graphic.js';\nimport { error } from '../util/log.js';\nvar inner = modelUtil.makeInner();\nvar renderPlanner = createRenderPlanner();\nvar ChartView = /** @class */function () {\n  function ChartView() {\n    this.group = new Group();\n    this.uid = componentUtil.getUID('viewChart');\n    this.renderTask = createTask({\n      plan: renderTaskPlan,\n      reset: renderTaskReset\n    });\n    this.renderTask.context = {\n      view: this\n    };\n  }\n  ChartView.prototype.init = function (ecModel, api) {};\n  ChartView.prototype.render = function (seriesModel, ecModel, api, payload) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error('render method must been implemented');\n    }\n  };\n  /**\r\n   * Highlight series or specified data item.\r\n   */\n  ChartView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n      return;\n    }\n    toggleHighlight(data, payload, 'emphasis');\n  };\n  /**\r\n   * Downplay series or specified data item.\r\n   */\n  ChartView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData(payload && payload.dataType);\n    if (!data) {\n      if (process.env.NODE_ENV !== 'production') {\n        error(\"Unknown dataType \" + payload.dataType);\n      }\n      return;\n    }\n    toggleHighlight(data, payload, 'normal');\n  };\n  /**\r\n   * Remove self.\r\n   */\n  ChartView.prototype.remove = function (ecModel, api) {\n    this.group.removeAll();\n  };\n  /**\r\n   * Dispose self.\r\n   */\n  ChartView.prototype.dispose = function (ecModel, api) {};\n  ChartView.prototype.updateView = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  // FIXME never used?\n  ChartView.prototype.updateLayout = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  // FIXME never used?\n  ChartView.prototype.updateVisual = function (seriesModel, ecModel, api, payload) {\n    this.render(seriesModel, ecModel, api, payload);\n  };\n  /**\r\n   * Traverse the new rendered elements.\r\n   *\r\n   * It will traverse the new added element in progressive rendering.\r\n   * And traverse all in normal rendering.\r\n   */\n  ChartView.prototype.eachRendered = function (cb) {\n    traverseElements(this.group, cb);\n  };\n  ChartView.markUpdateMethod = function (payload, methodName) {\n    inner(payload).updateMethod = methodName;\n  };\n  ChartView.protoInitialize = function () {\n    var proto = ChartView.prototype;\n    proto.type = 'chart';\n  }();\n  return ChartView;\n}();\n;\n/**\r\n * Set state of single element\r\n */\nfunction elSetState(el, state, highlightDigit) {\n  if (el && isHighDownDispatcher(el)) {\n    (state === 'emphasis' ? enterEmphasis : leaveEmphasis)(el, highlightDigit);\n  }\n}\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n  var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;\n  if (dataIndex != null) {\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state, highlightDigit);\n    });\n  }\n}\nclazzUtil.enableClassExtend(ChartView, ['dispose']);\nclazzUtil.enableClassManagement(ChartView);\nfunction renderTaskPlan(context) {\n  return renderPlanner(context.model);\n}\nfunction renderTaskReset(context) {\n  var seriesModel = context.model;\n  var ecModel = context.ecModel;\n  var api = context.api;\n  var payload = context.payload;\n  // FIXME: remove updateView updateVisual\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n  var view = context.view;\n  var updateMethod = payload && inner(payload).updateMethod;\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod\n  // `appendData` is also supported when data amount\n  // is less than progressive threshold.\n  : 'render';\n  if (methodName !== 'render') {\n    view[methodName](seriesModel, ecModel, api, payload);\n  }\n  return progressMethodMap[methodName];\n}\nvar progressMethodMap = {\n  incrementalPrepareRender: {\n    progress: function (params, context) {\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n    }\n  },\n  render: {\n    // Put view.render in `progress` to support appendData. But in this case\n    // view.render should not be called in reset, otherwise it will be called\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\n    // in any cases.\n    forceFirstProgress: true,\n    progress: function (params, context) {\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\n    }\n  }\n};\nexport default ChartView;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n;\n/**\r\n * @public\r\n * @param {(Function)} fn\r\n * @param {number} [delay=0] Unit: ms.\r\n * @param {boolean} [debounce=false]\r\n *        true: If call interval less than `delay`, only the last call works.\r\n *        false: If call interval less than `delay, call works on fixed rate.\r\n * @return {(Function)} throttled fn.\r\n */\nexport function throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n  var cb = function () {\n    var cbArgs = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      cbArgs[_i] = arguments[_i];\n    }\n    currCall = new Date().getTime();\n    scope = this;\n    args = cbArgs;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer);\n    // Here we should make sure that: the `exec` SHOULD NOT be called later\n    // than a new call of `cb`, that is, preserving the command order. Consider\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n    // happens, either the `exec` is called dierectly, or the call is delayed.\n    // But the delayed call should never be later than next call of `cb`. Under\n    // this assurance, we can simply update view state each time `dispatchAction`\n    // triggered by user roaming, but not need to add extra code to avoid the\n    // state being \"rolled-back\".\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n    lastCall = currCall;\n  };\n  /**\r\n   * Clear throttle.\r\n   * @public\r\n   */\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\r\n   * Enable debounce once.\r\n   */\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n  return cb;\n}\n/**\r\n * Create throttle method or update throttle rate.\r\n *\r\n * @example\r\n * ComponentView.prototype.render = function () {\r\n *     ...\r\n *     throttle.createOrUpdate(\r\n *         this,\r\n *         '_dispatchAction',\r\n *         this.model.get('throttle'),\r\n *         'fixRate'\r\n *     );\r\n * };\r\n * ComponentView.prototype.remove = function () {\r\n *     throttle.clear(this, '_dispatchAction');\r\n * };\r\n * ComponentView.prototype.dispose = function () {\r\n *     throttle.clear(this, '_dispatchAction');\r\n * };\r\n *\r\n */\nexport function createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n  if (!fn) {\n    return;\n  }\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n  return fn;\n}\n/**\r\n * Clear throttle. Example see throttle.createOrUpdate.\r\n */\nexport function clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n  if (fn && fn[ORIGIN_METHOD]) {\n    // Clear throttle\n    fn.clear && fn.clear();\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}", "function isSafeNum(num) {\n    return isFinite(num);\n}\nexport function createLinearGradient(ctx, obj, rect) {\n    var x = obj.x == null ? 0 : obj.x;\n    var x2 = obj.x2 == null ? 1 : obj.x2;\n    var y = obj.y == null ? 0 : obj.y;\n    var y2 = obj.y2 == null ? 0 : obj.y2;\n    if (!obj.global) {\n        x = x * rect.width + rect.x;\n        x2 = x2 * rect.width + rect.x;\n        y = y * rect.height + rect.y;\n        y2 = y2 * rect.height + rect.y;\n    }\n    x = isSafeNum(x) ? x : 0;\n    x2 = isSafeNum(x2) ? x2 : 1;\n    y = isSafeNum(y) ? y : 0;\n    y2 = isSafeNum(y2) ? y2 : 0;\n    var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n    return canvasGradient;\n}\nexport function createRadialGradient(ctx, obj, rect) {\n    var width = rect.width;\n    var height = rect.height;\n    var min = Math.min(width, height);\n    var x = obj.x == null ? 0.5 : obj.x;\n    var y = obj.y == null ? 0.5 : obj.y;\n    var r = obj.r == null ? 0.5 : obj.r;\n    if (!obj.global) {\n        x = x * width + rect.x;\n        y = y * height + rect.y;\n        r = r * min;\n    }\n    x = isSafeNum(x) ? x : 0.5;\n    y = isSafeNum(y) ? y : 0.5;\n    r = r >= 0 && isSafeNum(r) ? r : 0.5;\n    var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n    return canvasGradient;\n}\nexport function getCanvasGradient(ctx, obj, rect) {\n    var canvasGradient = obj.type === 'radial'\n        ? createRadialGradient(ctx, obj, rect)\n        : createLinearGradient(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n    for (var i = 0; i < colorStops.length; i++) {\n        canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n    return canvasGradient;\n}\nexport function isClipPathChanged(clipPaths, prevClipPaths) {\n    if (clipPaths === prevClipPaths || (!clipPaths && !prevClipPaths)) {\n        return false;\n    }\n    if (!clipPaths || !prevClipPaths || (clipPaths.length !== prevClipPaths.length)) {\n        return true;\n    }\n    for (var i = 0; i < clipPaths.length; i++) {\n        if (clipPaths[i] !== prevClipPaths[i]) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseInt10(val) {\n    return parseInt(val, 10);\n}\nexport function getSize(root, whIdx, opts) {\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n        return parseFloat(opts[wh]);\n    }\n    var stl = document.defaultView.getComputedStyle(root);\n    return ((root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh]))\n        - (parseInt10(stl[plt]) || 0)\n        - (parseInt10(stl[prb]) || 0)) | 0;\n}\n", "import { isArray, isNumber, map } from '../core/util.js';\nexport function normalizeLineDash(lineType, lineWidth) {\n    if (!lineType || lineType === 'solid' || !(lineWidth > 0)) {\n        return null;\n    }\n    return lineType === 'dashed'\n        ? [4 * lineWidth, 2 * lineWidth]\n        : lineType === 'dotted'\n            ? [lineWidth]\n            : isNumber(lineType)\n                ? [lineType] : isArray(lineType) ? lineType : null;\n}\nexport function getLineDash(el) {\n    var style = el.style;\n    var lineDash = style.lineDash && style.lineWidth > 0 && normalizeLineDash(style.lineDash, style.lineWidth);\n    var lineDashOffset = style.lineDashOffset;\n    if (lineDash) {\n        var lineScale_1 = (style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1;\n        if (lineScale_1 && lineScale_1 !== 1) {\n            lineDash = map(lineDash, function (rawVal) {\n                return rawVal / lineScale_1;\n            });\n            lineDashOffset /= lineScale_1;\n        }\n    }\n    return [lineDash, lineDashOffset];\n}\n", "import { DEFAULT_COMMON_STYLE } from '../graphic/Displayable.js';\nimport PathProxy from '../core/PathProxy.js';\nimport { createOrUpdateImage, isImageReady } from '../graphic/helper/image.js';\nimport { getCanvasGradient, isClipPathChanged } from './helper.js';\nimport Path from '../graphic/Path.js';\nimport ZRImage from '../graphic/Image.js';\nimport TSpan from '../graphic/TSpan.js';\nimport { RADIAN_TO_DEGREE } from '../core/util.js';\nimport { getLineDash } from './dashStyle.js';\nimport { REDRAW_BIT, SHAPE_CHANGED_BIT } from '../graphic/constants.js';\nimport { DEFAULT_FONT } from '../core/platform.js';\nvar pathProxyForDraw = new PathProxy(true);\nfunction styleHasStroke(style) {\n    var stroke = style.stroke;\n    return !(stroke == null || stroke === 'none' || !(style.lineWidth > 0));\n}\nfunction isValidStrokeFillStyle(strokeOrFill) {\n    return typeof strokeOrFill === 'string' && strokeOrFill !== 'none';\n}\nfunction styleHasFill(style) {\n    var fill = style.fill;\n    return fill != null && fill !== 'none';\n}\nfunction doFillPath(ctx, style) {\n    if (style.fillOpacity != null && style.fillOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        ctx.fill();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.fill();\n    }\n}\nfunction doStrokePath(ctx, style) {\n    if (style.strokeOpacity != null && style.strokeOpacity !== 1) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        ctx.stroke();\n        ctx.globalAlpha = originalGlobalAlpha;\n    }\n    else {\n        ctx.stroke();\n    }\n}\nexport function createCanvasPattern(ctx, pattern, el) {\n    var image = createOrUpdateImage(pattern.image, pattern.__image, el);\n    if (isImageReady(image)) {\n        var canvasPattern = ctx.createPattern(image, pattern.repeat || 'repeat');\n        if (typeof DOMMatrix === 'function'\n            && canvasPattern\n            && canvasPattern.setTransform) {\n            var matrix = new DOMMatrix();\n            matrix.translateSelf((pattern.x || 0), (pattern.y || 0));\n            matrix.rotateSelf(0, 0, (pattern.rotation || 0) * RADIAN_TO_DEGREE);\n            matrix.scaleSelf((pattern.scaleX || 1), (pattern.scaleY || 1));\n            canvasPattern.setTransform(matrix);\n        }\n        return canvasPattern;\n    }\n}\nfunction brushPath(ctx, el, style, inBatch) {\n    var _a;\n    var hasStroke = styleHasStroke(style);\n    var hasFill = styleHasFill(style);\n    var strokePercent = style.strokePercent;\n    var strokePart = strokePercent < 1;\n    var firstDraw = !el.path;\n    if ((!el.silent || strokePart) && firstDraw) {\n        el.createPathProxy();\n    }\n    var path = el.path || pathProxyForDraw;\n    var dirtyFlag = el.__dirty;\n    if (!inBatch) {\n        var fill = style.fill;\n        var stroke = style.stroke;\n        var hasFillGradient = hasFill && !!fill.colorStops;\n        var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n        var hasFillPattern = hasFill && !!fill.image;\n        var hasStrokePattern = hasStroke && !!stroke.image;\n        var fillGradient = void 0;\n        var strokeGradient = void 0;\n        var fillPattern = void 0;\n        var strokePattern = void 0;\n        var rect = void 0;\n        if (hasFillGradient || hasStrokeGradient) {\n            rect = el.getBoundingRect();\n        }\n        if (hasFillGradient) {\n            fillGradient = dirtyFlag\n                ? getCanvasGradient(ctx, fill, rect)\n                : el.__canvasFillGradient;\n            el.__canvasFillGradient = fillGradient;\n        }\n        if (hasStrokeGradient) {\n            strokeGradient = dirtyFlag\n                ? getCanvasGradient(ctx, stroke, rect)\n                : el.__canvasStrokeGradient;\n            el.__canvasStrokeGradient = strokeGradient;\n        }\n        if (hasFillPattern) {\n            fillPattern = (dirtyFlag || !el.__canvasFillPattern)\n                ? createCanvasPattern(ctx, fill, el)\n                : el.__canvasFillPattern;\n            el.__canvasFillPattern = fillPattern;\n        }\n        if (hasStrokePattern) {\n            strokePattern = (dirtyFlag || !el.__canvasStrokePattern)\n                ? createCanvasPattern(ctx, stroke, el)\n                : el.__canvasStrokePattern;\n            el.__canvasStrokePattern = fillPattern;\n        }\n        if (hasFillGradient) {\n            ctx.fillStyle = fillGradient;\n        }\n        else if (hasFillPattern) {\n            if (fillPattern) {\n                ctx.fillStyle = fillPattern;\n            }\n            else {\n                hasFill = false;\n            }\n        }\n        if (hasStrokeGradient) {\n            ctx.strokeStyle = strokeGradient;\n        }\n        else if (hasStrokePattern) {\n            if (strokePattern) {\n                ctx.strokeStyle = strokePattern;\n            }\n            else {\n                hasStroke = false;\n            }\n        }\n    }\n    var scale = el.getGlobalScale();\n    path.setScale(scale[0], scale[1], el.segmentIgnoreThreshold);\n    var lineDash;\n    var lineDashOffset;\n    if (ctx.setLineDash && style.lineDash) {\n        _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n    }\n    var needsRebuild = true;\n    if (firstDraw || (dirtyFlag & SHAPE_CHANGED_BIT)) {\n        path.setDPR(ctx.dpr);\n        if (strokePart) {\n            path.setContext(null);\n        }\n        else {\n            path.setContext(ctx);\n            needsRebuild = false;\n        }\n        path.reset();\n        el.buildPath(path, el.shape, inBatch);\n        path.toStatic();\n        el.pathUpdated();\n    }\n    if (needsRebuild) {\n        path.rebuildPath(ctx, strokePart ? strokePercent : 1);\n    }\n    if (lineDash) {\n        ctx.setLineDash(lineDash);\n        ctx.lineDashOffset = lineDashOffset;\n    }\n    if (!inBatch) {\n        if (style.strokeFirst) {\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n        }\n        else {\n            if (hasFill) {\n                doFillPath(ctx, style);\n            }\n            if (hasStroke) {\n                doStrokePath(ctx, style);\n            }\n        }\n    }\n    if (lineDash) {\n        ctx.setLineDash([]);\n    }\n}\nfunction brushImage(ctx, el, style) {\n    var image = el.__image = createOrUpdateImage(style.image, el.__image, el, el.onload);\n    if (!image || !isImageReady(image)) {\n        return;\n    }\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = el.getWidth();\n    var height = el.getHeight();\n    var aspect = image.width / image.height;\n    if (width == null && height != null) {\n        width = height * aspect;\n    }\n    else if (height == null && width != null) {\n        height = width / aspect;\n    }\n    else if (width == null && height == null) {\n        width = image.width;\n        height = image.height;\n    }\n    if (style.sWidth && style.sHeight) {\n        var sx = style.sx || 0;\n        var sy = style.sy || 0;\n        ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    }\n    else if (style.sx && style.sy) {\n        var sx = style.sx;\n        var sy = style.sy;\n        var sWidth = width - sx;\n        var sHeight = height - sy;\n        ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    }\n    else {\n        ctx.drawImage(image, x, y, width, height);\n    }\n}\nfunction brushText(ctx, el, style) {\n    var _a;\n    var text = style.text;\n    text != null && (text += '');\n    if (text) {\n        ctx.font = style.font || DEFAULT_FONT;\n        ctx.textAlign = style.textAlign;\n        ctx.textBaseline = style.textBaseline;\n        var lineDash = void 0;\n        var lineDashOffset = void 0;\n        if (ctx.setLineDash && style.lineDash) {\n            _a = getLineDash(el), lineDash = _a[0], lineDashOffset = _a[1];\n        }\n        if (lineDash) {\n            ctx.setLineDash(lineDash);\n            ctx.lineDashOffset = lineDashOffset;\n        }\n        if (style.strokeFirst) {\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n        }\n        else {\n            if (styleHasFill(style)) {\n                ctx.fillText(text, style.x, style.y);\n            }\n            if (styleHasStroke(style)) {\n                ctx.strokeText(text, style.x, style.y);\n            }\n        }\n        if (lineDash) {\n            ctx.setLineDash([]);\n        }\n    }\n}\nvar SHADOW_NUMBER_PROPS = ['shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\nvar STROKE_PROPS = [\n    ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]\n];\nfunction bindCommonProps(ctx, style, prevStyle, forceSetAll, scope) {\n    var styleChanged = false;\n    if (!forceSetAll) {\n        prevStyle = prevStyle || {};\n        if (style === prevStyle) {\n            return false;\n        }\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        flushPathDrawn(ctx, scope);\n        styleChanged = true;\n        var opacity = Math.max(Math.min(style.opacity, 1), 0);\n        ctx.globalAlpha = isNaN(opacity) ? DEFAULT_COMMON_STYLE.opacity : opacity;\n    }\n    if (forceSetAll || style.blend !== prevStyle.blend) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalCompositeOperation = style.blend || DEFAULT_COMMON_STYLE.blend;\n    }\n    for (var i = 0; i < SHADOW_NUMBER_PROPS.length; i++) {\n        var propName = SHADOW_NUMBER_PROPS[i];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = ctx.dpr * (style[propName] || 0);\n        }\n    }\n    if (forceSetAll || style.shadowColor !== prevStyle.shadowColor) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.shadowColor = style.shadowColor || DEFAULT_COMMON_STYLE.shadowColor;\n    }\n    return styleChanged;\n}\nfunction bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetAll, scope) {\n    var style = getStyle(el, scope.inHover);\n    var prevStyle = forceSetAll\n        ? null\n        : (prevEl && getStyle(prevEl, scope.inHover) || {});\n    if (style === prevStyle) {\n        return false;\n    }\n    var styleChanged = bindCommonProps(ctx, style, prevStyle, forceSetAll, scope);\n    if (forceSetAll || style.fill !== prevStyle.fill) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.fill) && (ctx.fillStyle = style.fill);\n    }\n    if (forceSetAll || style.stroke !== prevStyle.stroke) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        isValidStrokeFillStyle(style.stroke) && (ctx.strokeStyle = style.stroke);\n    }\n    if (forceSetAll || style.opacity !== prevStyle.opacity) {\n        if (!styleChanged) {\n            flushPathDrawn(ctx, scope);\n            styleChanged = true;\n        }\n        ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n    if (el.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var newLineWidth = lineWidth / ((style.strokeNoScale && el.getLineScale) ? el.getLineScale() : 1);\n        if (ctx.lineWidth !== newLineWidth) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx.lineWidth = newLineWidth;\n        }\n    }\n    for (var i = 0; i < STROKE_PROPS.length; i++) {\n        var prop = STROKE_PROPS[i];\n        var propName = prop[0];\n        if (forceSetAll || style[propName] !== prevStyle[propName]) {\n            if (!styleChanged) {\n                flushPathDrawn(ctx, scope);\n                styleChanged = true;\n            }\n            ctx[propName] = style[propName] || prop[1];\n        }\n    }\n    return styleChanged;\n}\nfunction bindImageStyle(ctx, el, prevEl, forceSetAll, scope) {\n    return bindCommonProps(ctx, getStyle(el, scope.inHover), prevEl && getStyle(prevEl, scope.inHover), forceSetAll, scope);\n}\nfunction setContextTransform(ctx, el) {\n    var m = el.transform;\n    var dpr = ctx.dpr || 1;\n    if (m) {\n        ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n    }\n    else {\n        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n    }\n}\nfunction updateClipStatus(clipPaths, ctx, scope) {\n    var allClipped = false;\n    for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        allClipped = allClipped || clipPath.isZeroArea();\n        setContextTransform(ctx, clipPath);\n        ctx.beginPath();\n        clipPath.buildPath(ctx, clipPath.shape);\n        ctx.clip();\n    }\n    scope.allClipped = allClipped;\n}\nfunction isTransformChanged(m0, m1) {\n    if (m0 && m1) {\n        return m0[0] !== m1[0]\n            || m0[1] !== m1[1]\n            || m0[2] !== m1[2]\n            || m0[3] !== m1[3]\n            || m0[4] !== m1[4]\n            || m0[5] !== m1[5];\n    }\n    else if (!m0 && !m1) {\n        return false;\n    }\n    return true;\n}\nvar DRAW_TYPE_PATH = 1;\nvar DRAW_TYPE_IMAGE = 2;\nvar DRAW_TYPE_TEXT = 3;\nvar DRAW_TYPE_INCREMENTAL = 4;\nfunction canPathBatch(style) {\n    var hasFill = styleHasFill(style);\n    var hasStroke = styleHasStroke(style);\n    return !(style.lineDash\n        || !(+hasFill ^ +hasStroke)\n        || (hasFill && typeof style.fill !== 'string')\n        || (hasStroke && typeof style.stroke !== 'string')\n        || style.strokePercent < 1\n        || style.strokeOpacity < 1\n        || style.fillOpacity < 1);\n}\nfunction flushPathDrawn(ctx, scope) {\n    scope.batchFill && ctx.fill();\n    scope.batchStroke && ctx.stroke();\n    scope.batchFill = '';\n    scope.batchStroke = '';\n}\nfunction getStyle(el, inHover) {\n    return inHover ? (el.__hoverStyle || el.style) : el.style;\n}\nexport function brushSingle(ctx, el) {\n    brush(ctx, el, { inHover: false, viewWidth: 0, viewHeight: 0 }, true);\n}\nexport function brush(ctx, el, scope, isLast) {\n    var m = el.transform;\n    if (!el.shouldBePainted(scope.viewWidth, scope.viewHeight, false, false)) {\n        el.__dirty &= ~REDRAW_BIT;\n        el.__isRendered = false;\n        return;\n    }\n    var clipPaths = el.__clipPaths;\n    var prevElClipPaths = scope.prevElClipPaths;\n    var forceSetTransform = false;\n    var forceSetStyle = false;\n    if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n        if (prevElClipPaths && prevElClipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.restore();\n            forceSetStyle = forceSetTransform = true;\n            scope.prevElClipPaths = null;\n            scope.allClipped = false;\n            scope.prevEl = null;\n        }\n        if (clipPaths && clipPaths.length) {\n            flushPathDrawn(ctx, scope);\n            ctx.save();\n            updateClipStatus(clipPaths, ctx, scope);\n            forceSetTransform = true;\n        }\n        scope.prevElClipPaths = clipPaths;\n    }\n    if (scope.allClipped) {\n        el.__isRendered = false;\n        return;\n    }\n    el.beforeBrush && el.beforeBrush();\n    el.innerBeforeBrush();\n    var prevEl = scope.prevEl;\n    if (!prevEl) {\n        forceSetStyle = forceSetTransform = true;\n    }\n    var canBatchPath = el instanceof Path\n        && el.autoBatch\n        && canPathBatch(el.style);\n    if (forceSetTransform || isTransformChanged(m, prevEl.transform)) {\n        flushPathDrawn(ctx, scope);\n        setContextTransform(ctx, el);\n    }\n    else if (!canBatchPath) {\n        flushPathDrawn(ctx, scope);\n    }\n    var style = getStyle(el, scope.inHover);\n    if (el instanceof Path) {\n        if (scope.lastDrawType !== DRAW_TYPE_PATH) {\n            forceSetStyle = true;\n            scope.lastDrawType = DRAW_TYPE_PATH;\n        }\n        bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n        if (!canBatchPath || (!scope.batchFill && !scope.batchStroke)) {\n            ctx.beginPath();\n        }\n        brushPath(ctx, el, style, canBatchPath);\n        if (canBatchPath) {\n            scope.batchFill = style.fill || '';\n            scope.batchStroke = style.stroke || '';\n        }\n    }\n    else {\n        if (el instanceof TSpan) {\n            if (scope.lastDrawType !== DRAW_TYPE_TEXT) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_TEXT;\n            }\n            bindPathAndTextCommonStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushText(ctx, el, style);\n        }\n        else if (el instanceof ZRImage) {\n            if (scope.lastDrawType !== DRAW_TYPE_IMAGE) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_IMAGE;\n            }\n            bindImageStyle(ctx, el, prevEl, forceSetStyle, scope);\n            brushImage(ctx, el, style);\n        }\n        else if (el.getTemporalDisplayables) {\n            if (scope.lastDrawType !== DRAW_TYPE_INCREMENTAL) {\n                forceSetStyle = true;\n                scope.lastDrawType = DRAW_TYPE_INCREMENTAL;\n            }\n            brushIncremental(ctx, el, scope);\n        }\n    }\n    if (canBatchPath && isLast) {\n        flushPathDrawn(ctx, scope);\n    }\n    el.innerAfterBrush();\n    el.afterBrush && el.afterBrush();\n    scope.prevEl = el;\n    el.__dirty = 0;\n    el.__isRendered = true;\n}\nfunction brushIncremental(ctx, el, scope) {\n    var displayables = el.getDisplayables();\n    var temporalDisplayables = el.getTemporalDisplayables();\n    ctx.save();\n    var innerScope = {\n        prevElClipPaths: null,\n        prevEl: null,\n        allClipped: false,\n        viewWidth: scope.viewWidth,\n        viewHeight: scope.viewHeight,\n        inHover: scope.inHover\n    };\n    var i;\n    var len;\n    for (i = el.getCursor(), len = displayables.length; i < len; i++) {\n        var displayable = displayables[i];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i === len - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    for (var i_1 = 0, len_1 = temporalDisplayables.length; i_1 < len_1; i_1++) {\n        var displayable = temporalDisplayables[i_1];\n        displayable.beforeBrush && displayable.beforeBrush();\n        displayable.innerBeforeBrush();\n        brush(ctx, displayable, innerScope, i_1 === len_1 - 1);\n        displayable.innerAfterBrush();\n        displayable.afterBrush && displayable.afterBrush();\n        innerScope.prevEl = displayable;\n    }\n    el.clearTemporalDisplayables();\n    el.notClear = true;\n    ctx.restore();\n}\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nvar platform = '';\n// Navigator not exists in node\nif (typeof navigator !== 'undefined') {\n  /* global navigator */\n  platform = navigator.platform || '';\n}\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\nexport default {\n  darkMode: 'auto',\n  // backgroundColor: 'rgba(0,0,0,0)',\n  colorBy: 'series',\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  aria: {\n    decal: {\n      decals: [{\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [2, 5],\n        symbolSize: 1,\n        rotation: Math.PI / 6\n      }, {\n        color: decalColor,\n        symbol: 'circle',\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\n        dashArrayY: [6, 0],\n        symbolSize: 0.8\n      }, {\n        color: decalColor,\n        dashArrayX: [1, 0],\n        dashArrayY: [4, 3],\n        rotation: -Math.PI / 4\n      }, {\n        color: decalColor,\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\n        dashArrayY: [6, 0]\n      }, {\n        color: decalColor,\n        dashArrayX: [[1, 0], [1, 6]],\n        dashArrayY: [1, 0, 6, 0],\n        rotation: Math.PI / 4\n      }, {\n        color: decalColor,\n        symbol: 'triangle',\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\n        dashArrayY: [7, 2],\n        symbolSize: 0.75\n      }]\n    }\n  },\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  stateAnimation: {\n    duration: 300,\n    easing: 'cubicOut'\n  },\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 500,\n  animationEasing: 'cubicInOut',\n  animationEasingUpdate: 'cubicInOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\nimport { isComponentIdInternal } from '../util/model.js';\nvar internalOptionCreatorMap = createHashMap();\nexport function registerInternalOptionCreator(mainType, creator) {\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\n  internalOptionCreatorMap.set(mainType, creator);\n}\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\n  if (!internalOptionCreator) {\n    return newCmptOptionList;\n  }\n  var internalOptions = internalOptionCreator(ecModel);\n  if (!internalOptions) {\n    return newCmptOptionList;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    for (var i = 0; i < internalOptions.length; i++) {\n      assert(isComponentIdInternal(internalOptions[i]));\n    }\n  }\n  return newCmptOptionList.concat(internalOptions);\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { __extends } from \"tslib\";\n/**\r\n * Caution: If the mechanism should be changed some day, these cases\r\n * should be considered:\r\n *\r\n * (1) In `merge option` mode, if using the same option to call `setOption`\r\n * many times, the result should be the same (try our best to ensure that).\r\n * (2) In `merge option` mode, if a component has no id/name specified, it\r\n * will be merged by index, and the result sequence of the components is\r\n * consistent to the original sequence.\r\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\r\n * consistent to the original sequence, even though there might result in \"hole\".\r\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\r\n * `mergeOption` in module:echarts/model/OptionManager.\r\n */\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../util/model.js';\nimport Model from './Model.js';\nimport ComponentModel from './Component.js';\nimport globalDefault from './globalDefault.js';\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\nimport { concatInternalOptions } from './internalComponentCreator.js';\nimport { PaletteMixin } from './mixin/palette.js';\nimport { error, warn } from '../util/log.js';\n// -----------------------\n// Internal method names:\n// -----------------------\nvar reCreateSeriesIndices;\nvar assertSeriesInitialized;\nvar initBase;\nvar OPTION_INNER_KEY = '\\0_ec_inner';\nvar OPTION_INNER_VALUE = 1;\nvar BUITIN_COMPONENTS_MAP = {\n  grid: 'GridComponent',\n  polar: 'PolarComponent',\n  geo: 'GeoComponent',\n  singleAxis: 'SingleAxisComponent',\n  parallel: 'ParallelComponent',\n  calendar: 'CalendarComponent',\n  graphic: 'GraphicComponent',\n  toolbox: 'ToolboxComponent',\n  tooltip: 'TooltipComponent',\n  axisPointer: 'AxisPointerComponent',\n  brush: 'BrushComponent',\n  title: 'TitleComponent',\n  timeline: 'TimelineComponent',\n  markPoint: 'MarkPointComponent',\n  markLine: 'MarkLineComponent',\n  markArea: 'MarkAreaComponent',\n  legend: 'LegendComponent',\n  dataZoom: 'DataZoomComponent',\n  visualMap: 'VisualMapComponent',\n  // aria: 'AriaComponent',\n  // dataset: 'DatasetComponent',\n  // Dependencies\n  xAxis: 'GridComponent',\n  yAxis: 'GridComponent',\n  angleAxis: 'PolarComponent',\n  radiusAxis: 'PolarComponent'\n};\nvar BUILTIN_CHARTS_MAP = {\n  line: 'LineChart',\n  bar: 'BarChart',\n  pie: 'PieChart',\n  scatter: 'ScatterChart',\n  radar: 'RadarChart',\n  map: 'MapChart',\n  tree: 'TreeChart',\n  treemap: 'TreemapChart',\n  graph: 'GraphChart',\n  gauge: 'GaugeChart',\n  funnel: 'FunnelChart',\n  parallel: 'ParallelChart',\n  sankey: 'SankeyChart',\n  boxplot: 'BoxplotChart',\n  candlestick: 'CandlestickChart',\n  effectScatter: 'EffectScatterChart',\n  lines: 'LinesChart',\n  heatmap: 'HeatmapChart',\n  pictorialBar: 'PictorialBarChart',\n  themeRiver: 'ThemeRiverChart',\n  sunburst: 'SunburstChart',\n  custom: 'CustomChart'\n};\nvar componetsMissingLogPrinted = {};\nfunction checkMissingComponents(option) {\n  each(option, function (componentOption, mainType) {\n    if (!ComponentModel.hasClass(mainType)) {\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\n        componetsMissingLogPrinted[componentImportName] = true;\n      }\n    }\n  });\n}\nvar GlobalModel = /** @class */function (_super) {\n  __extends(GlobalModel, _super);\n  function GlobalModel() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n    this._theme = new Model(theme);\n    this._locale = new Model(locale);\n    this._optionManager = optionManager;\n  };\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(option != null, 'option is null/undefined');\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\n    }\n    var innerOpt = normalizeSetOptionInput(opts);\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\n    this._resetOption(null, innerOpt);\n  };\n  /**\r\n   * @param type null/undefined: reset all.\r\n   *        'recreate': force recreate all.\r\n   *        'timeline': only reset timeline option\r\n   *        'media': only reset media query option\r\n   * @return Whether option changed.\r\n   */\n  GlobalModel.prototype.resetOption = function (type, opt) {\n    return this._resetOption(type, normalizeSetOptionInput(opt));\n  };\n  GlobalModel.prototype._resetOption = function (type, opt) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n      if (process.env.NODE_ENV !== 'production') {\n        checkMissingComponents(baseOption);\n      }\n      if (!this.option || type === 'recreate') {\n        initBase(this, baseOption);\n      } else {\n        this.restoreData();\n        this._mergeOption(baseOption, opt);\n      }\n      optionChanged = true;\n    }\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    }\n    // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\n    // it should better not have the same props with `MediaUnit['option']`.\n    // Because either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\n    // rather than original \"baseOption\". If they both override a prop, the result might be\n    // unexpected when media state changed after `setOption` called.\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\n    // (`{baseOption, media}`) in `setOption`.\n    // For `timeline`, the case is the same.\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      if (timelineOption) {\n        optionChanged = true;\n        this._mergeOption(timelineOption, opt);\n      }\n    }\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this);\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          optionChanged = true;\n          this._mergeOption(mediaOption, opt);\n        }, this);\n      }\n    }\n    return optionChanged;\n  };\n  GlobalModel.prototype.mergeOption = function (option) {\n    this._mergeOption(option, null);\n  };\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var componentsCount = this._componentsCount;\n    var newCmptTypes = [];\n    var newCmptTypeMap = createHashMap();\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\n    resetSourceDefaulter(this);\n    // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCmptTypes.push(mainType);\n        newCmptTypeMap.set(mainType, true);\n      }\n    });\n    if (replaceMergeMainTypeMap) {\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\n          newCmptTypes.push(mainTypeInReplaceMerge);\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\n        }\n      });\n    }\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n    function visitComponent(mainType) {\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\n      var oldCmptList = componentsMap.get(mainType);\n      var mergeMode =\n      // `!oldCmptList` means init. See the comment in `mappingToExists`\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode);\n      // Set mainType and complete subType.\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel);\n      // Empty it before the travel, in order to prevent `this._componentsMap`\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\n      // components, which is probably incorrect logic.\n      option[mainType] = null;\n      componentsMap.set(mainType, null);\n      componentsCount.set(mainType, 0);\n      var optionsByMainType = [];\n      var cmptsByMainType = [];\n      var cmptsCountByMainType = 0;\n      var tooltipExists;\n      var tooltipWarningLogged;\n      each(mappingResult, function (resultItem, index) {\n        var componentModel = resultItem.existing;\n        var newCmptOption = resultItem.newOption;\n        if (!newCmptOption) {\n          if (componentModel) {\n            // Consider where is no new option and should be merged using {},\n            // see removeEdgeAndAdd in topologicalTravel and\n            // ComponentModel.getAllClassMainTypes.\n            componentModel.mergeOption({}, this);\n            componentModel.optionUpdated({}, false);\n          }\n          // If no both `resultItem.exist` and `resultItem.option`,\n          // either it is in `replaceMerge` and not matched by any id,\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\n        } else {\n          var isSeriesType = mainType === 'series';\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\n          );\n          if (!ComponentModelClass) {\n            if (process.env.NODE_ENV !== 'production') {\n              var subType = resultItem.keyInfo.subType;\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\n              if (!componetsMissingLogPrinted[subType]) {\n                componetsMissingLogPrinted[subType] = true;\n                if (seriesImportName) {\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\n                } else {\n                  error(\"Unknown series \" + subType);\n                }\n              }\n            }\n            return;\n          }\n          // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\n          if (mainType === 'tooltip') {\n            if (tooltipExists) {\n              if (process.env.NODE_ENV !== 'production') {\n                if (!tooltipWarningLogged) {\n                  warn('Currently only one tooltip component is allowed.');\n                  tooltipWarningLogged = true;\n                }\n              }\n              return;\n            }\n            tooltipExists = true;\n          }\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name;\n            // componentModel.settingTask && componentModel.settingTask.dirty();\n            componentModel.mergeOption(newCmptOption, this);\n            componentModel.optionUpdated(newCmptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt);\n            // Assign `keyInfo`\n            extend(componentModel, extraOpt);\n            if (resultItem.brandNew) {\n              componentModel.__requireNewView = true;\n            }\n            componentModel.init(newCmptOption, this, this);\n            // Call optionUpdated after init.\n            // newCmptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n            componentModel.optionUpdated(null, true);\n          }\n        }\n        if (componentModel) {\n          optionsByMainType.push(componentModel.option);\n          cmptsByMainType.push(componentModel);\n          cmptsCountByMainType++;\n        } else {\n          // Always do assign to avoid elided item in array.\n          optionsByMainType.push(void 0);\n          cmptsByMainType.push(void 0);\n        }\n      }, this);\n      option[mainType] = optionsByMainType;\n      componentsMap.set(mainType, cmptsByMainType);\n      componentsCount.set(mainType, cmptsCountByMainType);\n      // Backup series for filtering.\n      if (mainType === 'series') {\n        reCreateSeriesIndices(this);\n      }\n    }\n    // If no series declared, ensure `_seriesIndices` initialized.\n    if (!this._seriesIndices) {\n      reCreateSeriesIndices(this);\n    }\n  };\n  /**\r\n   * Get option for output (cloned option and inner info removed)\r\n   */\n  GlobalModel.prototype.getOption = function () {\n    var option = clone(this.option);\n    each(option, function (optInMainType, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(optInMainType);\n        // Inner cmpts need to be removed.\n        // Inner cmpts might not be at last since ec5.0, but still\n        // compatible for users: if inner cmpt at last, splice the returned array.\n        var realLen = opts.length;\n        var metNonInner = false;\n        for (var i = realLen - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\n            metNonInner = true;\n          } else {\n            opts[i] = null;\n            !metNonInner && realLen--;\n          }\n        }\n        opts.length = realLen;\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  };\n  GlobalModel.prototype.getTheme = function () {\n    return this._theme;\n  };\n  GlobalModel.prototype.getLocaleModel = function () {\n    return this._locale;\n  };\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\n    this._payload = payload;\n  };\n  GlobalModel.prototype.getUpdatePayload = function () {\n    return this._payload;\n  };\n  /**\r\n   * @param idx If not specified, return the first one.\r\n   */\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n    if (list) {\n      var cmpt = list[idx || 0];\n      if (cmpt) {\n        return cmpt;\n      } else if (idx == null) {\n        for (var i = 0; i < list.length; i++) {\n          if (list[i]) {\n            return list[i];\n          }\n        }\n      }\n    }\n  };\n  /**\r\n   * @return Never be null/undefined.\r\n   */\n  GlobalModel.prototype.queryComponents = function (condition) {\n    var mainType = condition.mainType;\n    if (!mainType) {\n      return [];\n    }\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n    var cmpts = this._componentsMap.get(mainType);\n    if (!cmpts || !cmpts.length) {\n      return [];\n    }\n    var result;\n    if (index != null) {\n      result = [];\n      each(modelUtil.normalizeToArray(index), function (idx) {\n        cmpts[idx] && result.push(cmpts[idx]);\n      });\n    } else if (id != null) {\n      result = queryByIdOrName('id', id, cmpts);\n    } else if (name != null) {\n      result = queryByIdOrName('name', name, cmpts);\n    } else {\n      // Return all non-empty components in that mainType\n      result = filter(cmpts, function (cmpt) {\n        return !!cmpt;\n      });\n    }\n    return filterBySubType(result, condition);\n  };\n  /**\r\n   * The interface is different from queryComponents,\r\n   * which is convenient for inner usage.\r\n   *\r\n   * @usage\r\n   * let result = findComponents(\r\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\r\n   * );\r\n   * let result = findComponents(\r\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\r\n   * );\r\n   * let result = findComponents(\r\n   *     {mainType: 'series',\r\n   *     filter: function (model, index) {...}}\r\n   * );\r\n   * // result like [component0, componnet1, ...]\r\n   */\n  GlobalModel.prototype.findComponents = function (condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond)\n    // Retrieve all non-empty components.\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\n      return !!cmpt;\n    });\n    return doFilter(filterBySubType(result, condition));\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  };\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n    if (isFunction(mainType)) {\n      var ctxForAll_1 = cb;\n      var cbForAll_1 = mainType;\n      componentsMap.each(function (cmpts, componentType) {\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\n          var cmpt = cmpts[i];\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\n        }\n      });\n    } else {\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\n        var cmpt = cmpts[i];\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\n      }\n    }\n  };\n  /**\r\n   * Get series list before filtered by name.\r\n   */\n  GlobalModel.prototype.getSeriesByName = function (name) {\n    var nameStr = modelUtil.convertOptionIdName(name, null);\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\n    });\n  };\n  /**\r\n   * Get series list before filtered by index.\r\n   */\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  };\n  /**\r\n   * Get series list before filtered by type.\r\n   * FIXME: rename to getRawSeriesByType?\r\n   */\n  GlobalModel.prototype.getSeriesByType = function (subType) {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries && oneSeries.subType === subType;\n    });\n  };\n  /**\r\n   * Get all series before filtered.\r\n   */\n  GlobalModel.prototype.getSeries = function () {\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\n      return !!oneSeries;\n    });\n  };\n  /**\r\n   * Count series before filtered.\r\n   */\n  GlobalModel.prototype.getSeriesCount = function () {\n    return this._componentsCount.get('series');\n  };\n  /**\r\n   * After filtering, series may be different\r\n   * from raw series.\r\n   */\n  GlobalModel.prototype.eachSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  };\n  /**\r\n   * Iterate raw series before filtered.\r\n   *\r\n   * @param {Function} cb\r\n   * @param {*} context\r\n   */\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\n    each(this._componentsMap.get('series'), function (series) {\n      series && cb.call(context, series, series.componentIndex);\n    });\n  };\n  /**\r\n   * After filtering, series may be different.\r\n   * from raw series.\r\n   */\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  };\n  /**\r\n   * Iterate raw series before filtered of given type.\r\n   */\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  };\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  };\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\n    return (this._seriesIndices || []).slice();\n  };\n  GlobalModel.prototype.filterSeries = function (cb, context) {\n    assertSeriesInitialized(this);\n    var newSeriesIndices = [];\n    each(this._seriesIndices, function (seriesRawIdx) {\n      var series = this._componentsMap.get('series')[seriesRawIdx];\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\n    }, this);\n    this._seriesIndices = newSeriesIndices;\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\n  };\n  GlobalModel.prototype.restoreData = function (payload) {\n    reCreateSeriesIndices(this);\n    var componentsMap = this._componentsMap;\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      if (ComponentModel.hasClass(componentType)) {\n        componentTypes.push(componentType);\n      }\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\n      each(componentsMap.get(componentType), function (component) {\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\n          component.restoreData();\n        }\n      });\n    });\n  };\n  GlobalModel.internalField = function () {\n    reCreateSeriesIndices = function (ecModel) {\n      var seriesIndices = ecModel._seriesIndices = [];\n      each(ecModel._componentsMap.get('series'), function (series) {\n        // series may have been removed by `replaceMerge`.\n        series && seriesIndices.push(series.componentIndex);\n      });\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\n    };\n    assertSeriesInitialized = function (ecModel) {\n      // Components that use _seriesIndices should depends on series component,\n      // which make sure that their initialization is after series.\n      if (process.env.NODE_ENV !== 'production') {\n        if (!ecModel._seriesIndices) {\n          throw new Error('Option should contains series.');\n        }\n      }\n    };\n    initBase = function (ecModel, baseOption) {\n      // Using OPTION_INNER_KEY to mark that this option cannot be used outside,\n      // i.e. `chart.setOption(chart.getModel().option);` is forbidden.\n      ecModel.option = {};\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE;\n      // Init with series: [], in case of calling findSeries method\n      // before series initialized.\n      ecModel._componentsMap = createHashMap({\n        series: []\n      });\n      ecModel._componentsCount = createHashMap();\n      // If user spefied `option.aria`, aria will be enable. This detection should be\n      // performed before theme and globalDefault merge.\n      var airaOption = baseOption.aria;\n      if (isObject(airaOption) && airaOption.enabled == null) {\n        airaOption.enabled = true;\n      }\n      mergeTheme(baseOption, ecModel._theme.option);\n      // TODO Needs clone when merging to the unexisted property\n      merge(baseOption, globalDefault, false);\n      ecModel._mergeOption(baseOption, null);\n    };\n  }();\n  return GlobalModel;\n}(Model);\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seriesIndex;\n    var id = payload.seriesId;\n    var name_1 = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\n  }\n}\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    }\n    // If it is component model mainType, the model handles that merge later.\n    // otherwise, merge them here.\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\nfunction queryByIdOrName(attr, idOrName, cmpts) {\n  // Here is a break from echarts4: string and number are\n  // treated as equal.\n  if (isArray(idOrName)) {\n    var keyMap_1 = createHashMap();\n    each(idOrName, function (idOrNameItem) {\n      if (idOrNameItem != null) {\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\n        idName != null && keyMap_1.set(idOrNameItem, true);\n      }\n    });\n    return filter(cmpts, function (cmpt) {\n      return cmpt && keyMap_1.get(cmpt[attr]);\n    });\n  } else {\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\n    return filter(cmpts, function (cmpt) {\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\n    });\n  }\n}\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\n    return cmpt && cmpt.subType === condition.subType;\n  }) : components;\n}\nfunction normalizeSetOptionInput(opts) {\n  var replaceMergeMainTypeMap = createHashMap();\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\n    if (process.env.NODE_ENV !== 'production') {\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\n    }\n    replaceMergeMainTypeMap.set(mainType, true);\n  });\n  return {\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\n  };\n}\nmixin(GlobalModel, PaletteMixin);\nexport default GlobalModel;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar availableMethods = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isSSR', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL',\n// 'getModel',\n'getOption',\n// 'getViewOfComponentModel',\n// 'getViewOfSeriesModel',\n'getId', 'updateLabelLayout'];\nvar ExtensionAPI = /** @class */function () {\n  function ExtensionAPI(ecInstance) {\n    zrUtil.each(availableMethods, function (methodName) {\n      this[methodName] = zrUtil.bind(ecInstance[methodName], ecInstance);\n    }, this);\n  }\n  return ExtensionAPI;\n}();\nexport default ExtensionAPI;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar coordinateSystemCreators = {};\nvar CoordinateSystemManager = /** @class */function () {\n  function CoordinateSystemManager() {\n    this._coordinateSystems = [];\n  }\n  CoordinateSystemManager.prototype.create = function (ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creator, type) {\n      var list = creator.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  };\n  CoordinateSystemManager.prototype.update = function (ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  };\n  CoordinateSystemManager.prototype.getCoordinateSystems = function () {\n    return this._coordinateSystems.slice();\n  };\n  CoordinateSystemManager.register = function (type, creator) {\n    coordinateSystemCreators[type] = creator;\n  };\n  CoordinateSystemManager.get = function (type) {\n    return coordinateSystemCreators[type];\n  };\n  return CoordinateSystemManager;\n}();\nexport default CoordinateSystemManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { normalizeToArray\n// , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\n} from '../util/model.js';\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject\n// , HashMap , createHashMap, extend, merge,\n} from 'zrender/lib/core/util.js';\nimport { error } from '../util/log.js';\nvar QUERY_REG = /^(min|max)?(.+)$/;\n// Key: mainType\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\n/**\r\n * TERM EXPLANATIONS:\r\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\r\n */\nvar OptionManager = /** @class */function () {\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\n  // rawOption cloned and backuped when timeline changed, which does no\n  // good to performance. What's more, that both timeline and setOption\n  // method supply 'notMerge' brings complex and some problems.\n  // Consider this case:\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n  function OptionManager(api) {\n    this._timelineOptions = [];\n    this._mediaList = [];\n    /**\r\n     * -1, means default.\r\n     * empty means no media.\r\n     */\n    this._currentMediaIndices = [];\n    this._api = api;\n  }\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      each(normalizeToArray(rawOption.series), function (series) {\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\n      });\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\n      });\n    }\n    // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n    rawOption = clone(rawOption);\n    // FIXME\n    // If some property is set in timeline options or media option but\n    // not set in baseOption, a warning should be given.\n    var optionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\n    this._newBaseOption = newParsedOption.baseOption;\n    // For setOption at second time (using merge mode);\n    if (optionBackup) {\n      // FIXME\n      // the restore merge solution is essentially incorrect.\n      // the mapping can not be 100% consistent with ecModel, which probably brings\n      // potential bug!\n      // The first merge is delayed, because in most cases, users do not call `setOption` twice.\n      // let fakeCmptsMap = this._fakeCmptsMap;\n      // if (!fakeCmptsMap) {\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\n      // }\n      // mergeToBackupOption(\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\n      // );\n      // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline options will not be merged to the former, but just substitute them.\n      if (newParsedOption.timelineOptions.length) {\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n      if (newParsedOption.mediaList.length) {\n        optionBackup.mediaList = newParsedOption.mediaList;\n      }\n      if (newParsedOption.mediaDefault) {\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  };\n  OptionManager.prototype.mountOption = function (isRecreate) {\n    var optionBackup = this._optionBackup;\n    this._timelineOptions = optionBackup.timelineOptions;\n    this._mediaList = optionBackup.mediaList;\n    this._mediaDefault = optionBackup.mediaDefault;\n    this._currentMediaIndices = [];\n    return clone(isRecreate\n    // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  };\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n      if (timelineModel) {\n        option = clone(\n        // FIXME:TS as TimelineModel or quivlant interface\n        timelineOptions[timelineModel.getCurrentIndex()]);\n      }\n    }\n    return option;\n  };\n  OptionManager.prototype.getMediaOption = function (ecModel) {\n    var ecWidth = this._api.getWidth();\n    var ecHeight = this._api.getHeight();\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = [];\n    // No media defined.\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    }\n    // Multi media may be applied, the latter defined media has higher priority.\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    }\n    // FIXME\n    // Whether mediaDefault should force users to provide? Otherwise\n    // the change by media query can not be recorvered.\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    }\n    // Otherwise return nothing.\n    this._currentMediaIndices = indices;\n    return result;\n  };\n  return OptionManager;\n}();\n/**\r\n * [RAW_OPTION_PATTERNS]\r\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\r\n *\r\n * (1) No prop \"baseOption\" declared:\r\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\r\n * ```js\r\n * option = {\r\n *     series: [],\r\n *     timeline: {},\r\n *     options: [],\r\n * };\r\n * option = {\r\n *     series: [],\r\n *     media: {},\r\n * };\r\n * option = {\r\n *     series: [],\r\n *     timeline: {},\r\n *     options: [],\r\n *     media: {},\r\n * }\r\n * ```\r\n *\r\n * (2) Prop \"baseOption\" declared:\r\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\r\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\r\n * ```js\r\n * option = {\r\n *     baseOption: {\r\n *         timeline: {},\r\n *         series: [],\r\n *     },\r\n *     options: []\r\n * };\r\n * option = {\r\n *     baseOption: {\r\n *         series: [],\r\n *     },\r\n *     media: []\r\n * };\r\n * option = {\r\n *     baseOption: {\r\n *         timeline: {},\r\n *         series: [],\r\n *     },\r\n *     options: []\r\n *     media: []\r\n * };\r\n * option = {\r\n *     // ec3 compat ec2: allow (only) `timeline` declared\r\n *     // outside baseOption. Keep this setting for compat.\r\n *     timeline: {},\r\n *     baseOption: {\r\n *         series: [],\r\n *     },\r\n *     options: [],\r\n *     media: []\r\n * };\r\n * ```\r\n */\nfunction parseRawOption(\n// `rawOption` May be modified\nrawOption, optionPreprocessorFuncs, isNew) {\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption;\n  var declaredBaseOption = rawOption.baseOption;\n  // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\n  var timelineOnRoot = rawOption.timeline;\n  var timelineOptionsOnRoot = rawOption.options;\n  var mediaOnRoot = rawOption.media;\n  var hasMedia = !!rawOption.media;\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\n  if (declaredBaseOption) {\n    baseOption = declaredBaseOption;\n    // For merge option.\n    if (!baseOption.timeline) {\n      baseOption.timeline = timelineOnRoot;\n    }\n  }\n  // For convenience, enable to use the root option as the `baseOption`:\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\n  else {\n    if (hasTimeline || hasMedia) {\n      rawOption.options = rawOption.media = null;\n    }\n    baseOption = rawOption;\n  }\n  if (hasMedia) {\n    if (isArray(mediaOnRoot)) {\n      each(mediaOnRoot, function (singleMedia) {\n        if (process.env.NODE_ENV !== 'production') {\n          // Real case of wrong config.\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\n          }\n        }\n        if (singleMedia && singleMedia.option) {\n          if (singleMedia.query) {\n            mediaList.push(singleMedia);\n          } else if (!mediaDefault) {\n            // Use the first media default.\n            mediaDefault = singleMedia;\n          }\n        }\n      });\n    } else {\n      if (process.env.NODE_ENV !== 'production') {\n        // Real case of wrong config.\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\n      }\n    }\n  }\n  doPreprocess(baseOption);\n  each(timelineOptionsOnRoot, function (option) {\n    return doPreprocess(option);\n  });\n  each(mediaList, function (media) {\n    return doPreprocess(media.option);\n  });\n  function doPreprocess(option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  }\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptionsOnRoot || [],\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\r\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\r\n * Support: width, height, aspectRatio\r\n * Can use max or min as prefix.\r\n */\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lower case for convenience.\n  };\n  var applicable = true;\n  each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicable = false;\n    }\n  });\n  return applicable;\n}\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\r\n * Consider case:\r\n * `chart.setOption(opt1);`\r\n * Then user do some interaction like dataZoom, dataView changing.\r\n * `chart.setOption(opt2);`\r\n * Then user press 'reset button' in toolbox.\r\n *\r\n * After doing that all of the interaction effects should be reset, the\r\n * chart should be the same as the result of invoke\r\n * `chart.setOption(opt1); chart.setOption(opt2);`.\r\n *\r\n * Although it is not able ensure that\r\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\r\n * `chart.setOption(merge(opt1, opt2));` exactly,\r\n * this might be the only simple way to implement that feature.\r\n *\r\n * MEMO: We've considered some other approaches:\r\n * 1. Each model handles its self restoration but not uniform treatment.\r\n *     (Too complex in logic and error-prone)\r\n * 2. Use a shadow ecModel. (Performance expensive)\r\n *\r\n * FIXME: A possible solution:\r\n * Add a extra level of model for each component model. The inheritance chain would be:\r\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\r\n * And all of the actions can only modify the `componentActionModel` rather than\r\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\r\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\r\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\r\n */\n// function mergeToBackupOption(\n//     fakeCmptsMap: FakeComponentsMap,\n//     // `tarOption` Can be null/undefined, means init\n//     tarOption: ECUnitOption,\n//     newOption: ECUnitOption,\n//     // Can be null/undefined\n//     opt: InnerSetOptionOpts\n// ): void {\n//     newOption = newOption || {} as ECUnitOption;\n//     const notInit = !!tarOption;\n//     each(newOption, function (newOptsInMainType, mainType) {\n//         if (newOptsInMainType == null) {\n//             return;\n//         }\n//         if (!ComponentModel.hasClass(mainType)) {\n//             if (tarOption) {\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\n//             }\n//         }\n//         else {\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\n//             const mappingResult = mappingToExists(\n//                 oldFakeCmptsInMainType,\n//                 normalizeToArray(newOptsInMainType),\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\n//             );\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\n//             each(mappingResult, function (resultItem, index) {\n//                 // The same logic as `Global.ts#_mergeOption`.\n//                 let fakeCmpt = resultItem.existing;\n//                 const newOption = resultItem.newOption;\n//                 const keyInfo = resultItem.keyInfo;\n//                 let fakeCmptOpt;\n//                 if (!newOption) {\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\n//                 }\n//                 else {\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\n//                         fakeCmpt.name = keyInfo.name;\n//                         if (notInit) {\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\n//                         }\n//                     }\n//                     else {\n//                         fakeCmpt = extend({}, keyInfo);\n//                         if (notInit) {\n//                             fakeCmptOpt = clone(newOption);\n//                         }\n//                     }\n//                 }\n//                 if (fakeCmpt) {\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\n//                 }\n//                 else {\n//                     notInit && resultTarOptsInMainType.push(void 0);\n//                     resultFakeCmptsInMainType.push(void 0);\n//                 }\n//             });\n//         }\n//     });\n// }\nexport default OptionManager;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as modelUtil from '../../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n  if (!itemStyleOpt) {\n    return;\n  }\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\n      }\n      opt[styleName] = opt[styleName] || {};\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n      normalItemStyleOpt[styleName] = null;\n    }\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\n      }\n      opt[styleName] = opt[styleName] || {};\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n    if (normalOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        // eslint-disable-next-line max-len\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\n      }\n      // Timeline controlStyle has other properties besides normal and emphasis\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n    if (emphasisOpt) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\n      }\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt;\n      // Also compat the case user mix the style and focus together in ec3 style\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\n      if (emphasisOpt.focus) {\n        opt.emphasis.focus = emphasisOpt.focus;\n      }\n      if (emphasisOpt.blurScope) {\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\n      }\n    }\n  }\n}\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine');\n  // treemap\n  convertNormalEmphasis(opt, 'upperLabel');\n  // graph\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n  if (textStyle) {\n    if (process.env.NODE_ENV !== 'production') {\n      // eslint-disable-next-line max-len\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\n    }\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\n      if (textStyle.hasOwnProperty(textPropName)) {\n        labelOptSingle[textPropName] = textStyle[textPropName];\n      }\n    }\n  }\n}\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label');\n  // treemap\n  compatTextStyle(seriesOpt, 'upperLabel');\n  // graph\n  compatTextStyle(seriesOpt, 'edgeLabel');\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label');\n    // treemap\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel');\n    // graph\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n  var markPoint = seriesOpt.markPoint;\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n  var markLine = seriesOpt.markLine;\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n  var markArea = seriesOpt.markArea;\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n  var data = seriesOpt.data;\n  // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  }\n  // mark point data\n  markPoint = seriesOpt.markPoint;\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  }\n  // mark line data\n  markLine = seriesOpt.markLine;\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  }\n  // Series\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  }\n  // sunburst starts from ec4, so it does not need to compat levels.\n}\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\nexport default function globalCompatStyle(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  });\n  // radar.name.textStyle\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name');\n    // Use axisName instead of name because component has name property\n    if (radarOpt.name && radarOpt.axisName == null) {\n      radarOpt.axisName = radarOpt.name;\n      delete radarOpt.name;\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('name property in radar component has been changed to axisName');\n      }\n    }\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\n      radarOpt.axisNameGap = radarOpt.nameGap;\n      delete radarOpt.nameGap;\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\n      }\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      each(radarOpt.indicator, function (indicatorOpt) {\n        if (indicatorOpt.text) {\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\n        }\n      });\n    }\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n  // Clean logs\n  // storedLogs = {};\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\nimport compatStyle from './helper/compatStyle.js';\nimport { normalizeToArray } from '../util/model.js';\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\nfunction get(opt, path) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  for (var i = 0; i < pathArr.length; i++) {\n    obj = obj && obj[pathArr[i]];\n    if (obj == null) {\n      break;\n    }\n  }\n  return obj;\n}\nfunction set(opt, path, val, overwrite) {\n  var pathArr = path.split(',');\n  var obj = opt;\n  var key;\n  var i = 0;\n  for (; i < pathArr.length - 1; i++) {\n    key = pathArr[i];\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n    obj = obj[key];\n  }\n  if (overwrite || obj[pathArr[i]] == null) {\n    obj[pathArr[i]] = val;\n  }\n}\nfunction compatLayoutProperties(option) {\n  option && each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\nfunction compatBarItemStyle(option) {\n  var itemStyle = option && option.itemStyle;\n  if (itemStyle) {\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\n      if (itemStyle[oldName] != null) {\n        itemStyle[newName] = itemStyle[oldName];\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog(oldName, newName);\n        }\n      }\n    }\n  }\n}\nfunction compatPieLabel(option) {\n  if (!option) {\n    return;\n  }\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\n    }\n    option.edgeDistance = option.margin;\n  }\n}\nfunction compatSunburstState(option) {\n  if (!option) {\n    return;\n  }\n  if (option.downplay && !option.blur) {\n    option.blur = option.downplay;\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\n    }\n  }\n}\nfunction compatGraphFocus(option) {\n  if (!option) {\n    return;\n  }\n  if (option.focusNodeAdjacency != null) {\n    option.emphasis = option.emphasis || {};\n    if (option.emphasis.focus == null) {\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\n      }\n      option.emphasis.focus = 'adjacency';\n    }\n  }\n}\nfunction traverseTree(data, cb) {\n  if (data) {\n    for (var i = 0; i < data.length; i++) {\n      cb(data[i]);\n      data[i] && traverseTree(data[i].children, cb);\n    }\n  }\n}\nexport default function globalBackwardCompat(option, isTheme) {\n  compatStyle(option, isTheme);\n  // Make sure series array for model initialization.\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n    var seriesType = seriesOpt.type;\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\n        }\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('clockWise', 'clockwise');\n        }\n      }\n      compatPieLabel(seriesOpt.label);\n      var data = seriesOpt.data;\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          compatPieLabel(data[i]);\n        }\n      }\n      if (seriesOpt.hoverOffset != null) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n        if (seriesOpt.emphasis.scaleSize = null) {\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\n          }\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\n        }\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    } else if (seriesType === 'bar') {\n      compatBarItemStyle(seriesOpt);\n      compatBarItemStyle(seriesOpt.backgroundStyle);\n      compatBarItemStyle(seriesOpt.emphasis);\n      var data = seriesOpt.data;\n      if (data && !isTypedArray(data)) {\n        for (var i = 0; i < data.length; i++) {\n          if (typeof data[i] === 'object') {\n            compatBarItemStyle(data[i]);\n            compatBarItemStyle(data[i] && data[i].emphasis);\n          }\n        }\n      }\n    } else if (seriesType === 'sunburst') {\n      var highlightPolicy = seriesOpt.highlightPolicy;\n      if (highlightPolicy) {\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\n        if (!seriesOpt.emphasis.focus) {\n          seriesOpt.emphasis.focus = highlightPolicy;\n          if (process.env.NODE_ENV !== 'production') {\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\n          }\n        }\n      }\n      compatSunburstState(seriesOpt);\n      traverseTree(seriesOpt.data, compatSunburstState);\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\n      compatGraphFocus(seriesOpt);\n      // TODO nodes, edges?\n    } else if (seriesType === 'map') {\n      if (seriesOpt.mapType && !seriesOpt.map) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('mapType', 'map', 'map');\n        }\n        seriesOpt.map = seriesOpt.mapType;\n      }\n      if (seriesOpt.mapLocation) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateLog('`mapLocation` is not used anymore.');\n        }\n        defaults(seriesOpt, seriesOpt.mapLocation);\n      }\n    }\n    if (seriesOpt.hoverAnimation != null) {\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\n        if (process.env.NODE_ENV !== 'production') {\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\n        }\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\n      }\n    }\n    compatLayoutProperties(seriesOpt);\n  });\n  // dataRange has changed to visualMap\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\nimport { addSafe } from '../util/number.js';\n// (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatedly.\n//     Should be executed after series is filtered and before stack calculation.\nexport default function dataStack(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack');\n    // Compatible: when `stack` is set as '', do not stack.\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        // TODO: Type getCalculationInfo return more specific type?\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      };\n      // If stacked on axis that do not support data stack.\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex;\n    var stackStrategy = targetStackInfo.seriesModel.get('stackStrategy') || 'samesign';\n    // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n    targetData.modify(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex);\n      // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n      var byValue;\n      var stackedDataRawIndex;\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      }\n      // If stackOver is NaN, chart view will render point on value start.\n      var stackedOver = NaN;\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j];\n        // Has been optimized by inverted indices on `stackedByDimension`.\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex);\n          // Considering positive stack, negative stack and empty data\n          if (stackStrategy === 'all' // single stack group\n          || stackStrategy === 'positive' && val > 0 || stackStrategy === 'negative' && val < 0 || stackStrategy === 'samesign' && sum >= 0 && val > 0 // All positive stack\n          || stackStrategy === 'samesign' && sum <= 0 && val < 0 // All negative stack\n          ) {\n            // The sum has to be very small to be affected by the\n            // floating arithmetic problem. An incorrect result will probably\n            // cause axis min/max to be filtered incorrectly.\n            sum = addSafe(sum, val);\n            stackedOver = val;\n            break;\n          }\n        }\n      }\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { isFunction, extend, createHashMap } from 'zrender/lib/core/util.js';\nimport makeStyleMapper from '../model/mixin/makeStyleMapper.js';\nimport { ITEM_STYLE_KEY_MAP } from '../model/mixin/itemStyle.js';\nimport { LINE_STYLE_KEY_MAP } from '../model/mixin/lineStyle.js';\nimport Model from '../model/Model.js';\nimport { makeInner } from '../util/model.js';\nvar inner = makeInner();\nvar defaultStyleMappers = {\n  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),\n  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)\n};\nvar defaultColorKey = {\n  lineStyle: 'stroke',\n  itemStyle: 'fill'\n};\nfunction getStyleMapper(seriesModel, stylePath) {\n  var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];\n  if (!styleMapper) {\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\n    return defaultStyleMappers.itemStyle;\n  }\n  return styleMapper;\n}\nfunction getDefaultColorKey(seriesModel, stylePath) {\n  // return defaultColorKey[stylePath] ||\n  var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];\n  if (!colorKey) {\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\n    return 'fill';\n  }\n  return colorKey;\n}\nvar seriesStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n    // Set in itemStyle\n    var styleModel = seriesModel.getModel(stylePath);\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var globalStyle = getStyle(styleModel);\n    var decalOption = styleModel.getShallow('decal');\n    if (decalOption) {\n      data.setVisual('decal', decalOption);\n      decalOption.dirty = true;\n    }\n    // TODO\n    var colorKey = getDefaultColorKey(seriesModel, stylePath);\n    var color = globalStyle[colorKey];\n    // TODO style callback\n    var colorCallback = isFunction(color) ? color : null;\n    var hasAutoColor = globalStyle.fill === 'auto' || globalStyle.stroke === 'auto';\n    // Get from color palette by default.\n    if (!globalStyle[colorKey] || colorCallback || hasAutoColor) {\n      // Note: If some series has color specified (e.g., by itemStyle.color), we DO NOT\n      // make it effect palette. Because some scenarios users need to make some series\n      // transparent or as background, which should better not effect the palette.\n      var colorPalette = seriesModel.getColorFromPalette(\n      // TODO series count changed.\n      seriesModel.name, null, ecModel.getSeriesCount());\n      if (!globalStyle[colorKey]) {\n        globalStyle[colorKey] = colorPalette;\n        data.setVisual('colorFromPalette', true);\n      }\n      globalStyle.fill = globalStyle.fill === 'auto' || isFunction(globalStyle.fill) ? colorPalette : globalStyle.fill;\n      globalStyle.stroke = globalStyle.stroke === 'auto' || isFunction(globalStyle.stroke) ? colorPalette : globalStyle.stroke;\n    }\n    data.setVisual('style', globalStyle);\n    data.setVisual('drawType', colorKey);\n    // Only visible series has each data be visual encoded\n    if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {\n      data.setVisual('colorFromPalette', false);\n      return {\n        dataEach: function (data, idx) {\n          var dataParams = seriesModel.getDataParams(idx);\n          var itemStyle = extend({}, globalStyle);\n          itemStyle[colorKey] = colorCallback(dataParams);\n          data.setItemVisual(idx, 'style', itemStyle);\n        }\n      };\n    }\n  }\n};\nvar sharedModel = new Model();\nvar dataStyleTask = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n    // Set in itemStyle\n    var getStyle = getStyleMapper(seriesModel, stylePath);\n    var colorKey = data.getVisual('drawType');\n    return {\n      dataEach: data.hasItemOption ? function (data, idx) {\n        // Not use getItemModel for performance considuration\n        var rawItem = data.getRawDataItem(idx);\n        if (rawItem && rawItem[stylePath]) {\n          sharedModel.option = rawItem[stylePath];\n          var style = getStyle(sharedModel);\n          var existsStyle = data.ensureUniqueItemVisual(idx, 'style');\n          extend(existsStyle, style);\n          if (sharedModel.option.decal) {\n            data.setItemVisual(idx, 'decal', sharedModel.option.decal);\n            sharedModel.option.decal.dirty = true;\n          }\n          if (colorKey in style) {\n            data.setItemVisual(idx, 'colorFromPalette', false);\n          }\n        }\n      } : null\n    };\n  }\n};\n// Pick color from palette for the data which has not been set with color yet.\n// Note: do not support stream rendering. No such cases yet.\nvar dataColorPaletteTask = {\n  performRawSeries: true,\n  overallReset: function (ecModel) {\n    // Each type of series uses one scope.\n    // Pie and funnel are using different scopes.\n    var paletteScopeGroupByType = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var colorBy = seriesModel.getColorBy();\n      if (seriesModel.isColorBySeries()) {\n        return;\n      }\n      var key = seriesModel.type + '-' + colorBy;\n      var colorScope = paletteScopeGroupByType.get(key);\n      if (!colorScope) {\n        colorScope = {};\n        paletteScopeGroupByType.set(key, colorScope);\n      }\n      inner(seriesModel).scope = colorScope;\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.isColorBySeries() || ecModel.isSeriesFiltered(seriesModel)) {\n        return;\n      }\n      var dataAll = seriesModel.getRawData();\n      var idxMap = {};\n      var data = seriesModel.getData();\n      var colorScope = inner(seriesModel).scope;\n      var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\n      var colorKey = getDefaultColorKey(seriesModel, stylePath);\n      data.each(function (idx) {\n        var rawIdx = data.getRawIndex(idx);\n        idxMap[rawIdx] = idx;\n      });\n      // Iterate on data before filtered. To make sure color from palette can be\n      // Consistent when toggling legend.\n      dataAll.each(function (rawIdx) {\n        var idx = idxMap[rawIdx];\n        var fromPalette = data.getItemVisual(idx, 'colorFromPalette');\n        // Get color from palette for each data only when the color is inherited from series color, which is\n        // also picked from color palette. So following situation is not in the case:\n        // 1. series.itemStyle.color is set\n        // 2. color is encoded by visualMap\n        if (fromPalette) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          var name_1 = dataAll.getName(rawIdx) || rawIdx + '';\n          var dataCount = dataAll.count();\n          itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);\n        }\n      });\n    });\n  }\n};\nexport { seriesStyleTask, dataStyleTask, dataColorPaletteTask };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport * as graphic from '../util/graphic.js';\nvar PI = Math.PI;\n/**\r\n * @param {module:echarts/ExtensionAPI} api\r\n * @param {Object} [opts]\r\n * @param {string} [opts.text]\r\n * @param {string} [opts.color]\r\n * @param {string} [opts.textColor]\r\n * @return {module:zrender/Element}\r\n */\nexport default function defaultLoading(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    textColor: '#000',\n    fontSize: 12,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'sans-serif',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    showSpinner: true,\n    color: '#5470c6',\n    spinnerRadius: 10,\n    lineWidth: 5,\n    zlevel: 0\n  });\n  var group = new graphic.Group();\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  group.add(mask);\n  var textContent = new graphic.Text({\n    style: {\n      text: opts.text,\n      fill: opts.textColor,\n      fontSize: opts.fontSize,\n      fontWeight: opts.fontWeight,\n      fontStyle: opts.fontStyle,\n      fontFamily: opts.fontFamily\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none'\n    },\n    textContent: textContent,\n    textConfig: {\n      position: 'right',\n      distance: 10\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  group.add(labelRect);\n  var arc;\n  if (opts.showSpinner) {\n    arc = new graphic.Arc({\n      shape: {\n        startAngle: -PI / 2,\n        endAngle: -PI / 2 + 0.1,\n        r: opts.spinnerRadius\n      },\n      style: {\n        stroke: opts.color,\n        lineCap: 'round',\n        lineWidth: opts.lineWidth\n      },\n      zlevel: opts.zlevel,\n      z: 10001\n    });\n    arc.animateShape(true).when(1000, {\n      endAngle: PI * 3 / 2\n    }).start('circularInOut');\n    arc.animateShape(true).when(1000, {\n      startAngle: PI * 3 / 2\n    }).delay(300).start('circularInOut');\n    group.add(arc);\n  }\n  // Inject resize\n  group.resize = function () {\n    var textWidth = textContent.getBoundingRect().width;\n    var r = opts.showSpinner ? opts.spinnerRadius : 0;\n    // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\n    // textDistance needs to be calculated when both animation and text exist\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2)\n    // only show the text\n    + (opts.showSpinner ? 0 : textWidth / 2)\n    // only show the spinner\n    + (textWidth ? 0 : r);\n    var cy = api.getHeight() / 2;\n    opts.showSpinner && arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n  group.resize();\n  return group;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { each, map, isFunction, createHashMap, noop, assert } from 'zrender/lib/core/util.js';\nimport { createTask } from './task.js';\nimport { getUID } from '../util/component.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport { normalizeToArray } from '../util/model.js';\n;\nvar Scheduler = /** @class */function () {\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n    // key: handlerUID\n    this._stageTaskMap = createHashMap();\n    this.ecInstance = ecInstance;\n    this.api = api;\n    // Fix current processors in case that in some rear cases that\n    // processors might be registered after echarts instance created.\n    // Register processors incrementally for a echarts instance is\n    // not supported by this stream architecture.\n    dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n    visualHandlers = this._visualHandlers = visualHandlers.slice();\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n  }\n  Scheduler.prototype.restoreData = function (ecModel, payload) {\n    // TODO: Only restore needed series and components, but not all components.\n    // Currently `restoreData` of all of the series and component will be called.\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n    // and some components like coordinate system, axes, dataZoom, visualMap only\n    // need their target series refresh.\n    // (1) If we are implementing this feature some day, we should consider these cases:\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\n    // on the settings of `dataZoom`), it should be re-performed if the component\n    // is modified by `setOption`.\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n    // it should be re-performed when the result array of `getTargetSeries` changed.\n    // We use `dependencies` to cover these issues.\n    // (3) How to update target series when coordinate system related components modified.\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n    // and this case all of the tasks will be set as dirty.\n    ecModel.restoreData(payload);\n    // Theoretically an overall task not only depends on each of its target series, but also\n    // depends on all of the series.\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n    // probably cause state chaos (consider `dataZoomProcessor`).\n    this._stageTaskMap.each(function (taskRecord) {\n      var overallTask = taskRecord.overallTask;\n      overallTask && overallTask.dirty();\n    });\n  };\n  // If seriesModel provided, incremental threshold is check by series data.\n  Scheduler.prototype.getPerformArgs = function (task, isBlock) {\n    // For overall task\n    if (!task.__pipeline) {\n      return;\n    }\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\n    var pCtx = pipeline.context;\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n    var step = incremental ? pipeline.step : null;\n    var modDataCount = pCtx && pCtx.modDataCount;\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n    return {\n      step: step,\n      modBy: modBy,\n      modDataCount: modDataCount\n    };\n  };\n  Scheduler.prototype.getPipeline = function (pipelineId) {\n    return this._pipelineMap.get(pipelineId);\n  };\n  /**\r\n   * Current, progressive rendering starts from visual and layout.\r\n   * Always detect render mode in the same stage, avoiding that incorrect\r\n   * detection caused by data filtering.\r\n   * Caution:\r\n   * `updateStreamModes` use `seriesModel.getData()`.\r\n   */\n  Scheduler.prototype.updateStreamModes = function (seriesModel, view) {\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\n    var data = seriesModel.getData();\n    var dataLen = data.count();\n    // `progressiveRender` means that can render progressively in each\n    // animation frame. Note that some types of series do not provide\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\n    // use the term `incremental` but not `progressive` to describe the\n    // case that `chart.appendData`.\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold');\n    // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n    // see `test/candlestick-large3.html`\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n    seriesModel.pipelineContext = pipeline.context = {\n      progressiveRender: progressiveRender,\n      modDataCount: modDataCount,\n      large: large\n    };\n  };\n  Scheduler.prototype.restorePipelines = function (ecModel) {\n    var scheduler = this;\n    var pipelineMap = scheduler._pipelineMap = createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var progressive = seriesModel.getProgressive();\n      var pipelineId = seriesModel.uid;\n      pipelineMap.set(pipelineId, {\n        id: pipelineId,\n        head: null,\n        tail: null,\n        threshold: seriesModel.getProgressiveThreshold(),\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n        blockIndex: -1,\n        step: Math.round(progressive || 700),\n        count: 0\n      });\n      scheduler._pipe(seriesModel, seriesModel.dataTask);\n    });\n  };\n  Scheduler.prototype.prepareStageTasks = function () {\n    var stageTaskMap = this._stageTaskMap;\n    var ecModel = this.api.getModel();\n    var api = this.api;\n    each(this._allHandlers, function (handler) {\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});\n      var errMsg = '';\n      if (process.env.NODE_ENV !== 'production') {\n        // Currently do not need to support to sepecify them both.\n        errMsg = '\"reset\" and \"overallReset\" must not be both specified.';\n      }\n      assert(!(handler.reset && handler.overallReset), errMsg);\n      handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);\n      handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);\n    }, this);\n  };\n  Scheduler.prototype.prepareView = function (view, model, ecModel, api) {\n    var renderTask = view.renderTask;\n    var context = renderTask.context;\n    context.model = model;\n    context.ecModel = ecModel;\n    context.api = api;\n    renderTask.__block = !view.incrementalPrepareRender;\n    this._pipe(model, renderTask);\n  };\n  Scheduler.prototype.performDataProcessorTasks = function (ecModel, payload) {\n    // If we do not use `block` here, it should be considered when to update modes.\n    this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {\n      block: true\n    });\n  };\n  Scheduler.prototype.performVisualTasks = function (ecModel, payload, opt) {\n    this._performStageTasks(this._visualHandlers, ecModel, payload, opt);\n  };\n  Scheduler.prototype._performStageTasks = function (stageHandlers, ecModel, payload, opt) {\n    opt = opt || {};\n    var unfinished = false;\n    var scheduler = this;\n    each(stageHandlers, function (stageHandler, idx) {\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n        return;\n      }\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n      var overallTask = stageHandlerRecord.overallTask;\n      if (overallTask) {\n        var overallNeedDirty_1;\n        var agentStubMap = overallTask.agentStubMap;\n        agentStubMap.each(function (stub) {\n          if (needSetDirty(opt, stub)) {\n            stub.dirty();\n            overallNeedDirty_1 = true;\n          }\n        });\n        overallNeedDirty_1 && overallTask.dirty();\n        scheduler.updatePayload(overallTask, payload);\n        var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block);\n        // Execute stubs firstly, which may set the overall task dirty,\n        // then execute the overall task. And stub will call seriesModel.setData,\n        // which ensures that in the overallTask seriesModel.getData() will not\n        // return incorrect data.\n        agentStubMap.each(function (stub) {\n          stub.perform(performArgs_1);\n        });\n        if (overallTask.perform(performArgs_1)) {\n          unfinished = true;\n        }\n      } else if (seriesTaskMap) {\n        seriesTaskMap.each(function (task, pipelineId) {\n          if (needSetDirty(opt, task)) {\n            task.dirty();\n          }\n          var performArgs = scheduler.getPerformArgs(task, opt.block);\n          // FIXME\n          // if intending to declare `performRawSeries` in handlers, only\n          // stream-independent (specifically, data item independent) operations can be\n          // performed. Because if a series is filtered, most of the tasks will not\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\n          // Perhaps we should not provide a separate callback for this case instead\n          // of providing the config `performRawSeries`. The stream-dependent operations\n          // and stream-independent operations should better not be mixed.\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n          scheduler.updatePayload(task, payload);\n          if (task.perform(performArgs)) {\n            unfinished = true;\n          }\n        });\n      }\n    });\n    function needSetDirty(opt, task) {\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n    }\n    this.unfinished = unfinished || this.unfinished;\n  };\n  Scheduler.prototype.performSeriesTasks = function (ecModel) {\n    var unfinished;\n    ecModel.eachSeries(function (seriesModel) {\n      // Progress to the end for dataInit and dataRestore.\n      unfinished = seriesModel.dataTask.perform() || unfinished;\n    });\n    this.unfinished = unfinished || this.unfinished;\n  };\n  Scheduler.prototype.plan = function () {\n    // Travel pipelines, check block.\n    this._pipelineMap.each(function (pipeline) {\n      var task = pipeline.tail;\n      do {\n        if (task.__block) {\n          pipeline.blockIndex = task.__idxInPipeline;\n          break;\n        }\n        task = task.getUpstream();\n      } while (task);\n    });\n  };\n  Scheduler.prototype.updatePayload = function (task, payload) {\n    payload !== 'remain' && (task.context.payload = payload);\n  };\n  Scheduler.prototype._createSeriesStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap;\n    // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n    var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n    // it works but it may cause other irrelevant charts blocked.\n    if (stageHandler.createOnAllSeries) {\n      ecModel.eachRawSeries(create);\n    } else if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, create);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(create);\n    }\n    function create(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      // Init tasks for each seriesModel only once.\n      // Reuse original task instance.\n      var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({\n        plan: seriesTaskPlan,\n        reset: seriesTaskReset,\n        count: seriesTaskCount\n      }));\n      task.context = {\n        model: seriesModel,\n        ecModel: ecModel,\n        api: api,\n        // PENDING: `useClearVisual` not used?\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n        plan: stageHandler.plan,\n        reset: stageHandler.reset,\n        scheduler: scheduler\n      };\n      scheduler._pipe(seriesModel, task);\n    }\n  };\n  Scheduler.prototype._createOverallStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\n    var scheduler = this;\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask\n    // For overall task, the function only be called on reset stage.\n    || createTask({\n      reset: overallTaskReset\n    });\n    overallTask.context = {\n      ecModel: ecModel,\n      api: api,\n      overallReset: stageHandler.overallReset,\n      scheduler: scheduler\n    };\n    var oldAgentStubMap = overallTask.agentStubMap;\n    // The count of stages are totally about only several dozen, so\n    // do not need to reuse the map.\n    var newAgentStubMap = overallTask.agentStubMap = createHashMap();\n    var seriesType = stageHandler.seriesType;\n    var getTargetSeries = stageHandler.getTargetSeries;\n    var overallProgress = true;\n    var shouldOverallTaskDirty = false;\n    // FIXME:TS never used, so comment it\n    // let modifyOutputEnd = stageHandler.modifyOutputEnd;\n    // An overall task with seriesType detected or has `getTargetSeries`, we add\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\n    // we set the pipeline block.\n    var errMsg = '';\n    if (process.env.NODE_ENV !== 'production') {\n      errMsg = '\"createOnAllSeries\" is not supported for \"overallReset\", ' + 'because it will block all streams.';\n    }\n    assert(!stageHandler.createOnAllSeries, errMsg);\n    if (seriesType) {\n      ecModel.eachRawSeriesByType(seriesType, createStub);\n    } else if (getTargetSeries) {\n      getTargetSeries(ecModel, api).each(createStub);\n    }\n    // Otherwise, (usually it is legacy case), the overall task will only be\n    // executed when upstream is dirty. Otherwise the progressive rendering of all\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n    // dirty info from upstream.\n    else {\n      overallProgress = false;\n      each(ecModel.getSeries(), createStub);\n    }\n    function createStub(seriesModel) {\n      var pipelineId = seriesModel.uid;\n      var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || (\n      // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n      shouldOverallTaskDirty = true, createTask({\n        reset: stubReset,\n        onDirty: stubOnDirty\n      })));\n      stub.context = {\n        model: seriesModel,\n        overallProgress: overallProgress\n        // FIXME:TS never used, so comment it\n        // modifyOutputEnd: modifyOutputEnd\n      };\n      stub.agent = overallTask;\n      stub.__block = overallProgress;\n      scheduler._pipe(seriesModel, stub);\n    }\n    if (shouldOverallTaskDirty) {\n      overallTask.dirty();\n    }\n  };\n  Scheduler.prototype._pipe = function (seriesModel, task) {\n    var pipelineId = seriesModel.uid;\n    var pipeline = this._pipelineMap.get(pipelineId);\n    !pipeline.head && (pipeline.head = task);\n    pipeline.tail && pipeline.tail.pipe(task);\n    pipeline.tail = task;\n    task.__idxInPipeline = pipeline.count++;\n    task.__pipeline = pipeline;\n  };\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\n    if (isFunction(stageHandler)) {\n      stageHandler = {\n        overallReset: stageHandler,\n        seriesType: detectSeriseType(stageHandler)\n      };\n    }\n    stageHandler.uid = getUID('stageHandler');\n    visualType && (stageHandler.visualType = visualType);\n    return stageHandler;\n  };\n  ;\n  return Scheduler;\n}();\nfunction overallTaskReset(context) {\n  context.overallReset(context.ecModel, context.api, context.payload);\n}\nfunction stubReset(context) {\n  return context.overallProgress && stubProgress;\n}\nfunction stubProgress() {\n  this.agent.dirty();\n  this.getDownstream().dirty();\n}\nfunction stubOnDirty() {\n  this.agent && this.agent.dirty();\n}\nfunction seriesTaskPlan(context) {\n  return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;\n}\nfunction seriesTaskReset(context) {\n  if (context.useClearVisual) {\n    context.data.clearAllVisual();\n  }\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\n    return makeSeriesTaskProgress(idx);\n  }) : singleSeriesTaskProgress;\n}\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\nfunction makeSeriesTaskProgress(resetDefineIdx) {\n  return function (params, context) {\n    var data = context.data;\n    var resetDefine = context.resetDefines[resetDefineIdx];\n    if (resetDefine && resetDefine.dataEach) {\n      for (var i = params.start; i < params.end; i++) {\n        resetDefine.dataEach(data, i);\n      }\n    } else if (resetDefine && resetDefine.progress) {\n      resetDefine.progress(params, data);\n    }\n  };\n}\nfunction seriesTaskCount(context) {\n  return context.data.count();\n}\n/**\r\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\r\n * To ensure that they can work normally, they should work in block mode, that is,\r\n * they should not be started util the previous tasks finished. So they cause the\r\n * progressive rendering disabled. We try to detect the series type, to narrow down\r\n * the block range to only the series type they concern, but not all series.\r\n */\nfunction detectSeriseType(legacyFunc) {\n  seriesType = null;\n  try {\n    // Assume there is no async when calling `eachSeriesByType`.\n    legacyFunc(ecModelMock, apiMock);\n  } catch (e) {}\n  return seriesType;\n}\nvar ecModelMock = {};\nvar apiMock = {};\nvar seriesType;\nmockMethods(ecModelMock, GlobalModel);\nmockMethods(apiMock, ExtensionAPI);\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n  seriesType = type;\n};\necModelMock.eachComponent = function (cond) {\n  if (cond.mainType === 'series' && cond.subType) {\n    seriesType = cond.subType;\n  }\n};\nfunction mockMethods(target, Clz) {\n  /* eslint-disable */\n  for (var name_1 in Clz.prototype) {\n    // Do not use hasOwnProperty\n    target[name_1] = noop;\n  }\n  /* eslint-enable */\n}\nexport default Scheduler;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nexport default {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nvar contrastColor = '#B9B8CE';\nvar backgroundColor = '#100C2A';\nvar axisCommon = function () {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        color: '#484753'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\n      }\n    },\n    minorSplitLine: {\n      lineStyle: {\n        color: '#20203B'\n      }\n    }\n  };\n};\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\nvar theme = {\n  darkMode: true,\n  color: colorPalette,\n  backgroundColor: backgroundColor,\n  axisPointer: {\n    lineStyle: {\n      color: '#817f91'\n    },\n    crossStyle: {\n      color: '#817f91'\n    },\n    label: {\n      // TODO Contrast of label backgorundColor\n      color: '#fff'\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    },\n    pageTextStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: '#EEF1FA'\n    },\n    subtextStyle: {\n      color: '#B9B8CE'\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      borderColor: contrastColor\n    }\n  },\n  dataZoom: {\n    borderColor: '#71708A',\n    textStyle: {\n      color: contrastColor\n    },\n    brushStyle: {\n      color: 'rgba(135,163,206,0.3)'\n    },\n    handleStyle: {\n      color: '#353450',\n      borderColor: '#C5CBE3'\n    },\n    moveHandleStyle: {\n      color: '#B0B6C3',\n      opacity: 0.3\n    },\n    fillerColor: 'rgba(135,163,206,0.2)',\n    emphasis: {\n      handleStyle: {\n        borderColor: '#91B7F2',\n        color: '#4D587D'\n      },\n      moveHandleStyle: {\n        color: '#636D9A',\n        opacity: 0.7\n      }\n    },\n    dataBackground: {\n      lineStyle: {\n        color: '#71708A',\n        width: 1\n      },\n      areaStyle: {\n        color: '#71708A'\n      }\n    },\n    selectedDataBackground: {\n      lineStyle: {\n        color: '#87A3CE'\n      },\n      areaStyle: {\n        color: '#87A3CE'\n      }\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    label: {\n      color: contrastColor\n    },\n    controlStyle: {\n      color: contrastColor,\n      borderColor: contrastColor\n    }\n  },\n  calendar: {\n    itemStyle: {\n      color: backgroundColor\n    },\n    dayLabel: {\n      color: contrastColor\n    },\n    monthLabel: {\n      color: contrastColor\n    },\n    yearLabel: {\n      color: contrastColor\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      color: contrastColor\n    },\n    axisLine: {\n      lineStyle: {\n        color: [[1, 'rgba(207,212,219,0.2)']]\n      }\n    },\n    axisLabel: {\n      color: contrastColor\n    },\n    detail: {\n      color: '#EEF1FA'\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      color: '#f64e56',\n      color0: '#54ea92',\n      borderColor: '#f64e56',\n      borderColor0: '#54ea92'\n      // borderColor: '#ca2824',\n      // borderColor0: '#09a443'\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nexport default theme;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrUtil from 'zrender/lib/core/util.js';\nimport { parseClassType } from './clazz.js';\n/**\r\n * Usage of query:\r\n * `chart.on('click', query, handler);`\r\n * The `query` can be:\r\n * + The component type query string, only `mainType` or `mainType.subType`,\r\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\r\n * + The component query object, like:\r\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\r\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\r\n * + The data query object, like:\r\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\r\n * + The other query object (cmponent customized query), like:\r\n *   `{element: 'some'}` (only available in custom series).\r\n *\r\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\r\n * same as there is no such prop in the `query` object.\r\n */\nvar ECEventProcessor = /** @class */function () {\n  function ECEventProcessor() {}\n  ECEventProcessor.prototype.normalizeQuery = function (query) {\n    var cptQuery = {};\n    var dataQuery = {};\n    var otherQuery = {};\n    // `query` is `mainType` or `mainType.subType` of component.\n    if (zrUtil.isString(query)) {\n      var condCptType = parseClassType(query);\n      // `.main` and `.sub` may be ''.\n      cptQuery.mainType = condCptType.main || null;\n      cptQuery.subType = condCptType.sub || null;\n    }\n    // `query` is an object, convert to {mainType, index, name, id}.\n    else {\n      // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n      // can not be used in `compomentModel.filterForExposedEvent`.\n      var suffixes_1 = ['Index', 'Name', 'Id'];\n      var dataKeys_1 = {\n        name: 1,\n        dataIndex: 1,\n        dataType: 1\n      };\n      zrUtil.each(query, function (val, key) {\n        var reserved = false;\n        for (var i = 0; i < suffixes_1.length; i++) {\n          var propSuffix = suffixes_1[i];\n          var suffixPos = key.lastIndexOf(propSuffix);\n          if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n            var mainType = key.slice(0, suffixPos);\n            // Consider `dataIndex`.\n            if (mainType !== 'data') {\n              cptQuery.mainType = mainType;\n              cptQuery[propSuffix.toLowerCase()] = val;\n              reserved = true;\n            }\n          }\n        }\n        if (dataKeys_1.hasOwnProperty(key)) {\n          dataQuery[key] = val;\n          reserved = true;\n        }\n        if (!reserved) {\n          otherQuery[key] = val;\n        }\n      });\n    }\n    return {\n      cptQuery: cptQuery,\n      dataQuery: dataQuery,\n      otherQuery: otherQuery\n    };\n  };\n  ECEventProcessor.prototype.filter = function (eventType, query) {\n    // They should be assigned before each trigger call.\n    var eventInfo = this.eventInfo;\n    if (!eventInfo) {\n      return true;\n    }\n    var targetEl = eventInfo.targetEl;\n    var packedEvent = eventInfo.packedEvent;\n    var model = eventInfo.model;\n    var view = eventInfo.view;\n    // For event like 'globalout'.\n    if (!model || !view) {\n      return true;\n    }\n    var cptQuery = query.cptQuery;\n    var dataQuery = query.dataQuery;\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n    function check(query, host, prop, propOnHost) {\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\n    }\n  };\n  ECEventProcessor.prototype.afterTrigger = function () {\n    // Make sure the eventInfo won't be used in next trigger.\n    this.eventInfo = null;\n  };\n  return ECEventProcessor;\n}();\nexport { ECEventProcessor };\n;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { extend, isFunction, keys } from 'zrender/lib/core/util.js';\nvar SYMBOL_PROPS_WITH_CB = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'];\nvar SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(['symbolKeepAspect']);\n// Encoding visual for all series include which is filtered for legend drawing\nvar seriesSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    if (seriesModel.legendIcon) {\n      data.setVisual('legendIcon', seriesModel.legendIcon);\n    }\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n    var symbolOptions = {};\n    var symbolOptionsCb = {};\n    var hasCallback = false;\n    for (var i = 0; i < SYMBOL_PROPS_WITH_CB.length; i++) {\n      var symbolPropName = SYMBOL_PROPS_WITH_CB[i];\n      var val = seriesModel.get(symbolPropName);\n      if (isFunction(val)) {\n        hasCallback = true;\n        symbolOptionsCb[symbolPropName] = val;\n      } else {\n        symbolOptions[symbolPropName] = val;\n      }\n    }\n    symbolOptions.symbol = symbolOptions.symbol || seriesModel.defaultSymbol;\n    data.setVisual(extend({\n      legendIcon: seriesModel.legendIcon || symbolOptions.symbol,\n      symbolKeepAspect: seriesModel.get('symbolKeepAspect')\n    }, symbolOptions));\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var symbolPropsCb = keys(symbolOptionsCb);\n    function dataEach(data, idx) {\n      var rawValue = seriesModel.getRawValue(idx);\n      var params = seriesModel.getDataParams(idx);\n      for (var i = 0; i < symbolPropsCb.length; i++) {\n        var symbolPropName = symbolPropsCb[i];\n        data.setItemVisual(idx, symbolPropName, symbolOptionsCb[symbolPropName](rawValue, params));\n      }\n    }\n    return {\n      dataEach: hasCallback ? dataEach : null\n    };\n  }\n};\nvar dataSymbolTask = {\n  createOnAllSeries: true,\n  // For legend.\n  performRawSeries: true,\n  reset: function (seriesModel, ecModel) {\n    if (!seriesModel.hasSymbolVisual) {\n      return;\n    }\n    // Only visible series has each data be visual encoded\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    function dataEach(data, idx) {\n      var itemModel = data.getItemModel(idx);\n      for (var i = 0; i < SYMBOL_PROPS.length; i++) {\n        var symbolPropName = SYMBOL_PROPS[i];\n        var val = itemModel.getShallow(symbolPropName, true);\n        if (val != null) {\n          data.setItemVisual(idx, symbolPropName, val);\n        }\n      }\n    }\n    return {\n      dataEach: data.hasItemOption ? dataEach : null\n    };\n  }\n};\nexport { seriesSymbolTask, dataSymbolTask };", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nexport function getItemVisualFromData(data, dataIndex, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getItemVisual(dataIndex, 'style');\n      return style[data.getVisual('drawType')];\n    case 'opacity':\n      return data.getItemVisual(dataIndex, 'style').opacity;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getItemVisual(dataIndex, key);\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}\nexport function getVisualFromData(data, key) {\n  switch (key) {\n    case 'color':\n      var style = data.getVisual('style');\n      return style[data.getVisual('drawType')];\n    case 'opacity':\n      return data.getVisual('style').opacity;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      return data.getVisual(key);\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}\nexport function setItemVisualFromData(data, dataIndex, key, value) {\n  switch (key) {\n    case 'color':\n      // Make sure not sharing style object.\n      var style = data.ensureUniqueItemVisual(dataIndex, 'style');\n      style[data.getVisual('drawType')] = value;\n      // Mark the color has been changed, not from palette anymore\n      data.setItemVisual(dataIndex, 'colorFromPalette', false);\n      break;\n    case 'opacity':\n      data.ensureUniqueItemVisual(dataIndex, 'style').opacity = value;\n      break;\n    case 'symbol':\n    case 'symbolSize':\n    case 'liftZ':\n      data.setItemVisual(dataIndex, key, value);\n      break;\n    default:\n      if (process.env.NODE_ENV !== 'production') {\n        console.warn(\"Unknown visual type \" + key);\n      }\n  }\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\nimport { queryDataIndex } from '../util/model.js';\n// Legacy data selection action.\n// Includes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\n  function getSeriesIndices(ecModel, payload) {\n    var seriesIndices = [];\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: seriesType,\n      query: payload\n    }, function (seriesModel) {\n      seriesIndices.push(seriesModel.seriesIndex);\n    });\n    return seriesIndices;\n  }\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\n      payload = extend({}, payload);\n      if (process.env.NODE_ENV !== 'production') {\n        deprecateReplaceLog(payload.type, eventsMap[1]);\n      }\n      api.dispatchAction(extend(payload, {\n        type: eventsMap[1],\n        seriesIndex: getSeriesIndices(ecModel, payload)\n      }));\n    });\n  });\n}\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\n  var legacyEventName = type + eventPostfix;\n  if (!ecIns.isSilent(legacyEventName)) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\n    }\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'pie'\n    }, function (seriesModel) {\n      var seriesIndex = seriesModel.seriesIndex;\n      var selectedMap = seriesModel.option.selectedMap;\n      var selected = payload.selected;\n      for (var i = 0; i < selected.length; i++) {\n        if (selected[i].seriesIndex === seriesIndex) {\n          var data = seriesModel.getData();\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\n          ecIns.trigger(legacyEventName, {\n            type: legacyEventName,\n            seriesId: seriesModel.id,\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\n          });\n        }\n      }\n    });\n  }\n}\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\n  messageCenter.on('selectchanged', function (params) {\n    var ecModel = api.getModel();\n    if (params.isFromClick) {\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\n    } else if (params.fromAction === 'select') {\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\n    } else if (params.fromAction === 'unselect') {\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nexport function findEventDispatcher(target, det, returnFirstMatch) {\n  var found;\n  while (target) {\n    if (det(target)) {\n      found = target;\n      if (returnFirstMatch) {\n        break;\n      }\n    }\n    target = target.__hostTarget || target.parent;\n  }\n  return found;\n}", "var wmUniqueIndex = Math.round(Math.random() * 9);\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\nvar WeakMap = (function () {\n    function WeakMap() {\n        this._id = '__ec_inner_' + wmUniqueIndex++;\n    }\n    WeakMap.prototype.get = function (key) {\n        return this._guard(key)[this._id];\n    };\n    WeakMap.prototype.set = function (key, value) {\n        var target = this._guard(key);\n        if (supportDefineProperty) {\n            Object.defineProperty(target, this._id, {\n                value: value,\n                enumerable: false,\n                configurable: true\n            });\n        }\n        else {\n            target[this._id] = value;\n        }\n        return this;\n    };\n    WeakMap.prototype[\"delete\"] = function (key) {\n        if (this.has(key)) {\n            delete this._guard(key)[this._id];\n            return true;\n        }\n        return false;\n    };\n    WeakMap.prototype.has = function (key) {\n        return !!this._guard(key)[this._id];\n    };\n    WeakMap.prototype._guard = function (key) {\n        if (key !== Object(key)) {\n            throw TypeError('Value of WeakMap is not a non-null object.');\n        }\n        return key;\n    };\n    return WeakMap;\n}());\nexport default WeakMap;\n", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\n// Symbol factory\nimport { each, isArray, retrieve2 } from 'zrender/lib/core/util.js';\nimport * as graphic from './graphic.js';\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\nimport { parsePercent } from './number.js';\n/**\r\n * Triangle shape\r\n * @inner\r\n */\nvar Triangle = graphic.Path.extend({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\r\n * Diamond shape\r\n * @inner\r\n */\nvar Diamond = graphic.Path.extend({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\r\n * Pin shape\r\n * @inner\r\n */\nvar Pin = graphic.Path.extend({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3;\n    // Height must be larger than width\n    var h = Math.max(w, shape.height);\n    var r = w / 2;\n    // Dist on y with tangent point and circle center\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r);\n    // Dist on x with tangent point and circle center\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\r\n * Arrow shape\r\n * @inner\r\n */\nvar Arrow = graphic.Path.extend({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function (ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\r\n * Map of path constructors\r\n */\n// TODO Use function to build symbol path.\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function (x, y, w, h, shape) {\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function (x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function (x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function (x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function (x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function (x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nexport var symbolBuildProxies = {};\neach(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.Path.extend({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function (out, config, rect) {\n    var res = calculateTextPosition(out, config, rect);\n    var shape = this.shape;\n    if (shape && shape.symbolType === 'pin' && config.position === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n    return res;\n  },\n  buildPath: function (ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n});\n// Provide setColor helper method to avoid determine if set the fill or stroke outside\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n    if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff';\n      // TODO Same width with lineStyle in LineView\n      symbolStyle.lineWidth = 2;\n    } else if (this.shape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else {\n      symbolStyle.fill = color;\n    }\n    this.markRedraw();\n  }\n}\n/**\r\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\r\n */\nexport function createSymbol(symbolType, x, y, w, h, color,\n// whether to keep the ratio of w/h,\nkeepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n  var symbolPath;\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n  symbolPath.__isEmptyBrush = isEmpty;\n  // TODO Should deprecate setColor\n  symbolPath.setColor = symbolPathSetColor;\n  if (color) {\n    symbolPath.setColor(color);\n  }\n  return symbolPath;\n}\nexport function normalizeSymbolSize(symbolSize) {\n  if (!isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n  return [symbolSize[0] || 0, symbolSize[1] || 0];\n}\nexport function normalizeSymbolOffset(symbolOffset, symbolSize) {\n  if (symbolOffset == null) {\n    return;\n  }\n  if (!isArray(symbolOffset)) {\n    symbolOffset = [symbolOffset, symbolOffset];\n  }\n  return [parsePercent(symbolOffset[0], symbolSize[0]) || 0, parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]), symbolSize[1]) || 0];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport WeakMap from 'zrender/lib/core/WeakMap.js';\nimport LRU from 'zrender/lib/core/LRU.js';\nimport { defaults, map, isArray, isString, isNumber } from 'zrender/lib/core/util.js';\nimport { getLeastCommonMultiple } from './number.js';\nimport { createSymbol } from './symbol.js';\nimport { brushSingle } from 'zrender/lib/canvas/graphic.js';\nimport { platformApi } from 'zrender/lib/core/platform.js';\nvar decalMap = new WeakMap();\nvar decalCache = new LRU(100);\nvar decalKeys = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'maxTileWidth', 'maxTileHeight'];\n/**\r\n * Create or update pattern image from decal options\r\n *\r\n * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal\r\n * @return {Pattern} pattern with generated image, null if no decal\r\n */\nexport function createOrUpdatePatternFromDecal(decalObject, api) {\n  if (decalObject === 'none') {\n    return null;\n  }\n  var dpr = api.getDevicePixelRatio();\n  var zr = api.getZr();\n  var isSVG = zr.painter.type === 'svg';\n  if (decalObject.dirty) {\n    decalMap[\"delete\"](decalObject);\n  }\n  var oldPattern = decalMap.get(decalObject);\n  if (oldPattern) {\n    return oldPattern;\n  }\n  var decalOpt = defaults(decalObject, {\n    symbol: 'rect',\n    symbolSize: 1,\n    symbolKeepAspect: true,\n    color: 'rgba(0, 0, 0, 0.2)',\n    backgroundColor: null,\n    dashArrayX: 5,\n    dashArrayY: 5,\n    rotation: 0,\n    maxTileWidth: 512,\n    maxTileHeight: 512\n  });\n  if (decalOpt.backgroundColor === 'none') {\n    decalOpt.backgroundColor = null;\n  }\n  var pattern = {\n    repeat: 'repeat'\n  };\n  setPatternnSource(pattern);\n  pattern.rotation = decalOpt.rotation;\n  pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr;\n  decalMap.set(decalObject, pattern);\n  decalObject.dirty = false;\n  return pattern;\n  function setPatternnSource(pattern) {\n    var keys = [dpr];\n    var isValidKey = true;\n    for (var i = 0; i < decalKeys.length; ++i) {\n      var value = decalOpt[decalKeys[i]];\n      if (value != null && !isArray(value) && !isString(value) && !isNumber(value) && typeof value !== 'boolean') {\n        isValidKey = false;\n        break;\n      }\n      keys.push(value);\n    }\n    var cacheKey;\n    if (isValidKey) {\n      cacheKey = keys.join(',') + (isSVG ? '-svg' : '');\n      var cache = decalCache.get(cacheKey);\n      if (cache) {\n        isSVG ? pattern.svgElement = cache : pattern.image = cache;\n      }\n    }\n    var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);\n    var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);\n    var symbolArray = normalizeSymbolArray(decalOpt.symbol);\n    var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);\n    var lineBlockLengthY = getLineBlockLengthY(dashArrayY);\n    var canvas = !isSVG && platformApi.createCanvas();\n    var svgRoot = isSVG && {\n      tag: 'g',\n      attrs: {},\n      key: 'dcl',\n      children: []\n    };\n    var pSize = getPatternSize();\n    var ctx;\n    if (canvas) {\n      canvas.width = pSize.width * dpr;\n      canvas.height = pSize.height * dpr;\n      ctx = canvas.getContext('2d');\n    }\n    brushDecal();\n    if (isValidKey) {\n      decalCache.put(cacheKey, canvas || svgRoot);\n    }\n    pattern.image = canvas;\n    pattern.svgElement = svgRoot;\n    pattern.svgWidth = pSize.width;\n    pattern.svgHeight = pSize.height;\n    /**\r\n     * Get minimum length that can make a repeatable pattern.\r\n     *\r\n     * @return {Object} pattern width and height\r\n     */\n    function getPatternSize() {\n      /**\r\n       * For example, if dash is [[3, 2], [2, 1]] for X, it looks like\r\n       * |---  ---  ---  ---  --- ...\r\n       * |-- -- -- -- -- -- -- -- ...\r\n       * |---  ---  ---  ---  --- ...\r\n       * |-- -- -- -- -- -- -- -- ...\r\n       * So the minimum length of X is 15,\r\n       * which is the least common multiple of `3 + 2` and `2 + 1`\r\n       * |---  ---  ---  |---  --- ...\r\n       * |-- -- -- -- -- |-- -- -- ...\r\n       */\n      var width = 1;\n      for (var i = 0, xlen = lineBlockLengthsX.length; i < xlen; ++i) {\n        width = getLeastCommonMultiple(width, lineBlockLengthsX[i]);\n      }\n      var symbolRepeats = 1;\n      for (var i = 0, xlen = symbolArray.length; i < xlen; ++i) {\n        symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i].length);\n      }\n      width *= symbolRepeats;\n      var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;\n      if (process.env.NODE_ENV !== 'production') {\n        var warn = function (attrName) {\n          /* eslint-disable-next-line */\n          console.warn(\"Calculated decal size is greater than \" + attrName + \" due to decal option settings so \" + attrName + \" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \" + attrName + \" to be larger to avoid incontinuity.\");\n        };\n        if (width > decalOpt.maxTileWidth) {\n          warn('maxTileWidth');\n        }\n        if (height > decalOpt.maxTileHeight) {\n          warn('maxTileHeight');\n        }\n      }\n      return {\n        width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),\n        height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))\n      };\n    }\n    function brushDecal() {\n      if (ctx) {\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        if (decalOpt.backgroundColor) {\n          ctx.fillStyle = decalOpt.backgroundColor;\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\n        }\n      }\n      var ySum = 0;\n      for (var i = 0; i < dashArrayY.length; ++i) {\n        ySum += dashArrayY[i];\n      }\n      if (ySum <= 0) {\n        // dashArrayY is 0, draw nothing\n        return;\n      }\n      var y = -lineBlockLengthY;\n      var yId = 0;\n      var yIdTotal = 0;\n      var xId0 = 0;\n      while (y < pSize.height) {\n        if (yId % 2 === 0) {\n          var symbolYId = yIdTotal / 2 % symbolArray.length;\n          var x = 0;\n          var xId1 = 0;\n          var xId1Total = 0;\n          while (x < pSize.width * 2) {\n            var xSum = 0;\n            for (var i = 0; i < dashArrayX[xId0].length; ++i) {\n              xSum += dashArrayX[xId0][i];\n            }\n            if (xSum <= 0) {\n              // Skip empty line\n              break;\n            }\n            // E.g., [15, 5, 20, 5] draws only for 15 and 20\n            if (xId1 % 2 === 0) {\n              var size = (1 - decalOpt.symbolSize) * 0.5;\n              var left = x + dashArrayX[xId0][xId1] * size;\n              var top_1 = y + dashArrayY[yId] * size;\n              var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;\n              var height = dashArrayY[yId] * decalOpt.symbolSize;\n              var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;\n              brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);\n            }\n            x += dashArrayX[xId0][xId1];\n            ++xId1Total;\n            ++xId1;\n            if (xId1 === dashArrayX[xId0].length) {\n              xId1 = 0;\n            }\n          }\n          ++xId0;\n          if (xId0 === dashArrayX.length) {\n            xId0 = 0;\n          }\n        }\n        y += dashArrayY[yId];\n        ++yIdTotal;\n        ++yId;\n        if (yId === dashArrayY.length) {\n          yId = 0;\n        }\n      }\n      function brushSymbol(x, y, width, height, symbolType) {\n        var scale = isSVG ? 1 : dpr;\n        var symbol = createSymbol(symbolType, x * scale, y * scale, width * scale, height * scale, decalOpt.color, decalOpt.symbolKeepAspect);\n        if (isSVG) {\n          var symbolVNode = zr.painter.renderOneToVNode(symbol);\n          if (symbolVNode) {\n            svgRoot.children.push(symbolVNode);\n          }\n        } else {\n          // Paint to canvas for all other renderers.\n          brushSingle(ctx, symbol);\n        }\n      }\n    }\n  }\n}\n/**\r\n * Convert symbol array into normalized array\r\n *\r\n * @param {string | (string | string[])[]} symbol symbol input\r\n * @return {string[][]} normolized symbol array\r\n */\nfunction normalizeSymbolArray(symbol) {\n  if (!symbol || symbol.length === 0) {\n    return [['rect']];\n  }\n  if (isString(symbol)) {\n    return [[symbol]];\n  }\n  var isAllString = true;\n  for (var i = 0; i < symbol.length; ++i) {\n    if (!isString(symbol[i])) {\n      isAllString = false;\n      break;\n    }\n  }\n  if (isAllString) {\n    return normalizeSymbolArray([symbol]);\n  }\n  var result = [];\n  for (var i = 0; i < symbol.length; ++i) {\n    if (isString(symbol[i])) {\n      result.push([symbol[i]]);\n    } else {\n      result.push(symbol[i]);\n    }\n  }\n  return result;\n}\n/**\r\n * Convert dash input into dashArray\r\n *\r\n * @param {DecalDashArrayX} dash dash input\r\n * @return {number[][]} normolized dash array\r\n */\nfunction normalizeDashArrayX(dash) {\n  if (!dash || dash.length === 0) {\n    return [[0, 0]];\n  }\n  if (isNumber(dash)) {\n    var dashValue = Math.ceil(dash);\n    return [[dashValue, dashValue]];\n  }\n  /**\r\n   * [20, 5] should be normalized into [[20, 5]],\r\n   * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]\r\n   */\n  var isAllNumber = true;\n  for (var i = 0; i < dash.length; ++i) {\n    if (!isNumber(dash[i])) {\n      isAllNumber = false;\n      break;\n    }\n  }\n  if (isAllNumber) {\n    return normalizeDashArrayX([dash]);\n  }\n  var result = [];\n  for (var i = 0; i < dash.length; ++i) {\n    if (isNumber(dash[i])) {\n      var dashValue = Math.ceil(dash[i]);\n      result.push([dashValue, dashValue]);\n    } else {\n      var dashValue = map(dash[i], function (n) {\n        return Math.ceil(n);\n      });\n      if (dashValue.length % 2 === 1) {\n        // [4, 2, 1] means |----  -    -- |----  -    -- |\n        // so normalize it to be [4, 2, 1, 4, 2, 1]\n        result.push(dashValue.concat(dashValue));\n      } else {\n        result.push(dashValue);\n      }\n    }\n  }\n  return result;\n}\n/**\r\n * Convert dash input into dashArray\r\n *\r\n * @param {DecalDashArrayY} dash dash input\r\n * @return {number[]} normolized dash array\r\n */\nfunction normalizeDashArrayY(dash) {\n  if (!dash || typeof dash === 'object' && dash.length === 0) {\n    return [0, 0];\n  }\n  if (isNumber(dash)) {\n    var dashValue_1 = Math.ceil(dash);\n    return [dashValue_1, dashValue_1];\n  }\n  var dashValue = map(dash, function (n) {\n    return Math.ceil(n);\n  });\n  return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;\n}\n/**\r\n * Get block length of each line. A block is the length of dash line and space.\r\n * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after\r\n * that, so the block length of this line is 5.\r\n *\r\n * @param {number[][]} dash dash array of X or Y\r\n * @return {number[]} block length of each line\r\n */\nfunction getLineBlockLengthX(dash) {\n  return map(dash, function (line) {\n    return getLineBlockLengthY(line);\n  });\n}\nfunction getLineBlockLengthY(dash) {\n  var blockLength = 0;\n  for (var i = 0; i < dash.length; ++i) {\n    blockLength += dash[i];\n  }\n  if (dash.length % 2 === 1) {\n    // [4, 2, 1] means |----  -    -- |----  -    -- |\n    // So total length is (4 + 2 + 1) * 2\n    return blockLength * 2;\n  }\n  return blockLength;\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { createOrUpdatePatternFromDecal } from '../util/decal.js';\nexport default function decalVisual(ecModel, api) {\n  ecModel.eachRawSeries(function (seriesModel) {\n    if (ecModel.isSeriesFiltered(seriesModel)) {\n      return;\n    }\n    var data = seriesModel.getData();\n    if (data.hasItemVisual()) {\n      data.each(function (idx) {\n        var decal = data.getItemVisual(idx, 'decal');\n        if (decal) {\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\n          itemStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n        }\n      });\n    }\n    var decal = data.getVisual('decal');\n    if (decal) {\n      var style = data.getVisual('style');\n      style.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n  });\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport Eventful from 'zrender/lib/core/Eventful.js';\n;\nvar lifecycle = new Eventful();\nexport default lifecycle;", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { error } from '../util/log.js';\n// Implementation of exported APIs. For example registerMap, getMap.\n// The implementations will be registered when installing the component.\n// Avoid these code being bundled to the core module.\nvar implsStore = {};\n// TODO Type\nexport function registerImpl(name, impl) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (implsStore[name]) {\n      error(\"Already has an implementation of \" + name + \".\");\n    }\n  }\n  implsStore[name] = impl;\n}\nexport function getImpl(name) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!implsStore[name]) {\n      error(\"Implementation of \" + name + \" doesn't exists.\");\n    }\n  }\n  return implsStore[name];\n}", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\nimport { __extends } from \"tslib\";\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport * as zrender from 'zrender/lib/zrender.js';\nimport { assert, each, isFunction, isObject, indexOf, bind, clone, setAsPrimitive, extend, createHashMap, map, defaults, isDom, isArray, noop, isString, retrieve2 } from 'zrender/lib/core/util.js';\nimport env from 'zrender/lib/core/env.js';\nimport timsort from 'zrender/lib/core/timsort.js';\nimport Eventful from 'zrender/lib/core/Eventful.js';\nimport GlobalModel from '../model/Global.js';\nimport ExtensionAPI from './ExtensionAPI.js';\nimport CoordinateSystemManager from './CoordinateSystem.js';\nimport OptionManager from '../model/OptionManager.js';\nimport backwardCompat from '../preprocessor/backwardCompat.js';\nimport dataStack from '../processor/dataStack.js';\nimport SeriesModel from '../model/Series.js';\nimport ComponentView from '../view/Component.js';\nimport ChartView from '../view/Chart.js';\nimport * as graphic from '../util/graphic.js';\nimport { getECData } from '../util/innerStore.js';\nimport { isHighDownDispatcher, HOVER_STATE_EMPHASIS, HOVER_STATE_BLUR, blurSeriesFromHighlightPayload, toggleSelectionFromPayload, updateSeriesElementSelection, getAllSelectedIndices, isSelectChangePayload, isHighDownPayload, HIGHLIGHT_ACTION_TYPE, DOWNPLAY_ACTION_TYPE, SELECT_ACTION_TYPE, UNSELECT_ACTION_TYPE, TOGGLE_SELECT_ACTION_TYPE, savePathStates, enterEmphasis, leaveEmphasis, leaveBlur, enterSelect, leaveSelect, enterBlur, allLeaveBlur, findComponentHighDownDispatchers, blurComponent, handleGlobalMouseOverForHighDown, handleGlobalMouseOutForHighDown } from '../util/states.js';\nimport * as modelUtil from '../util/model.js';\nimport { throttle } from '../util/throttle.js';\nimport { seriesStyleTask, dataStyleTask, dataColorPaletteTask } from '../visual/style.js';\nimport loadingDefault from '../loading/default.js';\nimport Scheduler from './Scheduler.js';\nimport lightTheme from '../theme/light.js';\nimport darkTheme from '../theme/dark.js';\nimport { parseClassType } from '../util/clazz.js';\nimport { ECEventProcessor } from '../util/ECEventProcessor.js';\nimport { seriesSymbolTask, dataSymbolTask } from '../visual/symbol.js';\nimport { getVisualFromData, getItemVisualFromData } from '../visual/helper.js';\nimport { deprecateLog, deprecateReplaceLog, error, warn } from '../util/log.js';\nimport { handleLegacySelectEvents } from '../legacy/dataSelectAction.js';\nimport { registerExternalTransform } from '../data/helper/transform.js';\nimport { createLocaleObject, SYSTEM_LANG } from './locale.js';\nimport { findEventDispatcher } from '../util/event.js';\nimport decal from '../visual/decal.js';\nimport lifecycle from './lifecycle.js';\nimport { platformApi, setPlatformAPI } from 'zrender/lib/core/platform.js';\nimport { getImpl } from './impl.js';\nexport var version = '5.6.0';\nexport var dependencies = {\n  zrender: '5.6.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\n// Some data processors depends on the stack result dimension (to calculate data extent).\n// So data stack stage should be in front of data processing stage.\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\n// \"Data filter\" will block the stream, so it should be\n// put at the beginning of data processing.\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_COMPONENT = 4000;\n// Visual property in data. Greater than `PRIORITY_VISUAL_COMPONENT` to enable to\n// overwrite the viusal result of component (like `visualMap`)\n// using data item specific setting (like itemStyle.xxx on data item)\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500;\n// Greater than `PRIORITY_VISUAL_CHART_DATA_CUSTOM` to enable to layout based on\n// visual result like `symbolSize`.\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY_VISUAL_ARIA = 6000;\nvar PRIORITY_VISUAL_DECAL = 7000;\nexport var PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH,\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\n    ARIA: PRIORITY_VISUAL_ARIA,\n    DECAL: PRIORITY_VISUAL_DECAL\n  }\n};\n// Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\nvar PENDING_UPDATE = '__pendingUpdate';\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\nvar CONNECT_STATUS_PENDING = 0;\nvar CONNECT_STATUS_UPDATING = 1;\nvar CONNECT_STATUS_UPDATED = 2;\n;\n;\nfunction createRegisterEventWithLowercaseECharts(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    if (this.isDisposed()) {\n      disposedWarning(this.id);\n      return;\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\n  return function () {\n    var args = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args[_i] = arguments[_i];\n    }\n    return toLowercaseNameAndCallEventful(this, method, args);\n  };\n}\nfunction toLowercaseNameAndCallEventful(host, method, args) {\n  // `args[0]` is event name. Event name is all lowercase.\n  args[0] = args[0] && args[0].toLowerCase();\n  return Eventful.prototype[method].apply(host, args);\n}\nvar MessageCenter = /** @class */function (_super) {\n  __extends(MessageCenter, _super);\n  function MessageCenter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  return MessageCenter;\n}(Eventful);\nvar messageCenterProto = MessageCenter.prototype;\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off');\n// ---------------------------------------\n// Internal method names for class ECharts\n// ---------------------------------------\nvar prepare;\nvar prepareView;\nvar updateDirectly;\nvar updateMethods;\nvar doConvertPixel;\nvar updateStreamModes;\nvar doDispatchAction;\nvar flushPendingActions;\nvar triggerUpdatedEvent;\nvar bindRenderedEvent;\nvar bindMouseEvent;\nvar render;\nvar renderComponents;\nvar renderSeries;\nvar createExtensionAPI;\nvar enableConnect;\nvar markStatusToUpdate;\nvar applyChangedStates;\nvar ECharts = /** @class */function (_super) {\n  __extends(ECharts, _super);\n  function ECharts(dom,\n  // Theme name or themeOption.\n  theme, opts) {\n    var _this = _super.call(this, new ECEventProcessor()) || this;\n    _this._chartsViews = [];\n    _this._chartsMap = {};\n    _this._componentsViews = [];\n    _this._componentsMap = {};\n    // Can't dispatch action during rendering procedure\n    _this._pendingActions = [];\n    opts = opts || {};\n    // Get theme by name\n    if (isString(theme)) {\n      theme = themeStorage[theme];\n    }\n    _this._dom = dom;\n    var defaultRenderer = 'canvas';\n    var defaultCoarsePointer = 'auto';\n    var defaultUseDirtyRect = false;\n    if (process.env.NODE_ENV !== 'production') {\n      var root = /* eslint-disable-next-line */\n      env.hasGlobalWindow ? window : global;\n      if (root) {\n        defaultRenderer = retrieve2(root.__ECHARTS__DEFAULT__RENDERER__, defaultRenderer);\n        defaultCoarsePointer = retrieve2(root.__ECHARTS__DEFAULT__COARSE_POINTER, defaultCoarsePointer);\n        defaultUseDirtyRect = retrieve2(root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__, defaultUseDirtyRect);\n      }\n    }\n    if (opts.ssr) {\n      zrender.registerSSRDataGetter(function (el) {\n        var ecData = getECData(el);\n        var dataIndex = ecData.dataIndex;\n        if (dataIndex == null) {\n          return;\n        }\n        var hashMap = createHashMap();\n        hashMap.set('series_index', ecData.seriesIndex);\n        hashMap.set('data_index', dataIndex);\n        ecData.ssrType && hashMap.set('ssr_type', ecData.ssrType);\n        return hashMap;\n      });\n    }\n    var zr = _this._zr = zrender.init(dom, {\n      renderer: opts.renderer || defaultRenderer,\n      devicePixelRatio: opts.devicePixelRatio,\n      width: opts.width,\n      height: opts.height,\n      ssr: opts.ssr,\n      useDirtyRect: retrieve2(opts.useDirtyRect, defaultUseDirtyRect),\n      useCoarsePointer: retrieve2(opts.useCoarsePointer, defaultCoarsePointer),\n      pointerSize: opts.pointerSize\n    });\n    _this._ssr = opts.ssr;\n    // Expect 60 fps.\n    _this._throttledZrFlush = throttle(bind(zr.flush, zr), 17);\n    theme = clone(theme);\n    theme && backwardCompat(theme, true);\n    _this._theme = theme;\n    _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);\n    _this._coordSysMgr = new CoordinateSystemManager();\n    var api = _this._api = createExtensionAPI(_this);\n    // Sort on demand\n    function prioritySortFunc(a, b) {\n      return a.__prio - b.__prio;\n    }\n    timsort(visualFuncs, prioritySortFunc);\n    timsort(dataProcessorFuncs, prioritySortFunc);\n    _this._scheduler = new Scheduler(_this, api, dataProcessorFuncs, visualFuncs);\n    _this._messageCenter = new MessageCenter();\n    // Init mouse events\n    _this._initEvents();\n    // In case some people write `window.onresize = chart.resize`\n    _this.resize = bind(_this.resize, _this);\n    zr.animation.on('frame', _this._onframe, _this);\n    bindRenderedEvent(zr, _this);\n    bindMouseEvent(zr, _this);\n    // ECharts instance can be used as value.\n    setAsPrimitive(_this);\n    return _this;\n  }\n  ECharts.prototype._onframe = function () {\n    if (this._disposed) {\n      return;\n    }\n    applyChangedStates(this);\n    var scheduler = this._scheduler;\n    // Lazy update\n    if (this[PENDING_UPDATE]) {\n      var silent = this[PENDING_UPDATE].silent;\n      this[IN_MAIN_PROCESS_KEY] = true;\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);\n      } catch (e) {\n        this[IN_MAIN_PROCESS_KEY] = false;\n        this[PENDING_UPDATE] = null;\n        throw e;\n      }\n      // At present, in each frame, zrender performs:\n      //   (1) animation step forward.\n      //   (2) trigger('frame') (where this `_onframe` is called)\n      //   (3) zrender flush (render).\n      // If we do nothing here, since we use `setToFinal: true`, the step (3) above\n      // will render the final state of the elements before the real animation started.\n      this._zr.flush();\n      this[IN_MAIN_PROCESS_KEY] = false;\n      this[PENDING_UPDATE] = null;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n    // Avoid do both lazy update and progress in one frame.\n    else if (scheduler.unfinished) {\n      // Stream progress.\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel);\n        // Currently dataProcessorFuncs do not check threshold.\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel);\n        // Do not update coordinate system here. Because that coord system update in\n        // each frame is not a good user experience. So we follow the rule that\n        // the extent of the coordinate system is determined in the first frame (the\n        // frame is executed immediately after task reset.\n        // this._coordSysMgr.update(ecModel, api);\n        // console.log('--- ec frame visual ---', remainTime);\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain', {});\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished);\n      // Call flush explicitly for trigger finished event.\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      }\n      // Else, zr flushing be ensue within the same frame,\n      // because zr flushing is after onframe event.\n    }\n  };\n  ECharts.prototype.getDom = function () {\n    return this._dom;\n  };\n  ECharts.prototype.getId = function () {\n    return this.id;\n  };\n  ECharts.prototype.getZr = function () {\n    return this._zr;\n  };\n  ECharts.prototype.isSSR = function () {\n    return this._ssr;\n  };\n  /* eslint-disable-next-line */\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`setOption` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var silent;\n    var replaceMerge;\n    var transitionOpt;\n    if (isObject(notMerge)) {\n      lazyUpdate = notMerge.lazyUpdate;\n      silent = notMerge.silent;\n      replaceMerge = notMerge.replaceMerge;\n      transitionOpt = notMerge.transition;\n      notMerge = notMerge.notMerge;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    if (!this._model || notMerge) {\n      var optionManager = new OptionManager(this._api);\n      var theme = this._theme;\n      var ecModel = this._model = new GlobalModel();\n      ecModel.scheduler = this._scheduler;\n      ecModel.ssr = this._ssr;\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\n    }\n    this._model.setOption(option, {\n      replaceMerge: replaceMerge\n    }, optionPreprocessorFuncs);\n    var updateParams = {\n      seriesTransition: transitionOpt,\n      optionChanged: true\n    };\n    if (lazyUpdate) {\n      this[PENDING_UPDATE] = {\n        silent: silent,\n        updateParams: updateParams\n      };\n      this[IN_MAIN_PROCESS_KEY] = false;\n      // `setOption(option, {lazyMode: true})` may be called when zrender has been slept.\n      // It should wake it up to make sure zrender start to render at the next frame.\n      this.getZr().wakeUp();\n    } else {\n      try {\n        prepare(this);\n        updateMethods.update.call(this, null, updateParams);\n      } catch (e) {\n        this[PENDING_UPDATE] = null;\n        this[IN_MAIN_PROCESS_KEY] = false;\n        throw e;\n      }\n      // Ensure zr refresh sychronously, and then pixel in canvas can be\n      // fetched after `setOption`.\n      if (!this._ssr) {\n        // not use flush when using ssr mode.\n        this._zr.flush();\n      }\n      this[PENDING_UPDATE] = null;\n      this[IN_MAIN_PROCESS_KEY] = false;\n      flushPendingActions.call(this, silent);\n      triggerUpdatedEvent.call(this, silent);\n    }\n  };\n  /**\r\n   * @deprecated\r\n   */\n  ECharts.prototype.setTheme = function () {\n    deprecateLog('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n  };\n  // We don't want developers to use getModel directly.\n  ECharts.prototype.getModel = function () {\n    return this._model;\n  };\n  ECharts.prototype.getOption = function () {\n    return this._model && this._model.getOption();\n  };\n  ECharts.prototype.getWidth = function () {\n    return this._zr.getWidth();\n  };\n  ECharts.prototype.getHeight = function () {\n    return this._zr.getHeight();\n  };\n  ECharts.prototype.getDevicePixelRatio = function () {\n    return this._zr.painter.dpr\n    /* eslint-disable-next-line */ || env.hasGlobalWindow && window.devicePixelRatio || 1;\n  };\n  /**\r\n   * Get canvas which has all thing rendered\r\n   * @deprecated Use renderToCanvas instead.\r\n   */\n  ECharts.prototype.getRenderedCanvas = function (opts) {\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('getRenderedCanvas', 'renderToCanvas');\n    }\n    return this.renderToCanvas(opts);\n  };\n  ECharts.prototype.renderToCanvas = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'canvas') {\n        throw new Error('renderToCanvas can only be used in the canvas renderer.');\n      }\n    }\n    return painter.getRenderedCanvas({\n      backgroundColor: opts.backgroundColor || this._model.get('backgroundColor'),\n      pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()\n    });\n  };\n  ECharts.prototype.renderToSVGString = function (opts) {\n    opts = opts || {};\n    var painter = this._zr.painter;\n    if (process.env.NODE_ENV !== 'production') {\n      if (painter.type !== 'svg') {\n        throw new Error('renderToSVGString can only be used in the svg renderer.');\n      }\n    }\n    return painter.renderToString({\n      useViewBox: opts.useViewBox\n    });\n  };\n  /**\r\n   * Get svg data url\r\n   */\n  ECharts.prototype.getSvgDataURL = function () {\n    if (!env.svgSupported) {\n      return;\n    }\n    var zr = this._zr;\n    var list = zr.storage.getDisplayList();\n    // Stop animations\n    each(list, function (el) {\n      el.stopAnimation(null, true);\n    });\n    return zr.painter.toDataURL();\n  };\n  ECharts.prototype.getDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    opts = opts || {};\n    var excludeComponents = opts.excludeComponents;\n    var ecModel = this._model;\n    var excludesComponentViews = [];\n    var self = this;\n    each(excludeComponents, function (componentType) {\n      ecModel.eachComponent({\n        mainType: componentType\n      }, function (component) {\n        var view = self._componentsMap[component.__viewId];\n        if (!view.group.ignore) {\n          excludesComponentViews.push(view);\n          view.group.ignore = true;\n        }\n      });\n    });\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.renderToCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n    each(excludesComponentViews, function (view) {\n      view.group.ignore = false;\n    });\n    return url;\n  };\n  ECharts.prototype.getConnectedDataURL = function (opts) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var isSvg = opts.type === 'svg';\n    var groupId = this.group;\n    var mathMin = Math.min;\n    var mathMax = Math.max;\n    var MAX_NUMBER = Infinity;\n    if (connectedGroups[groupId]) {\n      var left_1 = MAX_NUMBER;\n      var top_1 = MAX_NUMBER;\n      var right_1 = -MAX_NUMBER;\n      var bottom_1 = -MAX_NUMBER;\n      var canvasList_1 = [];\n      var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();\n      each(instances, function (chart, id) {\n        if (chart.group === groupId) {\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.renderToCanvas(clone(opts));\n          var boundingRect = chart.getDom().getBoundingClientRect();\n          left_1 = mathMin(boundingRect.left, left_1);\n          top_1 = mathMin(boundingRect.top, top_1);\n          right_1 = mathMax(boundingRect.right, right_1);\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\n          canvasList_1.push({\n            dom: canvas,\n            left: boundingRect.left,\n            top: boundingRect.top\n          });\n        }\n      });\n      left_1 *= dpr_1;\n      top_1 *= dpr_1;\n      right_1 *= dpr_1;\n      bottom_1 *= dpr_1;\n      var width = right_1 - left_1;\n      var height = bottom_1 - top_1;\n      var targetCanvas = platformApi.createCanvas();\n      var zr_1 = zrender.init(targetCanvas, {\n        renderer: isSvg ? 'svg' : 'canvas'\n      });\n      zr_1.resize({\n        width: width,\n        height: height\n      });\n      if (isSvg) {\n        var content_1 = '';\n        each(canvasList_1, function (item) {\n          var x = item.left - left_1;\n          var y = item.top - top_1;\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\n        });\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\n        if (opts.connectedBackgroundColor) {\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\n        }\n        zr_1.refreshImmediately();\n        return zr_1.painter.toDataURL();\n      } else {\n        // Background between the charts\n        if (opts.connectedBackgroundColor) {\n          zr_1.add(new graphic.Rect({\n            shape: {\n              x: 0,\n              y: 0,\n              width: width,\n              height: height\n            },\n            style: {\n              fill: opts.connectedBackgroundColor\n            }\n          }));\n        }\n        each(canvasList_1, function (item) {\n          var img = new graphic.Image({\n            style: {\n              x: item.left * dpr_1 - left_1,\n              y: item.top * dpr_1 - top_1,\n              image: item.dom\n            }\n          });\n          zr_1.add(img);\n        });\n        zr_1.refreshImmediately();\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n      }\n    } else {\n      return this.getDataURL(opts);\n    }\n  };\n  ECharts.prototype.convertToPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertToPixel', finder, value);\n  };\n  ECharts.prototype.convertFromPixel = function (finder, value) {\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\n  };\n  /**\r\n   * Is the specified coordinate systems or components contain the given pixel point.\r\n   * @param {Array|number} value\r\n   * @return {boolean} result\r\n   */\n  ECharts.prototype.containPixel = function (finder, value) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var ecModel = this._model;\n    var result;\n    var findResult = modelUtil.parseFinder(ecModel, finder);\n    each(findResult, function (models, key) {\n      key.indexOf('Models') >= 0 && each(models, function (model) {\n        var coordSys = model.coordinateSystem;\n        if (coordSys && coordSys.containPoint) {\n          result = result || !!coordSys.containPoint(value);\n        } else if (key === 'seriesModels') {\n          var view = this._chartsMap[model.__viewId];\n          if (view && view.containPoint) {\n            result = result || view.containPoint(value, model);\n          } else {\n            if (process.env.NODE_ENV !== 'production') {\n              warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\n            }\n          }\n        } else {\n          if (process.env.NODE_ENV !== 'production') {\n            warn(key + ': containPoint is not supported');\n          }\n        }\n      }, this);\n    }, this);\n    return !!result;\n  };\n  /**\r\n   * Get visual from series or data.\r\n   * @param finder\r\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\r\n   *        If Object, could contain some of these properties below:\r\n   *        {\r\n   *            seriesIndex / seriesId / seriesName,\r\n   *            dataIndex / dataIndexInside\r\n   *        }\r\n   *        If dataIndex is not specified, series visual will be fetched,\r\n   *        but not data item visual.\r\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\r\n   *        visual will be fetched from first series.\r\n   * @param visualType 'color', 'symbol', 'symbolSize'\r\n   */\n  ECharts.prototype.getVisual = function (finder, visualType) {\n    var ecModel = this._model;\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\n      defaultMainType: 'series'\n    });\n    var seriesModel = parsedFinder.seriesModel;\n    if (process.env.NODE_ENV !== 'production') {\n      if (!seriesModel) {\n        warn('There is no specified series model');\n      }\n    }\n    var data = seriesModel.getData();\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\n    return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);\n  };\n  /**\r\n   * Get view of corresponding component model\r\n   */\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\n    return this._componentsMap[componentModel.__viewId];\n  };\n  /**\r\n   * Get view of corresponding series model\r\n   */\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\n    return this._chartsMap[seriesModel.__viewId];\n  };\n  ECharts.prototype._initEvents = function () {\n    var _this = this;\n    each(MOUSE_EVENT_NAMES, function (eveName) {\n      var handler = function (e) {\n        var ecModel = _this.getModel();\n        var el = e.target;\n        var params;\n        var isGlobalOut = eveName === 'globalout';\n        // no e.target when 'globalout'.\n        if (isGlobalOut) {\n          params = {};\n        } else {\n          el && findEventDispatcher(el, function (parent) {\n            var ecData = getECData(parent);\n            if (ecData && ecData.dataIndex != null) {\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType, el) || {};\n              return true;\n            }\n            // If element has custom eventData of components\n            else if (ecData.eventData) {\n              params = extend({}, ecData.eventData);\n              return true;\n            }\n          }, true);\n        }\n        // Contract: if params prepared in mouse event,\n        // these properties must be specified:\n        // {\n        //    componentType: string (component main type)\n        //    componentIndex: number\n        // }\n        // Otherwise event query can not work.\n        if (params) {\n          var componentType = params.componentType;\n          var componentIndex = params.componentIndex;\n          // Special handling for historic reason: when trigger by\n          // markLine/markPoint/markArea, the componentType is\n          // 'markLine'/'markPoint'/'markArea', but we should better\n          // enable them to be queried by seriesIndex, since their\n          // option is set in each series.\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n            componentType = 'series';\n            componentIndex = params.seriesIndex;\n          }\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n          if (process.env.NODE_ENV !== 'production') {\n            // `event.componentType` and `event[componentTpype + 'Index']` must not\n            // be missed, otherwise there is no way to distinguish source component.\n            // See `dataFormat.getDataParams`.\n            if (!isGlobalOut && !(model && view)) {\n              warn('model or view can not be found by params');\n            }\n          }\n          params.event = e;\n          params.type = eveName;\n          _this._$eventProcessor.eventInfo = {\n            targetEl: el,\n            packedEvent: params,\n            model: model,\n            view: view\n          };\n          _this.trigger(eveName, params);\n        }\n      };\n      // Consider that some component (like tooltip, brush, ...)\n      // register zr event handler, but user event handler might\n      // do anything, such as call `setOption` or `dispatchAction`,\n      // which probably update any of the content and probably\n      // cause problem if it is called previous other inner handlers.\n      handler.zrEventfulCallAtLast = true;\n      _this._zr.on(eveName, handler, _this);\n    });\n    each(eventActionMap, function (actionType, eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    // Extra events\n    // TODO register?\n    each(['selectchanged'], function (eventType) {\n      _this._messageCenter.on(eventType, function (event) {\n        this.trigger(eventType, event);\n      }, _this);\n    });\n    handleLegacySelectEvents(this._messageCenter, this, this._api);\n  };\n  ECharts.prototype.isDisposed = function () {\n    return this._disposed;\n  };\n  ECharts.prototype.clear = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this.setOption({\n      series: []\n    }, true);\n  };\n  ECharts.prototype.dispose = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._disposed = true;\n    var dom = this.getDom();\n    if (dom) {\n      modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n    }\n    var chart = this;\n    var api = chart._api;\n    var ecModel = chart._model;\n    each(chart._componentsViews, function (component) {\n      component.dispose(ecModel, api);\n    });\n    each(chart._chartsViews, function (chart) {\n      chart.dispose(ecModel, api);\n    });\n    // Dispose after all views disposed\n    chart._zr.dispose();\n    // Set properties to null.\n    // To reduce the memory cost in case the top code still holds this instance unexpectedly.\n    chart._dom = chart._model = chart._chartsMap = chart._componentsMap = chart._chartsViews = chart._componentsViews = chart._scheduler = chart._api = chart._zr = chart._throttledZrFlush = chart._theme = chart._coordSysMgr = chart._messageCenter = null;\n    delete instances[chart.id];\n  };\n  /**\r\n   * Resize the chart\r\n   */\n  ECharts.prototype.resize = function (opts) {\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      if (process.env.NODE_ENV !== 'production') {\n        error('`resize` should not be called during main process.');\n      }\n      return;\n    }\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._zr.resize(opts);\n    var ecModel = this._model;\n    // Resize loading effect\n    this._loadingFX && this._loadingFX.resize();\n    if (!ecModel) {\n      return;\n    }\n    var needPrepare = ecModel.resetOption('media');\n    var silent = opts && opts.silent;\n    // There is some real cases that:\n    // chart.setOption(option, { lazyUpdate: true });\n    // chart.resize();\n    if (this[PENDING_UPDATE]) {\n      if (silent == null) {\n        silent = this[PENDING_UPDATE].silent;\n      }\n      needPrepare = true;\n      this[PENDING_UPDATE] = null;\n    }\n    this[IN_MAIN_PROCESS_KEY] = true;\n    try {\n      needPrepare && prepare(this);\n      updateMethods.update.call(this, {\n        type: 'resize',\n        animation: extend({\n          // Disable animation\n          duration: 0\n        }, opts && opts.animation)\n      });\n    } catch (e) {\n      this[IN_MAIN_PROCESS_KEY] = false;\n      throw e;\n    }\n    this[IN_MAIN_PROCESS_KEY] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.showLoading = function (name, cfg) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (isObject(name)) {\n      cfg = name;\n      name = '';\n    }\n    name = name || 'default';\n    this.hideLoading();\n    if (!loadingEffects[name]) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('Loading effects ' + name + ' not exists.');\n      }\n      return;\n    }\n    var el = loadingEffects[name](this._api, cfg);\n    var zr = this._zr;\n    this._loadingFX = el;\n    zr.add(el);\n  };\n  /**\r\n   * Hide loading effect\r\n   */\n  ECharts.prototype.hideLoading = function () {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    this._loadingFX && this._zr.remove(this._loadingFX);\n    this._loadingFX = null;\n  };\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\n    var payload = extend({}, eventObj);\n    payload.type = eventActionMap[eventObj.type];\n    return payload;\n  };\n  /**\r\n   * @param opt If pass boolean, means opt.silent\r\n   * @param opt.silent Default `false`. Whether trigger events.\r\n   * @param opt.flush Default `undefined`.\r\n   *        true: Flush immediately, and then pixel in canvas can be fetched\r\n   *            immediately. Caution: it might affect performance.\r\n   *        false: Not flush.\r\n   *        undefined: Auto decide whether perform flush.\r\n   */\n  ECharts.prototype.dispatchAction = function (payload, opt) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    if (!isObject(opt)) {\n      opt = {\n        silent: !!opt\n      };\n    }\n    if (!actions[payload.type]) {\n      return;\n    }\n    // Avoid dispatch action before setOption. Especially in `connect`.\n    if (!this._model) {\n      return;\n    }\n    // May dispatchAction in rendering procedure\n    if (this[IN_MAIN_PROCESS_KEY]) {\n      this._pendingActions.push(payload);\n      return;\n    }\n    var silent = opt.silent;\n    doDispatchAction.call(this, payload, silent);\n    var flush = opt.flush;\n    if (flush) {\n      this._zr.flush();\n    } else if (flush !== false && env.browser.weChat) {\n      // In WeChat embedded browser, `requestAnimationFrame` and `setInterval`\n      // hang when sliding page (on touch event), which cause that zr does not\n      // refresh until user interaction finished, which is not expected.\n      // But `dispatchAction` may be called too frequently when pan on touch\n      // screen, which impacts performance if do not throttle them.\n      this._throttledZrFlush();\n    }\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  };\n  ECharts.prototype.updateLabelLayout = function () {\n    lifecycle.trigger('series:layoutlabels', this._model, this._api, {\n      // Not adding series labels.\n      // TODO\n      updatedSeries: []\n    });\n  };\n  ECharts.prototype.appendData = function (params) {\n    if (this._disposed) {\n      disposedWarning(this.id);\n      return;\n    }\n    var seriesIndex = params.seriesIndex;\n    var ecModel = this.getModel();\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n    if (process.env.NODE_ENV !== 'production') {\n      assert(params.data && seriesModel);\n    }\n    seriesModel.appendData(params);\n    // Note: `appendData` does not support that update extent of coordinate\n    // system, util some scenario require that. In the expected usage of\n    // `appendData`, the initial extent of coordinate system should better\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\n    // the extent changed while `appendData`, the location of the painted\n    // graphic elements have to be changed, which make the usage of\n    // `appendData` meaningless.\n    this._scheduler.unfinished = true;\n    this.getZr().wakeUp();\n  };\n  // A work around for no `internal` modifier in ts yet but\n  // need to strictly hide private methods to JS users.\n  ECharts.internalField = function () {\n    prepare = function (ecIns) {\n      var scheduler = ecIns._scheduler;\n      scheduler.restorePipelines(ecIns._model);\n      scheduler.prepareStageTasks();\n      prepareView(ecIns, true);\n      prepareView(ecIns, false);\n      scheduler.plan();\n    };\n    /**\r\n     * Prepare view instances of charts and components\r\n     */\n    prepareView = function (ecIns, isComponent) {\n      var ecModel = ecIns._model;\n      var scheduler = ecIns._scheduler;\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n      var zr = ecIns._zr;\n      var api = ecIns._api;\n      for (var i = 0; i < viewList.length; i++) {\n        viewList[i].__alive = false;\n      }\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\n        componentType !== 'series' && doPrepare(model);\n      }) : ecModel.eachSeries(doPrepare);\n      function doPrepare(model) {\n        // By default view will be reused if possible for the case that `setOption` with \"notMerge\"\n        // mode and need to enable transition animation. (Usually, when they have the same id, or\n        // especially no id but have the same type & name & index. See the `model.id` generation\n        // rule in `makeIdAndName` and `viewId` generation rule here).\n        // But in `replaceMerge` mode, this feature should be able to disabled when it is clear that\n        // the new model has nothing to do with the old model.\n        var requireNewView = model.__requireNewView;\n        // This command should not work twice.\n        model.__requireNewView = false;\n        // Consider: id same and type changed.\n        var viewId = '_ec_' + model.id + '_' + model.type;\n        var view = !requireNewView && viewMap[viewId];\n        if (!view) {\n          var classType = parseClassType(model.type);\n          var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) :\n          // FIXME:TS\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\n          // For backward compat, still support a chart type declared as only subType\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\n          // But need a base class to make a type series.\n          ChartView.getClass(classType.sub);\n          if (process.env.NODE_ENV !== 'production') {\n            assert(Clazz, classType.sub + ' does not exist.');\n          }\n          view = new Clazz();\n          view.init(ecModel, api);\n          viewMap[viewId] = view;\n          viewList.push(view);\n          zr.add(view.group);\n        }\n        model.__viewId = view.__id = viewId;\n        view.__alive = true;\n        view.__model = model;\n        view.group.__ecComponentInfo = {\n          mainType: model.mainType,\n          index: model.componentIndex\n        };\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\n      }\n      for (var i = 0; i < viewList.length;) {\n        var view = viewList[i];\n        if (!view.__alive) {\n          !isComponent && view.renderTask.dispose();\n          zr.remove(view.group);\n          view.dispose(ecModel, api);\n          viewList.splice(i, 1);\n          if (viewMap[view.__id] === view) {\n            delete viewMap[view.__id];\n          }\n          view.__id = view.group.__ecComponentInfo = null;\n        } else {\n          i++;\n        }\n      }\n    };\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\n      var ecModel = ecIns._model;\n      ecModel.setUpdatePayload(payload);\n      // broadcast\n      if (!mainType) {\n        // FIXME\n        // Chart will not be update directly here, except set dirty.\n        // But there is no such scenario now.\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\n        return;\n      }\n      var query = {};\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\n      var condition = {\n        mainType: mainType,\n        query: query\n      };\n      subType && (condition.subType = subType); // subType may be '' by parseClassType;\n      var excludeSeriesId = payload.excludeSeriesId;\n      var excludeSeriesIdMap;\n      if (excludeSeriesId != null) {\n        excludeSeriesIdMap = createHashMap();\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\n          var modelId = modelUtil.convertOptionIdName(id, null);\n          if (modelId != null) {\n            excludeSeriesIdMap.set(modelId, true);\n          }\n        });\n      }\n      // If dispatchAction before setOption, do nothing.\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\n        if (isExcluded) {\n          return;\n        }\n        ;\n        if (isHighDownPayload(payload)) {\n          if (model instanceof SeriesModel) {\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur && !model.get(['emphasis', 'disabled'])) {\n              blurSeriesFromHighlightPayload(model, payload, ecIns._api);\n            }\n          } else {\n            var _a = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api),\n              focusSelf = _a.focusSelf,\n              dispatchers = _a.dispatchers;\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {\n              blurComponent(model.mainType, model.componentIndex, ecIns._api);\n            }\n            // PENDING:\n            // Whether to put this \"enter emphasis\" code in `ComponentView`,\n            // which will be the same as `ChartView` but might be not necessary\n            // and will be far from this logic.\n            if (dispatchers) {\n              each(dispatchers, function (dispatcher) {\n                payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);\n              });\n            }\n          }\n        } else if (isSelectChangePayload(payload)) {\n          // TODO geo\n          if (model instanceof SeriesModel) {\n            toggleSelectionFromPayload(model, payload, ecIns._api);\n            updateSeriesElementSelection(model);\n            markStatusToUpdate(ecIns);\n          }\n        }\n      }, ecIns);\n      ecModel && ecModel.eachComponent(condition, function (model) {\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\n        if (isExcluded) {\n          return;\n        }\n        ;\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n      }, ecIns);\n      function callView(view) {\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n      }\n    };\n    updateMethods = {\n      prepareAndUpdate: function (payload) {\n        prepare(this);\n        updateMethods.update.call(this, payload, {\n          // Needs to mark option changed if newOption is given.\n          // It's from MagicType.\n          // TODO If use a separate flag optionChanged in payload?\n          optionChanged: payload.newOption != null\n        });\n      },\n      update: function (payload, updateParams) {\n        var ecModel = this._model;\n        var api = this._api;\n        var zr = this._zr;\n        var coordSysMgr = this._coordSysMgr;\n        var scheduler = this._scheduler;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        scheduler.restoreData(ecModel, payload);\n        scheduler.performSeriesTasks(ecModel);\n        // TODO\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n        // Create new coordinate system each update\n        // In LineView may save the old coordinate system and use it to get the original point.\n        coordSysMgr.create(ecModel, api);\n        scheduler.performDataProcessorTasks(ecModel, payload);\n        // Current stream render is not supported in data process. So we can update\n        // stream modes after data processing, where the filtered data is used to\n        // determine whether to use progressive rendering.\n        updateStreamModes(this, ecModel);\n        // We update stream modes before coordinate system updated, then the modes info\n        // can be fetched when coord sys updating (consider the barGrid extent fix). But\n        // the drawback is the full coord info can not be fetched. Fortunately this full\n        // coord is not required in stream mode updater currently.\n        coordSysMgr.update(ecModel, api);\n        clearColorPalette(ecModel);\n        scheduler.performVisualTasks(ecModel, payload);\n        render(this, ecModel, api, payload, updateParams);\n        // Set background\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\n        var darkMode = ecModel.get('darkMode');\n        zr.setBackgroundColor(backgroundColor);\n        // Force set dark mode.\n        if (darkMode != null && darkMode !== 'auto') {\n          zr.setDarkMode(darkMode);\n        }\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateTransform: function (payload) {\n        var _this = this;\n        var ecModel = this._model;\n        var api = this._api;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        // ChartView.markUpdateMethod(payload, 'updateTransform');\n        var componentDirtyList = [];\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType === 'series') {\n            return;\n          }\n          var componentView = _this.getViewOfComponentModel(componentModel);\n          if (componentView && componentView.__alive) {\n            if (componentView.updateTransform) {\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n              result && result.update && componentDirtyList.push(componentView);\n            } else {\n              componentDirtyList.push(componentView);\n            }\n          }\n        });\n        var seriesDirtyMap = createHashMap();\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          if (chartView.updateTransform) {\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n          } else {\n            seriesDirtyMap.set(seriesModel.uid, 1);\n          }\n        });\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true,\n          dirtyMap: seriesDirtyMap\n        });\n        // Currently, not call render of components. Geo render cost a lot.\n        // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n        renderSeries(this, ecModel, api, payload, {}, seriesDirtyMap);\n        lifecycle.trigger('afterupdate', ecModel, api);\n      },\n      updateView: function (payload) {\n        var ecModel = this._model;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        ChartView.markUpdateMethod(payload, 'updateView');\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          setDirty: true\n        });\n        render(this, ecModel, this._api, payload, {});\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateVisual: function (payload) {\n        // updateMethods.update.call(this, payload);\n        var _this = this;\n        var ecModel = this._model;\n        // update before setOption\n        if (!ecModel) {\n          return;\n        }\n        ecModel.setUpdatePayload(payload);\n        // clear all visual\n        ecModel.eachSeries(function (seriesModel) {\n          seriesModel.getData().clearAllVisual();\n        });\n        // Perform visual\n        ChartView.markUpdateMethod(payload, 'updateVisual');\n        clearColorPalette(ecModel);\n        // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n        this._scheduler.performVisualTasks(ecModel, payload, {\n          visualType: 'visual',\n          setDirty: true\n        });\n        ecModel.eachComponent(function (componentType, componentModel) {\n          if (componentType !== 'series') {\n            var componentView = _this.getViewOfComponentModel(componentModel);\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\n          }\n        });\n        ecModel.eachSeries(function (seriesModel) {\n          var chartView = _this._chartsMap[seriesModel.__viewId];\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\n        });\n        lifecycle.trigger('afterupdate', ecModel, this._api);\n      },\n      updateLayout: function (payload) {\n        updateMethods.update.call(this, payload);\n      }\n    };\n    doConvertPixel = function (ecIns, methodName, finder, value) {\n      if (ecIns._disposed) {\n        disposedWarning(ecIns.id);\n        return;\n      }\n      var ecModel = ecIns._model;\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\n      var result;\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\n      for (var i = 0; i < coordSysList.length; i++) {\n        var coordSys = coordSysList[i];\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\n          return result;\n        }\n      }\n      if (process.env.NODE_ENV !== 'production') {\n        warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\n      }\n    };\n    updateStreamModes = function (ecIns, ecModel) {\n      var chartsMap = ecIns._chartsMap;\n      var scheduler = ecIns._scheduler;\n      ecModel.eachSeries(function (seriesModel) {\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n      });\n    };\n    doDispatchAction = function (payload, silent) {\n      var _this = this;\n      var ecModel = this.getModel();\n      var payloadType = payload.type;\n      var escapeConnect = payload.escapeConnect;\n      var actionWrap = actions[payloadType];\n      var actionInfo = actionWrap.actionInfo;\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\n      var updateMethod = cptTypeTmp.pop();\n      var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);\n      this[IN_MAIN_PROCESS_KEY] = true;\n      var payloads = [payload];\n      var batched = false;\n      // Batch action\n      if (payload.batch) {\n        batched = true;\n        payloads = map(payload.batch, function (item) {\n          item = defaults(extend({}, item), payload);\n          item.batch = null;\n          return item;\n        });\n      }\n      var eventObjBatch = [];\n      var eventObj;\n      var isSelectChange = isSelectChangePayload(payload);\n      var isHighDown = isHighDownPayload(payload);\n      // Only leave blur once if there are multiple batches.\n      if (isHighDown) {\n        allLeaveBlur(this._api);\n      }\n      each(payloads, function (batchItem) {\n        // Action can specify the event by return it.\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api);\n        // Emit event outside\n        eventObj = eventObj || extend({}, batchItem);\n        // Convert type to eventType\n        eventObj.type = actionInfo.event || eventObj.type;\n        eventObjBatch.push(eventObj);\n        // light update does not perform data process, layout and visual.\n        if (isHighDown) {\n          var _a = modelUtil.preParseFinder(payload),\n            queryOptionMap = _a.queryOptionMap,\n            mainTypeSpecified = _a.mainTypeSpecified;\n          var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : 'series';\n          updateDirectly(_this, updateMethod, batchItem, componentMainType);\n          markStatusToUpdate(_this);\n        } else if (isSelectChange) {\n          // At present `dispatchAction({ type: 'select', ... })` is not supported on components.\n          // geo still use 'geoselect'.\n          updateDirectly(_this, updateMethod, batchItem, 'series');\n          markStatusToUpdate(_this);\n        } else if (cptType) {\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\n        }\n      });\n      if (updateMethod !== 'none' && !isHighDown && !isSelectChange && !cptType) {\n        try {\n          // Still dirty\n          if (this[PENDING_UPDATE]) {\n            prepare(this);\n            updateMethods.update.call(this, payload);\n            this[PENDING_UPDATE] = null;\n          } else {\n            updateMethods[updateMethod].call(this, payload);\n          }\n        } catch (e) {\n          this[IN_MAIN_PROCESS_KEY] = false;\n          throw e;\n        }\n      }\n      // Follow the rule of action batch\n      if (batched) {\n        eventObj = {\n          type: actionInfo.event || payloadType,\n          escapeConnect: escapeConnect,\n          batch: eventObjBatch\n        };\n      } else {\n        eventObj = eventObjBatch[0];\n      }\n      this[IN_MAIN_PROCESS_KEY] = false;\n      if (!silent) {\n        var messageCenter = this._messageCenter;\n        messageCenter.trigger(eventObj.type, eventObj);\n        // Extra triggered 'selectchanged' event\n        if (isSelectChange) {\n          var newObj = {\n            type: 'selectchanged',\n            escapeConnect: escapeConnect,\n            selected: getAllSelectedIndices(ecModel),\n            isFromClick: payload.isFromClick || false,\n            fromAction: payload.type,\n            fromActionPayload: payload\n          };\n          messageCenter.trigger(newObj.type, newObj);\n        }\n      }\n    };\n    flushPendingActions = function (silent) {\n      var pendingActions = this._pendingActions;\n      while (pendingActions.length) {\n        var payload = pendingActions.shift();\n        doDispatchAction.call(this, payload, silent);\n      }\n    };\n    triggerUpdatedEvent = function (silent) {\n      !silent && this.trigger('updated');\n    };\n    /**\r\n     * Event `rendered` is triggered when zr\r\n     * rendered. It is useful for realtime\r\n     * snapshot (reflect animation).\r\n     *\r\n     * Event `finished` is triggered when:\r\n     * (1) zrender rendering finished.\r\n     * (2) initial animation finished.\r\n     * (3) progressive rendering finished.\r\n     * (4) no pending action.\r\n     * (5) no delayed setOption needs to be processed.\r\n     */\n    bindRenderedEvent = function (zr, ecIns) {\n      zr.on('rendered', function (params) {\n        ecIns.trigger('rendered', params);\n        // The `finished` event should not be triggered repeatedly,\n        // so it should only be triggered when rendering indeed happens\n        // in zrender. (Consider the case that dipatchAction is keep\n        // triggering when mouse move).\n        if (\n        // Although zr is dirty if initial animation is not finished\n        // and this checking is called on frame, we also check\n        // animation finished for robustness.\n        zr.animation.isFinished() && !ecIns[PENDING_UPDATE] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n          ecIns.trigger('finished');\n        }\n      });\n    };\n    bindMouseEvent = function (zr, ecIns) {\n      zr.on('mouseover', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n        if (dispatcher) {\n          handleGlobalMouseOverForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('mouseout', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\n        if (dispatcher) {\n          handleGlobalMouseOutForHighDown(dispatcher, e, ecIns._api);\n          markStatusToUpdate(ecIns);\n        }\n      }).on('click', function (e) {\n        var el = e.target;\n        var dispatcher = findEventDispatcher(el, function (target) {\n          return getECData(target).dataIndex != null;\n        }, true);\n        if (dispatcher) {\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\n          var ecData = getECData(dispatcher);\n          ecIns._api.dispatchAction({\n            type: actionType,\n            dataType: ecData.dataType,\n            dataIndexInside: ecData.dataIndex,\n            seriesIndex: ecData.seriesIndex,\n            isFromClick: true\n          });\n        }\n      });\n    };\n    function clearColorPalette(ecModel) {\n      ecModel.clearColorPalette();\n      ecModel.eachSeries(function (seriesModel) {\n        seriesModel.clearColorPalette();\n      });\n    }\n    ;\n    // Allocate zlevels for series and components\n    function allocateZlevels(ecModel) {\n      ;\n      var componentZLevels = [];\n      var seriesZLevels = [];\n      var hasSeparateZLevel = false;\n      ecModel.eachComponent(function (componentType, componentModel) {\n        var zlevel = componentModel.get('zlevel') || 0;\n        var z = componentModel.get('z') || 0;\n        var zlevelKey = componentModel.getZLevelKey();\n        hasSeparateZLevel = hasSeparateZLevel || !!zlevelKey;\n        (componentType === 'series' ? seriesZLevels : componentZLevels).push({\n          zlevel: zlevel,\n          z: z,\n          idx: componentModel.componentIndex,\n          type: componentType,\n          key: zlevelKey\n        });\n      });\n      if (hasSeparateZLevel) {\n        // Series after component\n        var zLevels = componentZLevels.concat(seriesZLevels);\n        var lastSeriesZLevel_1;\n        var lastSeriesKey_1;\n        timsort(zLevels, function (a, b) {\n          if (a.zlevel === b.zlevel) {\n            return a.z - b.z;\n          }\n          return a.zlevel - b.zlevel;\n        });\n        each(zLevels, function (item) {\n          var componentModel = ecModel.getComponent(item.type, item.idx);\n          var zlevel = item.zlevel;\n          var key = item.key;\n          if (lastSeriesZLevel_1 != null) {\n            zlevel = Math.max(lastSeriesZLevel_1, zlevel);\n          }\n          if (key) {\n            if (zlevel === lastSeriesZLevel_1 && key !== lastSeriesKey_1) {\n              zlevel++;\n            }\n            lastSeriesKey_1 = key;\n          } else if (lastSeriesKey_1) {\n            if (zlevel === lastSeriesZLevel_1) {\n              zlevel++;\n            }\n            lastSeriesKey_1 = '';\n          }\n          lastSeriesZLevel_1 = zlevel;\n          componentModel.setZLevel(zlevel);\n        });\n      }\n    }\n    render = function (ecIns, ecModel, api, payload, updateParams) {\n      allocateZlevels(ecModel);\n      renderComponents(ecIns, ecModel, api, payload, updateParams);\n      each(ecIns._chartsViews, function (chart) {\n        chart.__alive = false;\n      });\n      renderSeries(ecIns, ecModel, api, payload, updateParams);\n      // Remove groups of unrendered charts\n      each(ecIns._chartsViews, function (chart) {\n        if (!chart.__alive) {\n          chart.remove(ecModel, api);\n        }\n      });\n    };\n    renderComponents = function (ecIns, ecModel, api, payload, updateParams, dirtyList) {\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\n        var componentModel = componentView.__model;\n        clearStates(componentModel, componentView);\n        componentView.render(componentModel, ecModel, api, payload);\n        updateZ(componentModel, componentView);\n        updateStates(componentModel, componentView);\n      });\n    };\n    /**\r\n     * Render each chart and component\r\n     */\n    renderSeries = function (ecIns, ecModel, api, payload, updateParams, dirtyMap) {\n      // Render all charts\n      var scheduler = ecIns._scheduler;\n      updateParams = extend(updateParams || {}, {\n        updatedSeries: ecModel.getSeries()\n      });\n      // TODO progressive?\n      lifecycle.trigger('series:beforeupdate', ecModel, api, updateParams);\n      var unfinished = false;\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        chartView.__alive = true;\n        var renderTask = chartView.renderTask;\n        scheduler.updatePayload(renderTask, payload);\n        // TODO states on marker.\n        clearStates(seriesModel, chartView);\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n          renderTask.dirty();\n        }\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\n          unfinished = true;\n        }\n        chartView.group.silent = !!seriesModel.get('silent');\n        // Should not call markRedraw on group, because it will disable zrender\n        // incremental render (always render from the __startIndex each frame)\n        // chartView.group.markRedraw();\n        updateBlend(seriesModel, chartView);\n        updateSeriesElementSelection(seriesModel);\n      });\n      scheduler.unfinished = unfinished || scheduler.unfinished;\n      lifecycle.trigger('series:layoutlabels', ecModel, api, updateParams);\n      // transition after label is layouted.\n      lifecycle.trigger('series:transition', ecModel, api, updateParams);\n      ecModel.eachSeries(function (seriesModel) {\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\n        // Update Z after labels updated. Before applying states.\n        updateZ(seriesModel, chartView);\n        // NOTE: Update states after label is updated.\n        // label should be in normal status when layouting.\n        updateStates(seriesModel, chartView);\n      });\n      // If use hover layer\n      updateHoverLayerStatus(ecIns, ecModel);\n      lifecycle.trigger('series:afterupdate', ecModel, api, updateParams);\n    };\n    markStatusToUpdate = function (ecIns) {\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true;\n      // Wake up zrender if it's sleep. Let it update states in the next frame.\n      ecIns.getZr().wakeUp();\n    };\n    applyChangedStates = function (ecIns) {\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\n        return;\n      }\n      ecIns.getZr().storage.traverse(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        applyElementStates(el);\n      });\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\n    };\n    function applyElementStates(el) {\n      var newStates = [];\n      var oldStates = el.currentStates;\n      // Keep other states.\n      for (var i = 0; i < oldStates.length; i++) {\n        var stateName = oldStates[i];\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\n          newStates.push(stateName);\n        }\n      }\n      // Only use states when it's exists.\n      if (el.selected && el.states.select) {\n        newStates.push('select');\n      }\n      if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {\n        newStates.push('emphasis');\n      } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {\n        newStates.push('blur');\n      }\n      el.useStates(newStates);\n    }\n    function updateHoverLayerStatus(ecIns, ecModel) {\n      var zr = ecIns._zr;\n      var storage = zr.storage;\n      var elCount = 0;\n      storage.traverse(function (el) {\n        if (!el.isGroup) {\n          elCount++;\n        }\n      });\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env.node && !env.worker) {\n        ecModel.eachSeries(function (seriesModel) {\n          if (seriesModel.preventUsingHoverLayer) {\n            return;\n          }\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\n          if (chartView.__alive) {\n            chartView.eachRendered(function (el) {\n              if (el.states.emphasis) {\n                el.states.emphasis.hoverLayer = true;\n              }\n            });\n          }\n        });\n      }\n    }\n    ;\n    /**\r\n     * Update chart and blend.\r\n     */\n    function updateBlend(seriesModel, chartView) {\n      var blendMode = seriesModel.get('blendMode') || null;\n      chartView.eachRendered(function (el) {\n        // FIXME marker and other components\n        if (!el.isGroup) {\n          // DON'T mark the element dirty. In case element is incremental and don't want to rerender.\n          el.style.blend = blendMode;\n        }\n      });\n    }\n    ;\n    function updateZ(model, view) {\n      if (model.preventAutoZ) {\n        return;\n      }\n      var z = model.get('z') || 0;\n      var zlevel = model.get('zlevel') || 0;\n      // Set z and zlevel\n      view.eachRendered(function (el) {\n        doUpdateZ(el, z, zlevel, -Infinity);\n        // Don't traverse the children because it has been traversed in _updateZ.\n        return true;\n      });\n    }\n    ;\n    function doUpdateZ(el, z, zlevel, maxZ2) {\n      // Group may also have textContent\n      var label = el.getTextContent();\n      var labelLine = el.getTextGuideLine();\n      var isGroup = el.isGroup;\n      if (isGroup) {\n        // set z & zlevel of children elements of Group\n        var children = el.childrenRef();\n        for (var i = 0; i < children.length; i++) {\n          maxZ2 = Math.max(doUpdateZ(children[i], z, zlevel, maxZ2), maxZ2);\n        }\n      } else {\n        // not Group\n        el.z = z;\n        el.zlevel = zlevel;\n        maxZ2 = Math.max(el.z2, maxZ2);\n      }\n      // always set z and zlevel if label/labelLine exists\n      if (label) {\n        label.z = z;\n        label.zlevel = zlevel;\n        // lift z2 of text content\n        // TODO if el.emphasis.z2 is spcefied, what about textContent.\n        isFinite(maxZ2) && (label.z2 = maxZ2 + 2);\n      }\n      if (labelLine) {\n        var textGuideLineConfig = el.textGuideLineConfig;\n        labelLine.z = z;\n        labelLine.zlevel = zlevel;\n        isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));\n      }\n      return maxZ2;\n    }\n    // Clear states without animation.\n    // TODO States on component.\n    function clearStates(model, view) {\n      view.eachRendered(function (el) {\n        // Not applied on removed elements, it may still in fading.\n        if (graphic.isElementRemoved(el)) {\n          return;\n        }\n        var textContent = el.getTextContent();\n        var textGuide = el.getTextGuideLine();\n        if (el.stateTransition) {\n          el.stateTransition = null;\n        }\n        if (textContent && textContent.stateTransition) {\n          textContent.stateTransition = null;\n        }\n        if (textGuide && textGuide.stateTransition) {\n          textGuide.stateTransition = null;\n        }\n        // TODO If el is incremental.\n        if (el.hasState()) {\n          el.prevStates = el.currentStates;\n          el.clearStates();\n        } else if (el.prevStates) {\n          el.prevStates = null;\n        }\n      });\n    }\n    function updateStates(model, view) {\n      var stateAnimationModel = model.getModel('stateAnimation');\n      var enableAnimation = model.isAnimationEnabled();\n      var duration = stateAnimationModel.get('duration');\n      var stateTransition = duration > 0 ? {\n        duration: duration,\n        delay: stateAnimationModel.get('delay'),\n        easing: stateAnimationModel.get('easing')\n        // additive: stateAnimationModel.get('additive')\n      } : null;\n      view.eachRendered(function (el) {\n        if (el.states && el.states.emphasis) {\n          // Not applied on removed elements, it may still in fading.\n          if (graphic.isElementRemoved(el)) {\n            return;\n          }\n          if (el instanceof graphic.Path) {\n            savePathStates(el);\n          }\n          // Only updated on changed element. In case element is incremental and don't want to rerender.\n          // TODO, a more proper way?\n          if (el.__dirty) {\n            var prevStates = el.prevStates;\n            // Restore states without animation\n            if (prevStates) {\n              el.useStates(prevStates);\n            }\n          }\n          // Update state transition and enable animation again.\n          if (enableAnimation) {\n            el.stateTransition = stateTransition;\n            var textContent = el.getTextContent();\n            var textGuide = el.getTextGuideLine();\n            // TODO Is it necessary to animate label?\n            if (textContent) {\n              textContent.stateTransition = stateTransition;\n            }\n            if (textGuide) {\n              textGuide.stateTransition = stateTransition;\n            }\n          }\n          // Use highlighted and selected flag to toggle states.\n          if (el.__dirty) {\n            applyElementStates(el);\n          }\n        }\n      });\n    }\n    ;\n    createExtensionAPI = function (ecIns) {\n      return new (/** @class */function (_super) {\n        __extends(class_1, _super);\n        function class_1() {\n          return _super !== null && _super.apply(this, arguments) || this;\n        }\n        class_1.prototype.getCoordinateSystems = function () {\n          return ecIns._coordSysMgr.getCoordinateSystems();\n        };\n        class_1.prototype.getComponentByElement = function (el) {\n          while (el) {\n            var modelInfo = el.__ecComponentInfo;\n            if (modelInfo != null) {\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\n            }\n            el = el.parent;\n          }\n        };\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\n          enterEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\n          leaveEmphasis(el, highlightDigit);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterBlur = function (el) {\n          enterBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveBlur = function (el) {\n          leaveBlur(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.enterSelect = function (el) {\n          enterSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.leaveSelect = function (el) {\n          leaveSelect(el);\n          markStatusToUpdate(ecIns);\n        };\n        class_1.prototype.getModel = function () {\n          return ecIns.getModel();\n        };\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\n          return ecIns.getViewOfComponentModel(componentModel);\n        };\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\n          return ecIns.getViewOfSeriesModel(seriesModel);\n        };\n        return class_1;\n      }(ExtensionAPI))(ecIns);\n    };\n    enableConnect = function (chart) {\n      function updateConnectedChartsStatus(charts, status) {\n        for (var i = 0; i < charts.length; i++) {\n          var otherChart = charts[i];\n          otherChart[CONNECT_STATUS_KEY] = status;\n        }\n      }\n      each(eventActionMap, function (actionType, eventType) {\n        chart._messageCenter.on(eventType, function (event) {\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\n            if (event && event.escapeConnect) {\n              return;\n            }\n            var action_1 = chart.makeActionFromEvent(event);\n            var otherCharts_1 = [];\n            each(instances, function (otherChart) {\n              if (otherChart !== chart && otherChart.group === chart.group) {\n                otherCharts_1.push(otherChart);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\n            each(otherCharts_1, function (otherChart) {\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\n                otherChart.dispatchAction(action_1);\n              }\n            });\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\n          }\n        });\n      });\n    };\n  }();\n  return ECharts;\n}(Eventful);\nvar echartsProto = ECharts.prototype;\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\n/**\r\n * @deprecated\r\n */\n// @ts-ignore\nechartsProto.one = function (eventName, cb, ctx) {\n  var self = this;\n  deprecateLog('ECharts#one is deprecated.');\n  function wrapped() {\n    var args2 = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n      args2[_i] = arguments[_i];\n    }\n    cb && cb.apply && cb.apply(this, args2);\n    // @ts-ignore\n    self.off(eventName, wrapped);\n  }\n  ;\n  // @ts-ignore\n  this.on.call(this, eventName, wrapped, ctx);\n};\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\nfunction disposedWarning(id) {\n  if (process.env.NODE_ENV !== 'production') {\n    warn('Instance ' + id + ' has been disposed');\n  }\n}\nvar actions = {};\n/**\r\n * Map eventType to actionType\r\n */\nvar eventActionMap = {};\nvar dataProcessorFuncs = [];\nvar optionPreprocessorFuncs = [];\nvar visualFuncs = [];\nvar themeStorage = {};\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = +new Date() - 0;\nvar groupIdBase = +new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n/**\r\n * @param opts.devicePixelRatio Use window.devicePixelRatio by default\r\n * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.\r\n * @param opts.width Use clientWidth of the input `dom` by default.\r\n *        Can be 'auto' (the same as null/undefined)\r\n * @param opts.height Use clientHeight of the input `dom` by default.\r\n *        Can be 'auto' (the same as null/undefined)\r\n * @param opts.locale Specify the locale.\r\n * @param opts.useDirtyRect Enable dirty rectangle rendering or not.\r\n */\nexport function init(dom, theme, opts) {\n  var isClient = !(opts && opts.ssr);\n  if (isClient) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (!dom) {\n        throw new Error('Initialize failed: invalid dom.');\n      }\n    }\n    var existInstance = getInstanceByDom(dom);\n    if (existInstance) {\n      if (process.env.NODE_ENV !== 'production') {\n        warn('There is a chart instance already initialized on the dom.');\n      }\n      return existInstance;\n    }\n    if (process.env.NODE_ENV !== 'production') {\n      if (isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\n        warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\n      }\n    }\n  }\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  isClient && modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  lifecycle.trigger('afterinit', chart);\n  return chart;\n}\n/**\r\n * @usage\r\n * (A)\r\n * ```js\r\n * let chart1 = echarts.init(dom1);\r\n * let chart2 = echarts.init(dom2);\r\n * chart1.group = 'xxx';\r\n * chart2.group = 'xxx';\r\n * echarts.connect('xxx');\r\n * ```\r\n * (B)\r\n * ```js\r\n * let chart1 = echarts.init(dom1);\r\n * let chart2 = echarts.init(dom2);\r\n * echarts.connect('xxx', [chart1, chart2]);\r\n * ```\r\n */\nexport function connect(groupId) {\n  // Is array of charts\n  if (isArray(groupId)) {\n    var charts = groupId;\n    groupId = null;\n    // If any chart has group\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n  connectedGroups[groupId] = true;\n  return groupId;\n}\nexport function disconnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\r\n * Alias and backward compatibility\r\n * @deprecated\r\n */\nexport var disConnect = disconnect;\n/**\r\n * Dispose a chart instance\r\n */\nexport function dispose(chart) {\n  if (isString(chart)) {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\nexport function getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\nexport function getInstanceById(key) {\n  return instances[key];\n}\n/**\r\n * Register theme\r\n */\nexport function registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\r\n * Register option preprocessor\r\n */\nexport function registerPreprocessor(preprocessorFunc) {\n  if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {\n    optionPreprocessorFuncs.push(preprocessorFunc);\n  }\n}\nexport function registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\n}\n/**\r\n * Register postIniter\r\n * @param {Function} postInitFunc\r\n */\nexport function registerPostInit(postInitFunc) {\n  registerUpdateLifecycle('afterinit', postInitFunc);\n}\n/**\r\n * Register postUpdater\r\n * @param {Function} postUpdateFunc\r\n */\nexport function registerPostUpdate(postUpdateFunc) {\n  registerUpdateLifecycle('afterupdate', postUpdateFunc);\n}\nexport function registerUpdateLifecycle(name, cb) {\n  lifecycle.on(name, cb);\n}\nexport function registerAction(actionInfo, eventName, action) {\n  if (isFunction(eventName)) {\n    action = eventName;\n    eventName = '';\n  }\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0];\n  // Event name is all lowercase\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event;\n  if (eventActionMap[eventName]) {\n    // Already registered.\n    return;\n  }\n  // Validate action type and event name.\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n  eventActionMap[eventName] = actionType;\n}\nexport function registerCoordinateSystem(type, coordSysCreator) {\n  CoordinateSystemManager.register(type, coordSysCreator);\n}\n/**\r\n * Get dimensions of specified coordinate system.\r\n * @param {string} type\r\n * @return {Array.<string|Object>}\r\n */\nexport function getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\nexport { registerLocale } from './locale.js';\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\nexport { registerLayout, registerVisual };\nvar registeredTasks = [];\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    if (isNaN(priority) || priority == null) {\n      throw new Error('Illegal priority');\n    }\n    // Check duplicate\n    each(targetList, function (wrap) {\n      assert(wrap.__raw !== fn);\n    });\n  }\n  // Already registered\n  if (indexOf(registeredTasks, fn) >= 0) {\n    return;\n  }\n  registeredTasks.push(fn);\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n}\nexport function registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\r\n * ZRender need a canvas context to do measureText.\r\n * But in node environment canvas may be created by node-canvas.\r\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\r\n *\r\n *\r\n * @deprecated use setPlatformAPI({ createCanvas }) instead.\r\n *\r\n * @example\r\n *     let Canvas = require('canvas');\r\n *     let echarts = require('echarts');\r\n *     echarts.setCanvasCreator(function () {\r\n *         // Small size is enough.\r\n *         return new Canvas(32, 32);\r\n *     });\r\n */\nexport function setCanvasCreator(creator) {\n  if (process.env.NODE_ENV !== 'production') {\n    deprecateLog('setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.');\n  }\n  setPlatformAPI({\n    createCanvas: creator\n  });\n}\n/**\r\n * The parameters and usage: see `geoSourceManager.registerMap`.\r\n * Compatible with previous `echarts.registerMap`.\r\n */\nexport function registerMap(mapName, geoJson, specialAreas) {\n  var registerMap = getImpl('registerMap');\n  registerMap && registerMap(mapName, geoJson, specialAreas);\n}\nexport function getMap(mapName) {\n  var getMap = getImpl('getMap');\n  return getMap && getMap(mapName);\n}\nexport var registerTransform = registerExternalTransform;\n/**\r\n * Globa dispatchAction to a specified chart instance.\r\n */\n// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {\n//     if (!payload || !payload.chartId) {\n//         // Must have chartId to find chart\n//         return;\n//     }\n//     const chart = instances[payload.chartId];\n//     if (chart) {\n//         chart.dispatchAction(payload, opt);\n//     }\n// }\n// Builtin global visual\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);\nregisterVisual(PRIORITY_VISUAL_DECAL, decal);\nregisterPreprocessor(backwardCompat);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\nregisterLoading('default', loadingDefault);\n// Default actions\nregisterAction({\n  type: HIGHLIGHT_ACTION_TYPE,\n  event: HIGHLIGHT_ACTION_TYPE,\n  update: HIGHLIGHT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: DOWNPLAY_ACTION_TYPE,\n  event: DOWNPLAY_ACTION_TYPE,\n  update: DOWNPLAY_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: SELECT_ACTION_TYPE,\n  event: SELECT_ACTION_TYPE,\n  update: SELECT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: UNSELECT_ACTION_TYPE,\n  event: UNSELECT_ACTION_TYPE,\n  update: UNSELECT_ACTION_TYPE\n}, noop);\nregisterAction({\n  type: TOGGLE_SELECT_ACTION_TYPE,\n  event: TOGGLE_SELECT_ACTION_TYPE,\n  update: TOGGLE_SELECT_ACTION_TYPE\n}, noop);\n// Default theme\nregisterTheme('light', lightTheme);\nregisterTheme('dark', darkTheme);\n// For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\nexport var dataTool = {};", "\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\nimport { registerPreprocessor, registerProcessor, registerPostInit, registerPostUpdate, registerAction, registerCoordinateSystem, registerLayout, registerVisual, registerTransform, registerLoading, registerMap, registerUpdateLifecycle, PRIORITY } from './core/echarts.js';\nimport ComponentView from './view/Component.js';\nimport ChartView from './view/Chart.js';\nimport ComponentModel from './model/Component.js';\nimport SeriesModel from './model/Series.js';\nimport { isFunction, indexOf, isArray, each } from 'zrender/lib/core/util.js';\nimport { registerImpl } from './core/impl.js';\nimport { registerPainter } from 'zrender/lib/zrender.js';\nvar extensions = [];\nvar extensionRegisters = {\n  registerPreprocessor: registerPreprocessor,\n  registerProcessor: registerProcessor,\n  registerPostInit: registerPostInit,\n  registerPostUpdate: registerPostUpdate,\n  registerUpdateLifecycle: registerUpdateLifecycle,\n  registerAction: registerAction,\n  registerCoordinateSystem: registerCoordinateSystem,\n  registerLayout: registerLayout,\n  registerVisual: registerVisual,\n  registerTransform: registerTransform,\n  registerLoading: registerLoading,\n  registerMap: registerMap,\n  registerImpl: registerImpl,\n  PRIORITY: PRIORITY,\n  ComponentModel: ComponentModel,\n  ComponentView: ComponentView,\n  SeriesModel: SeriesModel,\n  ChartView: ChartView,\n  // TODO Use ComponentModel and SeriesModel instead of Constructor\n  registerComponentModel: function (ComponentModelClass) {\n    ComponentModel.registerClass(ComponentModelClass);\n  },\n  registerComponentView: function (ComponentViewClass) {\n    ComponentView.registerClass(ComponentViewClass);\n  },\n  registerSeriesModel: function (SeriesModelClass) {\n    SeriesModel.registerClass(SeriesModelClass);\n  },\n  registerChartView: function (ChartViewClass) {\n    ChartView.registerClass(ChartViewClass);\n  },\n  registerSubTypeDefaulter: function (componentType, defaulter) {\n    ComponentModel.registerSubTypeDefaulter(componentType, defaulter);\n  },\n  registerPainter: function (painterType, PainterCtor) {\n    registerPainter(painterType, PainterCtor);\n  }\n};\nexport function use(ext) {\n  if (isArray(ext)) {\n    // use([ChartLine, ChartBar]);\n    each(ext, function (singleExt) {\n      use(singleExt);\n    });\n    return;\n  }\n  if (indexOf(extensions, ext) >= 0) {\n    return;\n  }\n  extensions.push(ext);\n  if (isFunction(ext)) {\n    ext = {\n      install: ext\n    };\n  }\n  ext.install(extensionRegisters);\n}"],
  "mappings": "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",
  "names": ["Param", "Draggable", "GestureMgr", "dist", "EmptyProxy", "HoveredResult", "Handler", "compare", "Storage", "Animation", "FakeGlobalEvent", "DOMHandlerScope", "HandlerDomProxy", "backgroundColor", "ZRender", "ComponentModel", "PaletteMixin", "inner", "DefaultDataProvider", "_a", "DataFormatMixin", "isSeries", "Task", "FilterOrderComparator", "SortOrderComparator", "FilterEqualityComparator", "ExternalSource", "errMsg", "DataStore", "dim", "dist", "SourceManager", "errMsg", "datasetModel", "subMarkupText", "_a", "TooltipMarkupStyleCreator", "isValueMultipleLine", "inner", "SeriesModel", "_a", "_b", "ComponentView", "Component_default", "inner", "ChartView", "inner", "_a", "GlobalModel", "theme", "optionPreprocessorFuncs", "cmpts", "i", "cmpt", "ExtensionAPI", "CoordinateSystemManager", "OptionManager", "optionPreprocessorFuncs", "each", "isObject", "seriesType", "option", "inner", "getStyle", "colorPalette", "data", "Scheduler", "opt", "seriesType", "ECEventProcessor", "query", "data", "i", "symbolPropName", "seriesType", "WeakMap", "innerColor", "pattern", "keys", "i", "warn", "x", "y", "width", "height", "decal", "version", "MessageCenter", "ECharts", "theme", "instances", "chart", "view", "Component_default", "_a", "backgroundColor", "_super", "init", "dispose", "registerMap", "getMap", "Component_default"]
}
